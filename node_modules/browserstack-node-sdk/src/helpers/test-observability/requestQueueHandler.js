const a85_0x8b56c9=a85_0x4a20;(function(_0x37d962,_0x49dcdf){const _0xc9ee96=a85_0x4a20,_0x2d2a30=_0x37d962();while(!![]){try{const _0x1ab9bf=parseInt(_0xc9ee96(0x106))/0x1+parseInt(_0xc9ee96(0xbb))/0x2*(parseInt(_0xc9ee96(0xaf))/0x3)+-parseInt(_0xc9ee96(0xdb))/0x4*(parseInt(_0xc9ee96(0x9e))/0x5)+-parseInt(_0xc9ee96(0xb2))/0x6+-parseInt(_0xc9ee96(0xb0))/0x7*(parseInt(_0xc9ee96(0x102))/0x8)+-parseInt(_0xc9ee96(0xfb))/0x9*(parseInt(_0xc9ee96(0xaa))/0xa)+parseInt(_0xc9ee96(0xb7))/0xb;if(_0x1ab9bf===_0x49dcdf)break;else _0x2d2a30['push'](_0x2d2a30['shift']());}catch(_0x2aee8d){_0x2d2a30['push'](_0x2d2a30['shift']());}}}(a85_0x53c5,0xeafc4));const {BATCH_SIZE,BATCH_INTERVAL,DEFAULT_WAIT_TIMEOUT_FOR_PENDING_UPLOADS,DEFAULT_WAIT_INTERVAL_FOR_PENDING_UPLOADS}=require(a85_0x8b56c9(0x103)),{nodeRequest,debug,trace,sleep,getDefaultHeaders}=require(a85_0x8b56c9(0xdd)),{nestedKeyValue}=require(a85_0x8b56c9(0xd7)),util=require(a85_0x8b56c9(0xff));class RequestQueueHandler{static [a85_0x8b56c9(0xa4)];[a85_0x8b56c9(0x9b)]=0x0;constructor(){const _0x433152=a85_0x8b56c9,_0x1f210e={};_0x1f210e[_0x433152(0xe9)]='2|4|0|1|5|3',_0x1f210e[_0x433152(0xd1)]=_0x433152(0x101),_0x1f210e[_0x433152(0x98)]='api/v1/screenshots',_0x1f210e[_0x433152(0xcc)]=_0x433152(0xb8),_0x1f210e[_0x433152(0x9d)]=_0x433152(0xdc),_0x1f210e[_0x433152(0xa0)]=_0x433152(0xd3),_0x1f210e[_0x433152(0x104)]=_0x433152(0xd6),_0x1f210e[_0x433152(0xba)]=_0x433152(0x9f),_0x1f210e[_0x433152(0xc0)]='TestRunStarted',_0x1f210e['gloSR']=_0x433152(0xd9);const _0x16c008=_0x1f210e,_0x3c8cce=_0x16c008[_0x433152(0xe9)]['split']('|');let _0x4f7f61=0x0;while(!![]){switch(_0x3c8cce[_0x4f7f61++]){case'0':this[_0x433152(0x99)]=_0x16c008[_0x433152(0xd1)];continue;case'1':this[_0x433152(0xe3)]=_0x16c008['MBiJW'];continue;case'2':this[_0x433152(0xef)]=[];continue;case'3':this[_0x433152(0xf2)]=null;continue;case'4':this['started']=![];continue;case'5':this['BATCH_EVENT_TYPES']=[_0x16c008[_0x433152(0xcc)],_0x16c008['DsjpY'],_0x16c008[_0x433152(0xa0)],_0x16c008[_0x433152(0x104)],_0x16c008[_0x433152(0xba)],_0x16c008['BQOfD'],_0x16c008[_0x433152(0xc1)]];continue;}break;}}static[a85_0x8b56c9(0xbc)](){const _0x1b338b=a85_0x8b56c9;return!RequestQueueHandler[_0x1b338b(0xa4)]&&(RequestQueueHandler[_0x1b338b(0xa4)]=new RequestQueueHandler()),RequestQueueHandler[_0x1b338b(0xa4)];}['start']=()=>{const _0x305c41=a85_0x8b56c9;!this[_0x305c41(0xfd)]&&(this[_0x305c41(0xfd)]=!![],this[_0x305c41(0xe6)]());};[a85_0x8b56c9(0xa5)]=_0x327df7=>{const _0x1889d2=a85_0x8b56c9,_0x19e623={'jTImY':function(_0x3ee95d,_0x12ffc5){return _0x3ee95d===_0x12ffc5;},'pxaTn':_0x1889d2(0xf4),'TNCrO':function(_0x3eff26,_0x2f4c3b){return _0x3eff26(_0x2f4c3b);},'XUDFG':_0x1889d2(0xcd)};if(this['BATCH_EVENT_TYPES'][_0x1889d2(0xb4)](_0x327df7[_0x1889d2(0xec)])){if(_0x327df7['logs']&&_0x327df7[_0x1889d2(0xd0)][0x0]&&_0x19e623[_0x1889d2(0xe2)](_0x327df7[_0x1889d2(0xd0)][0x0]['kind'],_0x19e623[_0x1889d2(0xf9)])){const _0x2af5c5={};return _0x2af5c5[_0x1889d2(0xce)]=!![],_0x2af5c5[_0x1889d2(0xcf)]=[_0x327df7],_0x2af5c5[_0x1889d2(0xa2)]=this['screenshotEventUrl'],_0x2af5c5;}this[_0x1889d2(0xef)][_0x1889d2(0xa9)](_0x327df7);let _0x217837=null;const _0x3bdd72=this[_0x1889d2(0xce)]();_0x3bdd72&&(_0x19e623[_0x1889d2(0xf3)](trace,_0x19e623[_0x1889d2(0xca)]),_0x217837=this[_0x1889d2(0xef)][_0x1889d2(0xde)](0x0,BATCH_SIZE),this['queue'][_0x1889d2(0xd2)](0x0,BATCH_SIZE),this['resetEventBatchPolling']());const _0x45161a={};return _0x45161a[_0x1889d2(0xce)]=_0x3bdd72,_0x45161a['proceedWithData']=_0x217837,_0x45161a[_0x1889d2(0xa2)]=this[_0x1889d2(0x99)],_0x45161a;}const _0x25fb37={};return _0x25fb37[_0x1889d2(0xce)]=!![],_0x25fb37;};[a85_0x8b56c9(0xc6)]=async()=>{const _0xc4e242=a85_0x8b56c9,_0x5a355c={'bnrXE':_0xc4e242(0xeb),'BcmIC':function(_0x1d6c2c,_0x24d620){return _0x1d6c2c>_0x24d620;},'VkWTQ':'Shutdown-Queue','vpjJV':function(_0x12c56d,_0x17a7af){return _0x12c56d(_0x17a7af);}};await this[_0xc4e242(0x97)](),this[_0xc4e242(0xbd)](_0x5a355c['bnrXE']);while(_0x5a355c[_0xc4e242(0xac)](this[_0xc4e242(0xef)][_0xc4e242(0x9a)],0x0)){const _0x4a0c41=this[_0xc4e242(0xef)][_0xc4e242(0xde)](0x0,BATCH_SIZE);this[_0xc4e242(0xef)][_0xc4e242(0xd2)](0x0,BATCH_SIZE),await this[_0xc4e242(0x9c)](this[_0xc4e242(0x99)],_0x5a355c['VkWTQ'],_0x4a0c41);}_0x5a355c[_0xc4e242(0xac)](this[_0xc4e242(0x9b)],0x0)&&_0x5a355c['vpjJV'](debug,_0xc4e242(0xc9)+this[_0xc4e242(0x9b)]);};['batchAndPostEvents']=async(_0x396db2,_0x469126,_0x60e64c)=>{const _0x549c2d=a85_0x8b56c9,_0xc3ce={'agBMg':function(_0x15e8d7,_0xfdf3c7){return _0x15e8d7(_0xfdf3c7);},'GGVEK':_0x549c2d(0xa3),'JKUIN':function(_0x402405,_0x433703){return _0x402405(_0x433703);},'IpsVS':function(_0x2dbc06){return _0x2dbc06();},'jkvsG':function(_0x5ca566,_0x4457e6,_0x2eef92,_0x53414e,_0x38d352){return _0x5ca566(_0x4457e6,_0x2eef92,_0x53414e,_0x38d352);},'OwUhT':_0x549c2d(0xf8),'AkUQr':function(_0x2ddc43,_0x4c575a){return _0x2ddc43(_0x4c575a);},'DhEUr':function(_0x59fdaf,_0x18003d){return _0x59fdaf-_0x18003d;},'nipCz':function(_0xb75737,_0x4693bf){return _0xb75737(_0x4693bf);},'aWwZh':function(_0x507bf8,_0x38b707){return _0x507bf8(_0x38b707);},'VVaVm':function(_0xb072e5,_0x49d9cb){return _0xb072e5-_0x49d9cb;}};let _0x5769f2='';try{_0x5769f2=_0x60e64c['map'](_0x2ce78f=>'\x27'+_0x2ce78f[_0x549c2d(0xec)]+'\x27:'+(nestedKeyValue(_0x2ce78f,[_0x549c2d(0xa7),_0x549c2d(0xcb)])||nestedKeyValue(_0x2ce78f,[_0x549c2d(0xc3),_0x549c2d(0xcb)])))[_0x549c2d(0xc2)](','),_0xc3ce[_0x549c2d(0xe7)](debug,_0x549c2d(0xea)+_0x469126+_0x549c2d(0xe5)+Buffer[_0x549c2d(0xb5)](util['format']('%j',_0x60e64c),_0xc3ce[_0x549c2d(0xe4)])+_0x549c2d(0xc7)+_0x5769f2);}catch(_0xe72be0){_0xc3ce[_0x549c2d(0xbf)](debug,_0x549c2d(0xf1)+util[_0x549c2d(0xee)](_0xe72be0)+'}');}const _0x266710={'headers':_0xc3ce['IpsVS'](getDefaultHeaders)};try{const _0x1ec8da=await _0xc3ce[_0x549c2d(0xa8)](nodeRequest,_0xc3ce[_0x549c2d(0xe1)],_0x396db2,_0x60e64c,_0x266710);if(_0x1ec8da['data'][_0x549c2d(0xb3)]){const _0x45b483={};_0x45b483[_0x549c2d(0xf5)]=_0x1ec8da[_0x549c2d(0xa1)]['error'];throw _0x45b483;}else _0xc3ce['AkUQr'](debug,_0x469126+_0x549c2d(0xc4)+_0x5769f2+_0x549c2d(0xf7)+util['format']('%j',_0x1ec8da['data'])),this[_0x549c2d(0x9b)]=Math[_0x549c2d(0x100)](0x0,_0xc3ce[_0x549c2d(0x105)](this[_0x549c2d(0x9b)],_0x60e64c[_0x549c2d(0x9a)]));}catch(_0x1c4ae5){_0x1c4ae5[_0x549c2d(0xc5)]?_0xc3ce[_0x549c2d(0xc8)](debug,_0x549c2d(0xdf)+_0x469126+_0x549c2d(0xb9)+_0x1c4ae5[_0x549c2d(0xc5)][_0x549c2d(0xfe)]+'\x20'+_0x1c4ae5[_0x549c2d(0xc5)][_0x549c2d(0xda)]+'\x20'+JSON[_0x549c2d(0xe0)](_0x1c4ae5[_0x549c2d(0xc5)])):_0xc3ce['aWwZh'](debug,_0x549c2d(0xdf)+_0x469126+_0x549c2d(0xb9)+(_0x1c4ae5[_0x549c2d(0xf5)]||_0x1c4ae5)),this[_0x549c2d(0x9b)]=Math['max'](0x0,_0xc3ce[_0x549c2d(0xd8)](this[_0x549c2d(0x9b)],_0x60e64c[_0x549c2d(0x9a)]));}};[a85_0x8b56c9(0xe6)]=()=>{const _0x18b764=a85_0x8b56c9,_0x2e894a={'ScThL':function(_0x2f1a38,_0x45a0f2){return _0x2f1a38>_0x45a0f2;},'eraTV':function(_0x37f630,_0x15da9a){return _0x37f630(_0x15da9a);},'VvBXw':_0x18b764(0xd4),'GrNaj':function(_0x482acc,_0x133824){return _0x482acc(_0x133824);},'KDEFW':function(_0x835b44,_0x1a67ce,_0x290b75){return _0x835b44(_0x1a67ce,_0x290b75);}};this[_0x18b764(0xf2)]=_0x2e894a[_0x18b764(0xbe)](setInterval,async()=>{const _0x592c13=_0x18b764;if(_0x2e894a[_0x592c13(0xf0)](this[_0x592c13(0xef)][_0x592c13(0x9a)],0x0)){_0x2e894a['eraTV'](trace,'Processing\x20events.\x20Queue\x20Length\x20-\x20'+this['queue'][_0x592c13(0x9a)]);const _0xc9796a=this['queue'][_0x592c13(0xde)](0x0,BATCH_SIZE);this[_0x592c13(0xef)]['splice'](0x0,BATCH_SIZE),await this[_0x592c13(0x9c)](this['eventUrl'],_0x2e894a[_0x592c13(0xa6)],_0xc9796a),_0x2e894a[_0x592c13(0xed)](trace,'Remaining\x20Queue\x20Length\x20-\x20'+this[_0x592c13(0xef)][_0x592c13(0x9a)]);}},BATCH_INTERVAL);};['resetEventBatchPolling']=()=>{const _0x3a9d7d=a85_0x8b56c9,_0x2514c3={};_0x2514c3[_0x3a9d7d(0xd5)]=_0x3a9d7d(0xab);const _0xb20350=_0x2514c3;this[_0x3a9d7d(0xbd)](_0xb20350[_0x3a9d7d(0xd5)]),this[_0x3a9d7d(0xe6)]();};[a85_0x8b56c9(0xbd)]=_0x1be06d=>{const _0x3ebb9b=a85_0x8b56c9,_0x2b8bbd={'ZHJmB':function(_0x12a9f3,_0x5b015c){return _0x12a9f3(_0x5b015c);},'fcekn':function(_0x570137,_0x484719){return _0x570137===_0x484719;},'WEFaX':_0x3ebb9b(0xeb)};this[_0x3ebb9b(0xf2)]&&(_0x2b8bbd[_0x3ebb9b(0xad)](clearInterval,this[_0x3ebb9b(0xf2)]),this[_0x3ebb9b(0xf2)]=null,_0x2b8bbd[_0x3ebb9b(0xfa)](_0x1be06d,_0x2b8bbd[_0x3ebb9b(0xfc)])&&(this[_0x3ebb9b(0xfd)]=![]));};[a85_0x8b56c9(0xce)]=()=>{const _0x40062e=a85_0x8b56c9,_0x49c9f7={};_0x49c9f7[_0x40062e(0xb6)]=function(_0x548561,_0x2c8c69){return _0x548561>=_0x2c8c69;};const _0x4b934a=_0x49c9f7;return _0x4b934a[_0x40062e(0xb6)](this['queue'][_0x40062e(0x9a)],BATCH_SIZE);};async[a85_0x8b56c9(0x97)](_0x24b851=DEFAULT_WAIT_TIMEOUT_FOR_PENDING_UPLOADS,_0x498f60=DEFAULT_WAIT_INTERVAL_FOR_PENDING_UPLOADS){const _0x3d0079=a85_0x8b56c9,_0x57563b={'gELwu':function(_0x5abbcb,_0x4a6940){return _0x5abbcb<=_0x4a6940;},'ivqeA':function(_0x2a56c1,_0x51c737){return _0x2a56c1<=_0x51c737;},'qbVZg':function(_0x55e2e8,_0x1f5dd1){return _0x55e2e8(_0x1f5dd1);},'zQbcl':function(_0x4f8ea0,_0x6787ef){return _0x4f8ea0-_0x6787ef;}};if(_0x57563b[_0x3d0079(0xb1)](this[_0x3d0079(0x9b)],0x0)||_0x57563b[_0x3d0079(0xf6)](_0x24b851,0x0))return;return await _0x57563b[_0x3d0079(0xe8)](sleep,_0x498f60),this[_0x3d0079(0x97)](_0x57563b['zQbcl'](_0x24b851,_0x498f60));}}module[a85_0x8b56c9(0xae)]=RequestQueueHandler;function a85_0x4a20(_0x18fd8d,_0x30675b){const _0x53c5fe=a85_0x53c5();return a85_0x4a20=function(_0x4a2030,_0x42b865){_0x4a2030=_0x4a2030-0x97;let _0xcdbdb=_0x53c5fe[_0x4a2030];return _0xcdbdb;},a85_0x4a20(_0x18fd8d,_0x30675b);}function a85_0x53c5(){const _0x3fb0f3=['includes','byteLength','eIMaM','22202829TgVAbm','LogCreated','\x20REQUEST\x20TO\x20TEST\x20OBSERVABILITY\x20:\x20','PxVdL','2REVmFJ','getInstance','removeEventBatchPolling','KDEFW','JKUIN','BQOfD','gloSR','join','hook_run','\x20event\x20successful\x20for\x20events\x20','response','shutdown','\x20bytes.\x20Events\x20are\x20','nipCz','Shutting\x20down\x20request\x20batcher\x20with\x20pending\x20uploads\x20still\x20in\x20queue.\x20Remaining\x20uploads\x20','XUDFG','uuid','nIfKc','Batch\x20event\x20length\x20has\x20increased\x20maximum\x20batch\x20size.\x20Sending\x20events..','shouldProceed','proceedWithData','logs','wvuWP','splice','TestRunFinished','Interval-Queue','CUiMh','TestRunSkipped','../helper','VVaVm','HookRunStarted','statusText','40VKrERh','CBTSessionCreated','./utils','slice','EXCEPTION\x20IN\x20','stringify','OwUhT','jTImY','screenshotEventUrl','GGVEK','.\x20Request\x20Size\x20-\x20','startEventBatchPolling','agBMg','qbVZg','NOYOr','Processing\x20batch\x20events\x20for\x20','REMOVING','event_type','GrNaj','format','queue','ScThL','Exception\x20in\x20logging\x20batch\x20events\x20--\x20','pollEventBatchInterval','TNCrO','TEST_SCREENSHOT','message','ivqeA','\x20--\x20','POST','pxaTn','fcekn','342ardKQx','WEFaX','started','status','util','max','api/v1/batch','2088lJonDu','./constants','GTdnl','DhEUr','953309hrdtCl','uploadPending','MBiJW','eventUrl','length','pendingUploads','batchAndPostEvents','DsjpY','545785UocOMr','HookRunFinished','vsZUX','data','proceedWithUrl','utf8','instance','add','VvBXw','test_run','jkvsG','push','284410Nivngu','RESETTING','BcmIC','ZHJmB','exports','5271291HvvpMA','12754PgIIJb','gELwu','6710850XKmDGQ','error'];a85_0x53c5=function(){return _0x3fb0f3;};return a85_0x53c5();}