const a72_0x35ba3a=a72_0x223b;(function(_0xbaa19d,_0x28305d){const _0x5b123c=a72_0x223b,_0x294384=_0xbaa19d();while(!![]){try{const _0xf77229=-parseInt(_0x5b123c(0x143))/0x1+parseInt(_0x5b123c(0x184))/0x2*(-parseInt(_0x5b123c(0x12b))/0x3)+-parseInt(_0x5b123c(0x189))/0x4*(parseInt(_0x5b123c(0x144))/0x5)+parseInt(_0x5b123c(0x15a))/0x6+-parseInt(_0x5b123c(0x185))/0x7*(-parseInt(_0x5b123c(0x12e))/0x8)+-parseInt(_0x5b123c(0x11d))/0x9*(-parseInt(_0x5b123c(0x182))/0xa)+-parseInt(_0x5b123c(0x169))/0xb;if(_0xf77229===_0x28305d)break;else _0x294384['push'](_0x294384['shift']());}catch(_0x2703ad){_0x294384['push'](_0x294384['shift']());}}}(a72_0x5328,0xf388a));const {https}=require('follow-redirects'),url=require(a72_0x35ba3a(0x140)),yauzl=require(a72_0x35ba3a(0x14d)),fs=require('fs'),path=require(a72_0x35ba3a(0x166)),os=require('os'),{spawn}=require('child_process'),HttpsProxyAgent=require(a72_0x35ba3a(0x190)),logger=require(a72_0x35ba3a(0x13b))[a72_0x35ba3a(0x163)];function a72_0x223b(_0x4fab92,_0x2fbde7){const _0x5328d8=a72_0x5328();return a72_0x223b=function(_0x223b91,_0x36e0d2){_0x223b91=_0x223b91-0x110;let _0x598fc1=_0x5328d8[_0x223b91];return _0x598fc1;},a72_0x223b(_0x4fab92,_0x2fbde7);}function a72_0x5328(){const _0x4c375b=['HgJLA','qaKRm','get','188144GcaPjH','CLZIS','nIAZU','LZHLr','function','pipe','YHBvG','https-proxy-agent','readEntry','MoXSk','xLyDJ','.zip','parse','BcdGV','proxyHost','R_OK','uKuGm','PGuIb','exports','data','XWFXD','LOGNAME','useCaCertificate','port','arQPr','Got\x20Error\x20in\x20percy\x20binary\x20download\x20response','https://github.com/percy/cli/releases/latest/download','statSync','join','qLymB','OTqsN','kChpH','EZzeP','17379eCcfrq','end','/home/','FZgCY','ZSjDf','LeBsv','sWqku','homedir','fileName','env','UUVio','mBtif','validateBinary','TAwrY','8322CIyVFp','W_OK','MzJHu','64BLgKiZ','ZeHQc','LwIbn','LNAME','dPZYN','vLmOv','iWeJY','percy','readFileSync','getBinaryPath','NHBqa','X_OK','fQMkt','../logger','aFyXD','/percy-linux.zip','HOMEPATH','FBRUv','url','chmod','match','576168efznlO','10pnbJnr','VdqPP','EnihA','entry','undefined','lSLRE','Corrupt\x20percy\x20binary,\x20retrying','download','PsvRr','yauzl','close','MaNgu','agent','sObip','ohdCQ','ecGBi','TPCWI','kImgS','mkdirSync','error','Percy\x20download\x20failed\x20to\x20read\x20cert\x20file','stdout','10012602FljCkd','lazyEntries','IxivU','test','TDvoW','yQSOe','accessSync','RLEuZ','wVqWf','winstonLogger','platform','/percy-osx.zip','path','tJCfp','kbslu','5054390HuPWLS','/Users/','0755','BMcEB','JCghs','WcWyb','cwd','proxyPort','pOzGH','lPLrt','tmpdir','createWriteStream','tzHaz','ztidB','Error\x20trying\x20to\x20download\x20percy\x20binary','JpGhv','scFFB','HOME','length','tNIiv','--version','PUENB','open','DFZVQ','jWViw','8210mhGlYf','taEyv','1094PSsnpG','341691FJtRKc'];a72_0x5328=function(){return _0x4c375b;};return a72_0x5328();}class PercyBinary{#hostOS=process[a72_0x35ba3a(0x164)];#httpPath=null;#binaryName=a72_0x35ba3a(0x135);#orderedPaths=[path[a72_0x35ba3a(0x118)](this.#homedir(),'.browserstack'),process[a72_0x35ba3a(0x16f)](),os[a72_0x35ba3a(0x173)]()];constructor(){const _0x1dcc8f=a72_0x35ba3a,_0xd3e13e={};_0xd3e13e['arQPr']=_0x1dcc8f(0x116),_0xd3e13e[_0x1dcc8f(0x19a)]=function(_0x214b8c,_0x397e04){return _0x214b8c+_0x397e04;},_0xd3e13e[_0x1dcc8f(0x14c)]=_0x1dcc8f(0x165),_0xd3e13e[_0x1dcc8f(0x183)]=function(_0x14a086,_0x250918){return _0x14a086+_0x250918;},_0xd3e13e[_0x1dcc8f(0x132)]='/percy-win.zip',_0xd3e13e[_0x1dcc8f(0x17e)]='percy.exe',_0xd3e13e[_0x1dcc8f(0x153)]=function(_0x2b3d2a,_0x5f0a5e){return _0x2b3d2a+_0x5f0a5e;},_0xd3e13e['OTqsN']=_0x1dcc8f(0x13d);const _0xb3038e=_0xd3e13e,_0x392da9=_0xb3038e[_0x1dcc8f(0x114)];if(this.#hostOS[_0x1dcc8f(0x142)](/darwin|mac os/i))this.#httpPath=_0xb3038e['PGuIb'](_0x392da9,_0xb3038e[_0x1dcc8f(0x14c)]);else this.#hostOS['match'](/mswin|msys|mingw|cygwin|bccwin|wince|emc|win32/i)?(this.#httpPath=_0xb3038e[_0x1dcc8f(0x183)](_0x392da9,_0xb3038e[_0x1dcc8f(0x132)]),this.#binaryName=_0xb3038e[_0x1dcc8f(0x17e)]):this.#httpPath=_0xb3038e[_0x1dcc8f(0x153)](_0x392da9,_0xb3038e[_0x1dcc8f(0x11a)]);}#getAvailableDirs(){const _0x9f71c0=a72_0x35ba3a,_0x327a4b={};_0x327a4b[_0x9f71c0(0x11b)]=function(_0xe6936,_0x5e6acc){return _0xe6936<_0x5e6acc;},_0x327a4b['ZSjDf']=_0x9f71c0(0x177);const _0x51aa51=_0x327a4b;for(var _0x2a7e5b=0x0;_0x51aa51[_0x9f71c0(0x11b)](_0x2a7e5b,this.#orderedPaths[_0x9f71c0(0x17b)]);_0x2a7e5b++){var _0x28cb3d=this.#orderedPaths[_0x2a7e5b];if(this.#makePath(_0x28cb3d))return _0x28cb3d;}throw new Error(_0x51aa51[_0x9f71c0(0x121)]);}#makePath(_0x1ca4a6){const _0x4675da=a72_0x35ba3a;try{return!this.#checkPath(_0x1ca4a6)&&fs[_0x4675da(0x156)](_0x1ca4a6),!![];}catch{return![];}}#checkPath(_0x449df3,_0x2245b4){const _0x5ea950=a72_0x35ba3a,_0x5cabb6={};_0x5cabb6['UsOSl']=function(_0x2677bb,_0x2ab6c9){return _0x2677bb|_0x2ab6c9;},_0x5cabb6[_0x5ea950(0x12a)]=function(_0x2eb00b,_0x1d88f9){return _0x2eb00b!==_0x1d88f9;},_0x5cabb6[_0x5ea950(0x128)]=_0x5ea950(0x148);const _0x42487e=_0x5cabb6;_0x2245b4=_0x2245b4||_0x42487e['UsOSl'](fs[_0x5ea950(0x198)],fs[_0x5ea950(0x12c)]);try{return fs[_0x5ea950(0x160)](_0x449df3,_0x2245b4),!![];}catch(_0x5293e2){if(_0x42487e[_0x5ea950(0x12a)](typeof fs[_0x5ea950(0x160)],_0x42487e[_0x5ea950(0x128)]))return![];try{return fs[_0x5ea950(0x117)](_0x449df3),!![];}catch(_0x378798){return![];}}}async[a72_0x35ba3a(0x137)](_0xf709b9){const _0x576886=a72_0x35ba3a,_0x207754={};_0x207754[_0x576886(0x18b)]=_0x576886(0x14a);const _0x7b45d0=_0x207754;var _0x2251a=this.#getAvailableDirs(),_0x49ce82=path[_0x576886(0x118)](_0x2251a,this.#binaryName);if(this.#checkPath(_0x49ce82,fs[_0x576886(0x139)]))return _0x49ce82;const _0x195293=await this[_0x576886(0x14b)](_0xf709b9,_0x2251a),_0x82dbed=await this['validateBinary'](_0x195293);if(!_0x82dbed)return logger[_0x576886(0x157)](_0x7b45d0['nIAZU']),await this['download'](_0xf709b9,_0x2251a);return _0x195293;}async[a72_0x35ba3a(0x129)](_0xbb5c62){const _0x4aa12e=a72_0x35ba3a,_0x71af3={'uKuGm':function(_0xacb6fd,_0x2f2486){return _0xacb6fd(_0x2f2486);},'sWqku':function(_0x3fd5d1,_0x8b29ff){return _0x3fd5d1(_0x8b29ff);},'VdqPP':function(_0x5a2137,_0x360346,_0x3d0844){return _0x5a2137(_0x360346,_0x3d0844);},'ZeHQc':_0x4aa12e(0x17d),'WcWyb':_0x4aa12e(0x19c),'EnihA':_0x4aa12e(0x14e)},_0x5baa8b=/^.*@percy\/cli \d.\d+.\d+/;return new Promise((_0x3e5b97,_0x277d1c)=>{const _0x27e39d=_0x4aa12e,_0x3e731a=_0x71af3[_0x27e39d(0x145)](spawn,_0xbb5c62,[_0x71af3[_0x27e39d(0x12f)]]);_0x3e731a[_0x27e39d(0x159)]['on'](_0x71af3[_0x27e39d(0x16e)],_0x24b553=>{const _0x121835=_0x27e39d;_0x5baa8b['test'](_0x24b553)&&_0x71af3[_0x121835(0x199)](_0x3e5b97,!![]);}),_0x3e731a['on'](_0x71af3[_0x27e39d(0x146)],()=>{const _0x7782d1=_0x27e39d;_0x71af3[_0x7782d1(0x123)](_0x3e5b97,![]);});});}[a72_0x35ba3a(0x14b)](_0x3c7e38,_0x43535b){const _0x58aaa8=a72_0x35ba3a,_0x13119d={'NHBqa':function(_0x4afe7b,_0x78910c){return _0x4afe7b===_0x78910c;},'FZgCY':_0x58aaa8(0x115),'LeBsv':function(_0x4097df,_0x2e3fbd){return _0x4097df(_0x2e3fbd);},'BcdGV':'Got\x20Error\x20while\x20downloading\x20percy\x20binary\x20file','yQSOe':_0x58aaa8(0x11e),'NCwCL':_0x58aaa8(0x16b),'scFFB':_0x58aaa8(0x147),'DFZVQ':_0x58aaa8(0x157),'EnMLL':_0x58aaa8(0x14e),'iWeJY':'Got\x20Error\x20in\x20percy\x20binary\x20downloading\x20request','MzJHu':function(_0xce34d6,_0x42418f){return _0xce34d6+_0x42418f;},'fQMkt':_0x58aaa8(0x194),'JpGhv':_0x58aaa8(0x158)};!this.#checkPath(_0x43535b)&&fs[_0x58aaa8(0x156)](_0x43535b);const _0x1ec998=this.#binaryName,_0x28470c=path[_0x58aaa8(0x118)](_0x43535b,_0x13119d[_0x58aaa8(0x12d)](_0x1ec998,_0x13119d[_0x58aaa8(0x13a)])),_0x9fd625=path[_0x58aaa8(0x118)](_0x43535b,_0x1ec998),_0xc4ccf7=fs[_0x58aaa8(0x174)](_0x28470c),_0x5df7d5=url[_0x58aaa8(0x195)](this.#httpPath);if(_0x3c7e38[_0x58aaa8(0x197)]&&_0x3c7e38[_0x58aaa8(0x170)]){const _0x4d5ce1={};_0x4d5ce1['host']=_0x3c7e38['proxyHost'],_0x4d5ce1[_0x58aaa8(0x113)]=_0x3c7e38[_0x58aaa8(0x170)],_0x5df7d5[_0x58aaa8(0x150)]=new HttpsProxyAgent(_0x4d5ce1);}if(_0x3c7e38[_0x58aaa8(0x112)])try{_0x5df7d5['ca']=fs[_0x58aaa8(0x136)](_0x3c7e38['useCaCertificate']);}catch(_0x36d778){logger['error'](_0x13119d[_0x58aaa8(0x178)],_0x36d778);}return new Promise((_0xf06be8,_0x3b2a54)=>{const _0xa20a66=_0x58aaa8,_0xe3c61={'rUxYV':function(_0x4553cb,_0x274f52){const _0x3c37a0=a72_0x223b;return _0x13119d[_0x3c37a0(0x138)](_0x4553cb,_0x274f52);},'IxivU':_0x13119d[_0xa20a66(0x120)],'YHBvG':function(_0x1f2185,_0x15f9c8){const _0x3d6107=_0xa20a66;return _0x13119d[_0x3d6107(0x122)](_0x1f2185,_0x15f9c8);},'bHVmO':_0x13119d[_0xa20a66(0x196)],'xLyDJ':function(_0x1bf025,_0xee87ec){const _0x2d3616=_0xa20a66;return _0x13119d[_0x2d3616(0x122)](_0x1bf025,_0xee87ec);},'jZCGQ':_0x13119d[_0xa20a66(0x15f)],'lPLrt':_0x13119d['NCwCL'],'tJCfp':function(_0x32f1e1,_0x46af67){const _0xd9be7d=_0xa20a66;return _0x13119d[_0xd9be7d(0x122)](_0x32f1e1,_0x46af67);},'nhiMj':_0x13119d[_0xa20a66(0x179)],'TPCWI':_0x13119d[_0xa20a66(0x180)],'jWViw':_0x13119d['EnMLL'],'MaNgu':_0x13119d[_0xa20a66(0x134)]};https[_0xa20a66(0x188)](_0x5df7d5,function(_0x59a54e){const _0x2db66d=_0xa20a66,_0x226cb7={'kImgS':_0xe3c61[_0x2db66d(0x15c)],'LZHLr':function(_0x570b4e,_0x97e126){const _0x10e725=_0x2db66d;return _0xe3c61[_0x10e725(0x18f)](_0x570b4e,_0x97e126);},'BMcEB':_0xe3c61['bHVmO'],'EZzeP':function(_0x25c49d,_0x420979){return _0xe3c61['xLyDJ'](_0x25c49d,_0x420979);},'TDvoW':_0xe3c61['jZCGQ'],'qLymB':function(_0x4e7a57,_0x467635){const _0x5d0deb=_0x2db66d;return _0xe3c61[_0x5d0deb(0x18f)](_0x4e7a57,_0x467635);},'FBRUv':_0xe3c61[_0x2db66d(0x172)],'wVqWf':function(_0x3a9bd5,_0x25b0de){const _0x213b00=_0x2db66d;return _0xe3c61[_0x213b00(0x167)](_0x3a9bd5,_0x25b0de);},'fvrIp':_0xe3c61['nhiMj'],'SStAk':_0xe3c61['TPCWI']};_0x59a54e['pipe'](_0xc4ccf7),_0x59a54e['on'](_0xe3c61[_0x2db66d(0x154)],function(_0x45ac60){const _0x22935b=_0x2db66d;logger[_0x22935b(0x157)](_0x226cb7[_0x22935b(0x155)],_0x45ac60),_0x226cb7['LZHLr'](_0x3b2a54,_0x45ac60);}),_0xc4ccf7['on'](_0xe3c61[_0x2db66d(0x154)],function(_0x111725){const _0x1773a7=_0x2db66d;logger[_0x1773a7(0x157)](_0x226cb7[_0x1773a7(0x16c)],_0x111725),_0x226cb7[_0x1773a7(0x11c)](_0x3b2a54,_0x111725);}),_0xc4ccf7['on'](_0xe3c61[_0x2db66d(0x181)],function(){const _0x2c7589=_0x2db66d,_0x1d691a={'LwIbn':function(_0x4bc5d6,_0x4818c9){return _0xe3c61['rUxYV'](_0x4bc5d6,_0x4818c9);}},_0x33b89d={};_0x33b89d[_0x2c7589(0x15b)]=!![],yauzl[_0x2c7589(0x17f)](_0x28470c,_0x33b89d,function(_0x377ee,_0x5e2785){const _0x59c47d=_0x2c7589,_0x3c8307={'qaKRm':function(_0x468041,_0x1b883e){return _0x226cb7['LZHLr'](_0x468041,_0x1b883e);},'lSLRE':_0x226cb7[_0x59c47d(0x15e)],'XWFXD':function(_0x260c0b,_0x4fb0d1){const _0x427085=_0x59c47d;return _0x226cb7[_0x427085(0x119)](_0x260c0b,_0x4fb0d1);},'MoXSk':function(_0x59f456,_0x39edf8){return _0x226cb7['LZHLr'](_0x59f456,_0x39edf8);},'UUVio':function(_0x3d9f53,_0x40e947){const _0x46a92a=_0x59c47d;return _0x226cb7[_0x46a92a(0x18c)](_0x3d9f53,_0x40e947);},'RLEuZ':_0x226cb7[_0x59c47d(0x13f)]};_0x377ee&&_0x226cb7[_0x59c47d(0x162)](_0x3b2a54,_0x377ee),_0x5e2785[_0x59c47d(0x191)](),_0x5e2785['on'](_0x226cb7['fvrIp'],_0x5af6ea=>{const _0xa28ca3=_0x59c47d;if(/\/$/[_0xa28ca3(0x15d)](_0x5af6ea[_0xa28ca3(0x125)]))_0x5e2785[_0xa28ca3(0x191)]();else{const _0x5dd509=fs['createWriteStream'](path[_0xa28ca3(0x118)](_0x43535b,_0x5af6ea[_0xa28ca3(0x125)]));_0x5e2785['openReadStream'](_0x5af6ea,function(_0xb32c17,_0x2fb34e){const _0x4e4100=_0xa28ca3;_0xb32c17&&_0x3c8307[_0x4e4100(0x187)](_0x3b2a54,_0x377ee),_0x2fb34e['on'](_0x3c8307[_0x4e4100(0x149)],function(){const _0x5a322c=_0x4e4100;_0x5dd509[_0x5a322c(0x14e)](),_0x5e2785[_0x5a322c(0x191)]();}),_0x2fb34e[_0x4e4100(0x18e)](_0x5dd509);}),_0x1d691a[_0xa28ca3(0x130)](_0x5af6ea[_0xa28ca3(0x125)],_0x1ec998)&&_0x5e2785[_0xa28ca3(0x14e)]();}}),_0x5e2785['on'](_0x226cb7['SStAk'],_0xb9516a=>{const _0x232510=_0x59c47d;_0x3c8307[_0x232510(0x110)](_0x3b2a54,_0xb9516a);}),_0x5e2785['once'](_0x226cb7['TDvoW'],()=>{const _0x44b0e7=_0x59c47d,_0x12b393={'tNIiv':function(_0x4f4119,_0x14ed69){const _0x17e48c=a72_0x223b;return _0x3c8307[_0x17e48c(0x192)](_0x4f4119,_0x14ed69);},'tzHaz':function(_0x23ed17,_0x27b8d){const _0x106357=a72_0x223b;return _0x3c8307[_0x106357(0x127)](_0x23ed17,_0x27b8d);}};fs[_0x44b0e7(0x141)](_0x9fd625,_0x3c8307[_0x44b0e7(0x161)],function(_0x1859b6){const _0x34ea4d=_0x44b0e7;_0x1859b6&&_0x12b393[_0x34ea4d(0x17c)](_0x3b2a54,_0x1859b6),_0x12b393[_0x34ea4d(0x175)](_0xf06be8,_0x9fd625);}),_0x5e2785[_0x44b0e7(0x14e)]();});});});})['on'](_0x13119d[_0xa20a66(0x180)],function(_0x5bb789){const _0x236e61=_0xa20a66;logger[_0x236e61(0x157)](_0xe3c61[_0x236e61(0x14f)],_0x5bb789),_0xe3c61[_0x236e61(0x193)](_0x3b2a54,_0x5bb789);});});}#homedir(){const _0x1f2194=a72_0x35ba3a,_0x448a2f={};_0x448a2f[_0x1f2194(0x186)]=function(_0x2b8c06,_0x52b4ff){return _0x2b8c06===_0x52b4ff;},_0x448a2f['vLmOv']=_0x1f2194(0x18d),_0x448a2f['lVmtq']='win32',_0x448a2f[_0x1f2194(0x171)]=function(_0x2e69e5,_0x436482){return _0x2e69e5+_0x436482;},_0x448a2f[_0x1f2194(0x16d)]=function(_0x54361d,_0x450995){return _0x54361d===_0x450995;},_0x448a2f['kbslu']='darwin',_0x448a2f[_0x1f2194(0x151)]=function(_0x207591,_0x4f5dea){return _0x207591+_0x4f5dea;},_0x448a2f[_0x1f2194(0x152)]=_0x1f2194(0x16a),_0x448a2f[_0x1f2194(0x18a)]=function(_0xc81f11,_0x4d0baa){return _0xc81f11===_0x4d0baa;},_0x448a2f['qEGgh']='linux',_0x448a2f[_0x1f2194(0x176)]='/root',_0x448a2f['XZMTo']=_0x1f2194(0x11f),_0x448a2f[_0x1f2194(0x13c)]=function(_0x4b7c8e,_0xe5f36c){return _0x4b7c8e||_0xe5f36c;};const _0x590345=_0x448a2f;if(_0x590345['HgJLA'](typeof os[_0x1f2194(0x124)],_0x590345[_0x1f2194(0x133)]))return os[_0x1f2194(0x124)]();const _0xe738ec=process[_0x1f2194(0x126)],_0x1e897e=_0xe738ec[_0x1f2194(0x17a)],_0xb1075d=_0xe738ec[_0x1f2194(0x111)]||_0xe738ec['USER']||_0xe738ec[_0x1f2194(0x131)]||_0xe738ec['USERNAME'];if(_0x590345['HgJLA'](process[_0x1f2194(0x164)],_0x590345['lVmtq']))return _0xe738ec['USERPROFILE']||_0x590345[_0x1f2194(0x171)](_0xe738ec['HOMEDRIVE'],_0xe738ec[_0x1f2194(0x13e)])||_0x1e897e||null;if(_0x590345['JCghs'](process[_0x1f2194(0x164)],_0x590345[_0x1f2194(0x168)]))return _0x1e897e||(_0xb1075d?_0x590345[_0x1f2194(0x151)](_0x590345['ohdCQ'],_0xb1075d):null);if(_0x590345[_0x1f2194(0x18a)](process[_0x1f2194(0x164)],_0x590345['qEGgh']))return _0x1e897e||(_0x590345['HgJLA'](process['getuid'](),0x0)?_0x590345[_0x1f2194(0x176)]:_0xb1075d?_0x590345[_0x1f2194(0x171)](_0x590345['XZMTo'],_0xb1075d):null);return _0x590345['aFyXD'](_0x1e897e,null);}}module[a72_0x35ba3a(0x19b)]=PercyBinary;