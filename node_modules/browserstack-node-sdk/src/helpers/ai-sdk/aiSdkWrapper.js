const a59_0x4f86dc=a59_0x1394;(function(_0x2442e6,_0x3db810){const _0x4e96a5=a59_0x1394,_0x57e605=_0x2442e6();while(!![]){try{const _0x2d7cc1=parseInt(_0x4e96a5(0xd3))/0x1+-parseInt(_0x4e96a5(0xd7))/0x2*(-parseInt(_0x4e96a5(0xa4))/0x3)+parseInt(_0x4e96a5(0xdc))/0x4+-parseInt(_0x4e96a5(0xd0))/0x5*(-parseInt(_0x4e96a5(0xc6))/0x6)+-parseInt(_0x4e96a5(0xe0))/0x7+-parseInt(_0x4e96a5(0xc1))/0x8*(parseInt(_0x4e96a5(0x9f))/0x9)+-parseInt(_0x4e96a5(0xe7))/0xa*(parseInt(_0x4e96a5(0xad))/0xb);if(_0x2d7cc1===_0x3db810)break;else _0x57e605['push'](_0x57e605['shift']());}catch(_0xe50b90){_0x57e605['push'](_0x57e605['shift']());}}}(a59_0x2fb2,0x652e6));const path=require(a59_0x4f86dc(0xbe)),{commandRepository}=require(a59_0x4f86dc(0xf5)),constants=require(a59_0x4f86dc(0xbb)),logger=require('../logger')[a59_0x4f86dc(0xa0)],globals=require(a59_0x4f86dc(0xda)),timeoutPromise=require(a59_0x4f86dc(0xf0)),isUndefinedOrNull=_0x27dfaa=>_0x27dfaa===undefined||_0x27dfaa===null||_0x27dfaa==='',isNotUndefinedOrNull=_0x272675=>!isUndefinedOrNull(_0x272675),isString=_0x5214a4=>isNotUndefinedOrNull(_0x5214a4)&&typeof _0x5214a4===a59_0x4f86dc(0x91);function a59_0x1394(_0x1851fc,_0x356810){const _0x2fb26b=a59_0x2fb2();return a59_0x1394=function(_0x139474,_0xb96c12){_0x139474=_0x139474-0x8a;let _0x8aad82=_0x2fb26b[_0x139474];return _0x8aad82;},a59_0x1394(_0x1851fc,_0x356810);}class AiSdkWrapper{constructor(){const _0x19520e=a59_0x4f86dc,_0x1bd1db={'uJpyw':function(_0x44bf89,_0x2b748b){return _0x44bf89(_0x2b748b);},'PoJAA':_0x19520e(0xab)};this[_0x19520e(0x9d)]=undefined;try{this['BrowserstackHealing']=_0x1bd1db[_0x19520e(0xf6)](require,path[_0x19520e(0xc0)](__dirname,_0x1bd1db['PoJAA']));}catch(_0xce8c89){logger[_0x19520e(0xc8)](_0x19520e(0x9b)+(_0xce8c89&&_0xce8c89['message']?_0xce8c89[_0x19520e(0xf7)]:''));}}[a59_0x4f86dc(0xa8)](_0x6d39d4){const _0x1aacc5=a59_0x4f86dc,_0x18ada9={};_0x18ada9[_0x1aacc5(0xec)]='newCapabilities',_0x18ada9['PSyDQ']=function(_0x3bc726,_0x4c2982){return _0x3bc726===_0x4c2982;},_0x18ada9[_0x1aacc5(0xb0)]='chrome',_0x18ada9[_0x1aacc5(0xdd)]=_0x1aacc5(0xc7),_0x18ada9[_0x1aacc5(0xf4)]=function(_0x1a2238,_0x3807c1){return _0x1a2238===_0x3807c1;},_0x18ada9[_0x1aacc5(0xb4)]=_0x1aacc5(0xed),_0x18ada9[_0x1aacc5(0xc9)]=function(_0x52725b,_0x3d6490){return _0x52725b===_0x3d6490;},_0x18ada9[_0x1aacc5(0xfd)]=_0x1aacc5(0x92),_0x18ada9[_0x1aacc5(0xb9)]=function(_0x1d8fcb,_0x400d29){return _0x1d8fcb===_0x400d29;},_0x18ada9['hPObg']=_0x1aacc5(0xf3);const _0x513a54=_0x18ada9;try{const _0x416222=this[_0x1aacc5(0x9d)]['initializeCapabilities'](Object[_0x1aacc5(0xe4)](_0x6d39d4[_0x1aacc5(0xfa)]()[_0x1aacc5(0x95)]));console[_0x1aacc5(0xe2)](_0x513a54[_0x1aacc5(0xec)],_0x416222);if(_0x513a54['PSyDQ'](_0x416222?.['browserName']?.[_0x1aacc5(0xc3)](),_0x513a54[_0x1aacc5(0xb0)]))_0x6d39d4[_0x1aacc5(0xf8)]=_0x416222;else{if(_0x513a54[_0x1aacc5(0xb7)](_0x416222?.[_0x1aacc5(0x9e)]?.[_0x1aacc5(0xc3)](),_0x513a54['xAnjm']))_0x6d39d4[_0x1aacc5(0xd1)]=_0x416222;else{if(_0x513a54[_0x1aacc5(0xf4)](_0x416222?.['browserName']?.[_0x1aacc5(0xc3)](),_0x513a54[_0x1aacc5(0xb4)]))_0x6d39d4['safariOptions_']=_0x416222;else{if(_0x513a54[_0x1aacc5(0xc9)](_0x416222?.[_0x1aacc5(0x9e)]?.['toLowerCase'](),_0x513a54[_0x1aacc5(0xfd)])||_0x513a54['iBXLb'](_0x416222?.[_0x1aacc5(0x9e)]?.['toLowerCase'](),_0x513a54['hPObg']))_0x6d39d4['edgeOptions_']=_0x416222;else _0x513a54['zLOkQ'](_0x416222?.[_0x1aacc5(0x9e)]?.[_0x1aacc5(0xc3)](),'ie')&&(_0x6d39d4[_0x1aacc5(0x99)]=_0x416222);}}}Object[_0x1aacc5(0xd8)](_0x416222)[_0x1aacc5(0xa3)](_0x4c48c6=>{const _0x7935da=_0x1aacc5,_0x4c89e4=_0x6d39d4[_0x7935da(0xa2)][_0x7935da(0xb1)](_0x4c48c6);_0x6d39d4[_0x7935da(0xa2)][_0x7935da(0x90)](_0x4c48c6,_0x416222[_0x4c48c6]);});}catch(_0x218078){logger[_0x1aacc5(0xc8)](_0x1aacc5(0xb5)+(_0x218078&&_0x218078[_0x1aacc5(0xf7)]?_0x218078[_0x1aacc5(0xf7)]:''));}}async['setTcgToken'](_0x1c72ea){const _0xc118f8=a59_0x4f86dc,_0x54989b={'MjLIB':function(_0x2e65de,_0x454a5d,_0x40e959,_0x49b230,_0x5cc36d,_0x29515f,_0x425085){return _0x2e65de(_0x454a5d,_0x40e959,_0x49b230,_0x5cc36d,_0x29515f,_0x425085);},'erItZ':_0xc118f8(0xa6),'wBBOj':'BrowserstackHealingSetTcgTokenFailed','RobUc':_0xc118f8(0xd6)},_0x435c0f=new Date(),_0x25e2a2=_0x54989b[_0xc118f8(0xaa)](timeoutPromise,constants[_0xc118f8(0x8e)],_0x54989b['erItZ'],_0x54989b['wBBOj'],_0x435c0f,this[_0xc118f8(0xdf)],this[_0xc118f8(0xe5)]);await Promise['race']([this['BrowserstackHealing'][_0xc118f8(0xeb)](_0x1c72ea,globals[_0xc118f8(0x8f)](_0x54989b[_0xc118f8(0xfc)]),constants['TCG_URL'])[_0xc118f8(0x8a)](()=>{const _0x2b72a3=_0xc118f8;_0x25e2a2[_0x2b72a3(0xe1)]();}),_0x25e2a2]);}async['_handleEvent'](_0x1cdbc4,_0x255275,_0x430aaf,_0xb5bdd3){const _0x514a76=a59_0x4f86dc,_0x281ee5={'hLAqz':function(_0x4c562e,_0x44aecd){return _0x4c562e===_0x44aecd;},'jhKMI':function(_0x3eabad,_0x2ba464){return _0x3eabad(_0x2ba464);},'BClYJ':function(_0x11c51a,_0x4de15e){return _0x11c51a(_0x4de15e);},'wzeSm':function(_0x408b18,_0x13a9a5){return _0x408b18(_0x13a9a5);},'XKnMA':'s://','nWMQT':_0x514a76(0xb6),'GLYFk':'aiHeal_groupId','bLSWS':_0x514a76(0xc4),'ZZVld':function(_0x3036cf,_0x17e233,_0x20944c,_0xdad6f4,_0x1c775,_0x587406,_0x20e2d1){return _0x3036cf(_0x17e233,_0x20944c,_0xdad6f4,_0x1c775,_0x587406,_0x20e2d1);},'BGhCz':_0x514a76(0xbc),'MmDVM':_0x514a76(0xcd),'dcseA':function(_0x108e24,_0x532080,_0x1520f9,_0x367cfc,_0x1c6497,_0x583ec0,_0xb90bd8){return _0x108e24(_0x532080,_0x1520f9,_0x367cfc,_0x1c6497,_0x583ec0,_0xb90bd8);},'RKyDE':_0x514a76(0xf2),'vugpw':_0x514a76(0xfb)},_0x50c8a6=(await _0x255275['getSession']())['getId']();let _0x224832='';if(commandRepository[_0x514a76(0x8c)]()&&_0x281ee5[_0x514a76(0xe6)](_0xb5bdd3,![])||_0x281ee5[_0x514a76(0xe6)](_0xb5bdd3,!![])){const _0xcd1c73=_0x281ee5[_0x514a76(0xca)](isNotUndefinedOrNull,_0x430aaf[_0x514a76(0x8d)][_0x514a76(0xe3)])&&_0x281ee5[_0x514a76(0xca)](isString,_0x430aaf[_0x514a76(0x8d)][_0x514a76(0xe3)])?_0x430aaf[_0x514a76(0x8d)][_0x514a76(0xe3)]['replace'](/'/g,'\x5c\x27')[_0x514a76(0xcc)](/"/g,'\x5c\x22'):'',_0x1e0fc3=_0x281ee5[_0x514a76(0xea)](isNotUndefinedOrNull,_0x430aaf[_0x514a76(0x8d)]['using'])&&_0x281ee5[_0x514a76(0xac)](isString,_0x430aaf[_0x514a76(0x8d)][_0x514a76(0xb8)])?_0x430aaf[_0x514a76(0x8d)]['value'][_0x514a76(0xcc)](/'/g,'\x5c\x27')[_0x514a76(0xcc)](/"/g,'\x5c\x22'):'',_0x1e1328=_0x281ee5[_0x514a76(0xca)](isNotUndefinedOrNull,commandRepository[_0x514a76(0x93)]())&&_0x281ee5[_0x514a76(0xac)](isString,commandRepository[_0x514a76(0x93)]())?commandRepository[_0x514a76(0x93)]()['replace'](/'/g,'\x5c\x27')[_0x514a76(0xcc)](/"/g,'\x5c\x22'):'';let _0xdc3f9=_0x281ee5[_0x514a76(0xca)](isNotUndefinedOrNull,global[_0x514a76(0xaf)])&&_0x281ee5[_0x514a76(0xac)](isString,global['browserstackSessionName'])?global[_0x514a76(0xaf)][_0x514a76(0xcc)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';!_0xdc3f9&&(_0xdc3f9=_0x281ee5[_0x514a76(0xac)](isNotUndefinedOrNull,commandRepository['getTestName']())&&_0x281ee5['jhKMI'](isString,commandRepository['getTestName']())?commandRepository['getTestName']()['replace'](/'/g,'\x5c\x27')[_0x514a76(0xcc)](/"/g,'\x5c\x22'):'');let _0xd6de95=_0x514a76(0xc5)+constants[_0x514a76(0xd4)]+'\x22,\x20\x22tcgUrls\x22:\x20{\x22'+constants[_0x514a76(0xd4)]+_0x514a76(0xa1)+constants['TCG_URL'][_0x514a76(0xbd)](_0x281ee5['XKnMA'])[0x1]+'\x22}}}';_0xd6de95=_0x281ee5['BClYJ'](isNotUndefinedOrNull,_0xd6de95)&&_0x281ee5[_0x514a76(0xac)](isString,_0xd6de95)?_0xd6de95[_0x514a76(0xcc)](/'/g,'\x5c\x27')[_0x514a76(0xcc)](/"/g,'\x5c\x22'):'';const _0x2881d5=commandRepository['getCommands'](_0x50c8a6),_0x4e17ab=globals['getGlobal'](_0x281ee5[_0x514a76(0xee)]),_0x5393b8=globals[_0x514a76(0x8f)](_0x281ee5['GLYFk']),_0x1ab928=globals[_0x514a76(0x8f)](_0x281ee5[_0x514a76(0x96)]),_0x3a8cd8=![],_0x57ec52=new Date();if(_0xb5bdd3){const _0x49dbf0=_0x281ee5[_0x514a76(0xd9)](timeoutPromise,constants['HEALING_LOG_DATA_TIMEOUT'],_0x281ee5[_0x514a76(0x98)],_0x281ee5['MmDVM'],_0x57ec52,this['config'],this[_0x514a76(0xe5)]);_0x224832=await Promise[_0x514a76(0xe8)]([this[_0x514a76(0x9d)]['logData'](_0xcd1c73,_0x1e0fc3,_0x1e1328,_0xdc3f9,_0x5393b8,_0x50c8a6,_0x2881d5,_0xd6de95)[_0x514a76(0x8a)](_0x430609=>{return _0x49dbf0['cancel'](),_0x430609;}),_0x49dbf0]);}else{if(commandRepository['isSelfHealEnabled']()){const _0x276d32=_0x281ee5[_0x514a76(0xb2)](timeoutPromise,constants[_0x514a76(0xf9)],_0x281ee5['RKyDE'],_0x281ee5[_0x514a76(0xa7)],_0x57ec52,this[_0x514a76(0xdf)],this[_0x514a76(0xe5)]);_0x224832=await Promise[_0x514a76(0xe8)]([this[_0x514a76(0x9d)][_0x514a76(0xa9)](_0xcd1c73,_0x1e0fc3,_0x1e1328,_0xdc3f9,_0x4e17ab,_0x5393b8,_0x50c8a6,_0x2881d5,_0x3a8cd8,_0x1ab928,_0xd6de95)[_0x514a76(0x8a)](_0x253f63=>{const _0x301002=_0x514a76;return _0x276d32[_0x301002(0xe1)](),_0x253f63;}),_0x276d32]);}}_0x224832&&await _0x255275['executeScript'](_0x224832);}}async[a59_0x4f86dc(0xde)](_0x3f6476,_0x32de8c,_0x136869){const _0x31b896=a59_0x4f86dc;try{await this[_0x31b896(0xcf)](_0x3f6476,_0x32de8c,_0x136869,!![]);}catch(_0x38d56c){return logger[_0x31b896(0xc8)](_0x31b896(0xba)+(_0x38d56c&&_0x38d56c[_0x31b896(0xf7)]?_0x38d56c[_0x31b896(0xf7)]:'')),![];}return!![];}async['handleFailure'](_0x320986,_0x196f2c,_0x576723){const _0x40308f=a59_0x4f86dc,_0x1d289e={'zyPWU':function(_0x5add1d,_0x1e3175,_0xb6f43,_0x184797,_0x82f9e9,_0x1189a6,_0xc96e5b){return _0x5add1d(_0x1e3175,_0xb6f43,_0x184797,_0x82f9e9,_0x1189a6,_0xc96e5b);},'wiubd':_0x40308f(0xe9),'fpzMy':_0x40308f(0xd2),'esXwL':_0x40308f(0xd6)};try{await this[_0x40308f(0xcf)](_0x320986,_0x196f2c,_0x576723,![]);const _0x439046=(await _0x196f2c[_0x40308f(0xf1)]())[_0x40308f(0x94)](),_0xdb2213=new Date(),_0x190952=_0x1d289e[_0x40308f(0x97)](timeoutPromise,constants[_0x40308f(0xcb)],_0x1d289e[_0x40308f(0xb3)],_0x1d289e[_0x40308f(0xa5)],_0xdb2213,this[_0x40308f(0xdf)],this[_0x40308f(0xe5)]),_0x2e4670=await Promise[_0x40308f(0xe8)]([this[_0x40308f(0x9d)][_0x40308f(0x9c)](constants['TCG_URL'],_0x439046,globals['getGlobal'](_0x1d289e['esXwL']))[_0x40308f(0x8a)](_0x58d47=>{const _0x5f2780=_0x40308f;return _0x190952[_0x5f2780(0xe1)](),_0x58d47;}),_0x190952]);if(_0x2e4670&&_0x2e4670['selector']&&_0x2e4670[_0x40308f(0xb8)]){const _0x477bc7={};return _0x477bc7[_0x40308f(0xce)]=_0x2e4670[_0x40308f(0xc2)],_0x477bc7['locatorValue']=_0x2e4670[_0x40308f(0xb8)],_0x477bc7['aiHealing']=!![],_0x477bc7;}const _0x2460a0={};return _0x2460a0[_0x40308f(0xce)]=_0x576723[_0x40308f(0x8d)]['using'],_0x2460a0['locatorValue']=_0x2e4670['value'],_0x2460a0[_0x40308f(0xdb)]=!![],_0x2460a0;}catch(_0x53c1ee){return logger[_0x40308f(0xae)](_0x40308f(0x9a)+(_0x53c1ee&&_0x53c1ee[_0x40308f(0xf7)]?_0x53c1ee[_0x40308f(0xf7)]:'')),logger['info'](_0x40308f(0xd5)+_0x576723['name_']+_0x40308f(0x8b)),_0x576723;}}}function a59_0x2fb2(){const _0x2ac3f6=['BrowserstackHealingPollResultFailed','298633SKwTKh','TCG_REGION','Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20','aiHeal_sessionToken','8cSQkAu','keys','ZZVld','../globals','aiHealing','2288840gGiWzx','xAnjm','handleSuccess','config','2543373pcGviC','cancel','log','using','fromEntries','framework','hLAqz','5024010qWMYXc','race','BrowserstackHealing.pollResult\x20method\x20timed\x20out','BClYJ','setToken','xWEcN','safari','nWMQT','aiSdkWrapper','../../helpers/timeoutPromise','getSession','BrowserstackHealing.healFailure\x20method\x20timed\x20out','microsoftedge','ElxoQ','./autoHealHelper','uJpyw','message','chromeOptions_','HEALING_FAILURE_TIMEOUT','getCapabilities','BrowserstackHealingHealFailureFailed','RobUc','zKuhs','then','\x20command','isSelfHealEnabled','parameters_','SET_TCG_TOKEN_TIMEOUT','getGlobal','set','string','edge','getProjectName','getId','map_','bLSWS','zyPWU','BGhCz','ieOptions_','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20','pollResult','BrowserstackHealing','browserName','36kOAJuc','winstonLogger','\x22:\x20{\x22endpoint\x22:\x20\x22','capabilities_','forEach','45366ktFapt','fpzMy','BrowserstackHealing.setToken\x20method\x20timed\x20out','vugpw','initializeHealingCapabilities','healFailure','MjLIB','../../ai-sdk-node/bundle','wzeSm','11eFFVhV','debug','browserstackSessionName','yTfLk','get','dcseA','wiubd','hvzHs','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','aiHeal_userId','PSyDQ','value','iBXLb','Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20','../../bin/utils/constants','BrowserstackHealing.logData\x20method\x20timed\x20out','split','path','freeze','join','421240MRmasV','selector','toLowerCase','aiHeal_isGroupAIEnabled','{\x22region\x22:\x20\x22','6QBrFXA','firefox','error','zLOkQ','jhKMI','POLL_HEALING_RESULT_TIMEOUT','replace','BrowserstackHealingLogDataFailed','locatorType','_handleEvent','2797335YLRoOx','firefoxOptions_'];a59_0x2fb2=function(){return _0x2ac3f6;};return a59_0x2fb2();}exports[a59_0x4f86dc(0xef)]=Object[a59_0x4f86dc(0xbf)](new AiSdkWrapper());