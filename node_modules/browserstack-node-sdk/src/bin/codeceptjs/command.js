#!/usr/bin/env node
'use strict';const a2_0x373642=a2_0x2afa;(function(_0x4a67b5,_0x1b982b){const _0x365bb4=a2_0x2afa,_0x660242=_0x4a67b5();while(!![]){try{const _0x40d298=-parseInt(_0x365bb4(0x18f))/0x1+parseInt(_0x365bb4(0x183))/0x2+parseInt(_0x365bb4(0x160))/0x3*(-parseInt(_0x365bb4(0x151))/0x4)+parseInt(_0x365bb4(0x191))/0x5*(-parseInt(_0x365bb4(0x15d))/0x6)+parseInt(_0x365bb4(0x134))/0x7*(parseInt(_0x365bb4(0x1a0))/0x8)+parseInt(_0x365bb4(0x137))/0x9+-parseInt(_0x365bb4(0x172))/0xa;if(_0x40d298===_0x1b982b)break;else _0x660242['push'](_0x660242['shift']());}catch(_0x55d6d7){_0x660242['push'](_0x660242['shift']());}}}(a2_0x4ee5,0x8a44d));function a2_0x4ee5(){const _0x466632=['stop','require','validPlatformsPresent','webkit','log','run','uDcVs','adtBq','isTestObservabilitySession','event','../utils/constants','FrgPs','../../helpers/helper','teardownAll','browser','finalExecution','JhZUj','load','playwright-chromium','printResults','accessibility','mZhot','passed','Playwright','644SOrkZj','BrowserStackPlugin','hhWZn','7823358XVtJHS','mergeDeep','push','validateRerunTestList','existsSync','prepareCapabilities','setAdditionalCapabilities','config','getPlatformName','BROWSERSTACK_TEST_ACCESSIBILITY_YML','forEach','path','join','length','SDK_SETUP','PuZyA','result','title','rISHQ','../../bin/playwright/accessibility-helper','failed','CODECEPT','../../helpers/testhub/testhubHandler','enabled','UuZqR','SDK_CLEANUP','4CbcVBM','Passed\x20:\x20','all','err','Workers','isTrue','codeceptjs','yTzMQ','DKkCM','testObservability','../../helpers/accessibility-automation/helper','codecept.conf.js','3277554oheCjJ','frameworkName','playwright-webkit','505086xcXDPU','findIndex','browserWSEndpoint','test','FRAMEWORKS','chrome','map','getUserWorkerCount','WqtCQ','NzKwO','fdGzx','../../helpers/performance/constants','parallelsPerPlatform','winstonLogger','browserName','before','info','YtcSE','2693130CREocR','getPlaywrightUrl','bjzFP','spawn','end','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','testContextOptions','process','handleApp','../../helpers/test-observability/utils','stack','split','addTests','--config','OBLzD','useW3C','browserStackCwd','1056598YooZLm','plugins','accessibilityOptions','stringify','cwd','profile','WyTDT','CtUmi','chromium','wlOXk','skipSessionStatus','XzxeP','916042dWeYMM','BROWSERSTACK_TEST_OBSERVABILITY_YML','5ZzrmqC','BBGKv','isUndefined','slice','platforms','Jlnpg','helpers','initialize','debug','BrowserStackPlugin.js','root','oKzHr','dirname','toLowerCase','../../helpers/performance/performance-tester','92936xNiUpr','util','bootstrapAll','desiredCapabilities','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','addConfig','printBuildLink','jDslU','ngNFb','../../helpers/utilities','env','codeceptjs/lib/index.js','WebDriver'];a2_0x4ee5=function(){return _0x466632;};return a2_0x4ee5();}const fs=require('fs'),path=require(a2_0x373642(0x142)),util=require(a2_0x373642(0x1a1)),process=require(a2_0x373642(0x179)),logger=require('../../helpers/logger')[a2_0x373642(0x16d)],{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require(a2_0x373642(0x128)),utilities=require(a2_0x373642(0x1a9)),{checkAccessibilityPlatformConfig}=require(a2_0x373642(0x15b)),{setAccessibilityCapabilities}=require(a2_0x373642(0x14a)),{requireModule,nestedKeyValue,isBrowserstackInfra}=require(a2_0x373642(0x128)),CodeceptJS=requireModule(a2_0x373642(0x1ab),a2_0x373642(0x157)),testOpsHelper=require(a2_0x373642(0x17b)),TestHubHandler=require(a2_0x373642(0x14d)),constants=require(a2_0x373642(0x126)),PerformanceTester=require(a2_0x373642(0x19f)),PerformanceEvents=require(a2_0x373642(0x16b))['EVENTS'],_testErrorData=[],getUserCodeceptJSConfigs=(_0x2479f3,_0x421c74)=>{const _0x13f4ea=a2_0x373642,_0x2508e1={};_0x2508e1[_0x13f4ea(0x1a8)]=function(_0x1e0e27,_0x2cdbc7){return _0x1e0e27===_0x2cdbc7;},_0x2508e1['fdGzx']=_0x13f4ea(0x15c),_0x2508e1[_0x13f4ea(0x168)]='codecept.json';const _0x44e46d=_0x2508e1;let _0xdf0b9e=null;const _0x9cbb02={};let _0x2b10d7=_0x421c74[_0x13f4ea(0x161)](_0x2c6099=>_0x2c6099===_0x13f4ea(0x17f));_0x44e46d[_0x13f4ea(0x1a8)](_0x2b10d7,-0x1)&&(_0x2b10d7=_0x421c74[_0x13f4ea(0x161)](_0x3ad768=>_0x3ad768==='-c'));if(!helper['isUndefined'](_0x2479f3[_0x13f4ea(0x13e)])&&fs[_0x13f4ea(0x13b)](path['join'](process[_0x13f4ea(0x187)](),_0x2479f3['config'])))_0xdf0b9e=path[_0x13f4ea(0x143)](process[_0x13f4ea(0x187)](),_0x2479f3[_0x13f4ea(0x13e)]),_0x421c74[_0x13f4ea(0x194)](_0x2b10d7,0x2);else{if(!helper[_0x13f4ea(0x193)](_0x2479f3['c'])&&fs[_0x13f4ea(0x13b)](path[_0x13f4ea(0x143)](process[_0x13f4ea(0x187)](),_0x2479f3['c'])))_0xdf0b9e=path[_0x13f4ea(0x143)](process[_0x13f4ea(0x187)](),_0x2479f3['c']),_0x421c74['slice'](_0x2b10d7,0x2);else{if(fs['existsSync'](path['join'](process['cwd'](),_0x44e46d[_0x13f4ea(0x16a)])))_0xdf0b9e=path['join'](process[_0x13f4ea(0x187)](),_0x44e46d[_0x13f4ea(0x16a)]);else fs['existsSync'](path[_0x13f4ea(0x143)](process[_0x13f4ea(0x187)](),_0x44e46d[_0x13f4ea(0x168)]))&&(_0xdf0b9e=path['join'](process[_0x13f4ea(0x187)](),_0x44e46d[_0x13f4ea(0x168)]));}}return _0xdf0b9e;},getO11yRerunPattern=()=>{const _0x4fef31=a2_0x373642,_0x53211c=helper[_0x4fef31(0x156)](process['env']['BROWSERSTACK_RERUN']);if(_0x53211c){const _0x171bd8=process[_0x4fef31(0x1aa)]['BROWSERSTACK_RERUN_TESTS'],_0x527fa3=[];if(helper[_0x4fef31(0x13a)](_0x171bd8)&&!helper['isUndefined'](_0x171bd8)){_0x171bd8[_0x4fef31(0x17d)](',')['map'](_0xb2a497=>{const _0x3c86dc=_0x4fef31;_0x527fa3[_0x3c86dc(0x139)]('('+_0xb2a497['trim']()+')');});const _0x651dc='^'+_0x527fa3[_0x4fef31(0x143)]('|')+'$';return _0x651dc;}}return null;},a2_0x49028a={};a2_0x49028a[a2_0x373642(0x165)]=a2_0x373642(0x18b),a2_0x49028a[a2_0x373642(0x12e)]=a2_0x373642(0x18b),a2_0x49028a['playwright-firefox']='firefox',a2_0x49028a[a2_0x373642(0x15f)]=a2_0x373642(0x11f);const pwToCodeceptBrowser=a2_0x49028a;function a2_0x2afa(_0x2dd779,_0x474f09){const _0x4ee529=a2_0x4ee5();return a2_0x2afa=function(_0x2afa37,_0x5685c6){_0x2afa37=_0x2afa37-0x11c;let _0x49918d=_0x4ee529[_0x2afa37];return _0x49918d;},a2_0x2afa(_0x2dd779,_0x474f09);}async function run(_0x3accaa,_0x2b197d){const _0x35881a=a2_0x373642,_0x3b5a36={'oKzHr':function(_0x2949c7,_0x358699){return _0x2949c7+_0x358699;},'bjzFP':function(_0xf1a81c,_0x5bd2d5){return _0xf1a81c(_0x5bd2d5);},'CtUmi':function(_0x221a5c,_0x25949c){return _0x221a5c+_0x25949c;},'hhWZn':function(_0x4f3490,_0x1f8aa4,_0x7ad44d){return _0x4f3490(_0x1f8aa4,_0x7ad44d);},'DKkCM':_0x35881a(0x197),'adtBq':function(_0x1e16e7){return _0x1e16e7();},'ZSWhn':function(_0x580cc0){return _0x580cc0();},'fgubV':'Failed\x20:\x20','PuZyA':_0x35881a(0x152),'wlOXk':'Started\x20:\x20','LBGAA':'5|4|2|3|0|1','FrgPs':_0x35881a(0x157),'XzxeP':_0x35881a(0x1a4),'UuZqR':'Playwright','YtcSE':_0x35881a(0x1ac),'jDslU':function(_0x2979a7,_0x197963){return _0x2979a7(_0x197963);},'OBLzD':function(_0x20b552,_0x568a2b){return _0x20b552!=_0x568a2b;},'vJOvW':function(_0x1628af,_0x10d18a){return _0x1628af===_0x10d18a;},'eFEAb':'gherkin','JtbNi':'-cucumber','BBGKv':function(_0x458e9f,_0x11ebf4){return _0x458e9f*_0x11ebf4;},'SmoEo':_0x35881a(0x12a),'yTzMQ':function(_0x3c5b58,_0xc171c3,_0x228868){return _0x3c5b58(_0xc171c3,_0x228868);},'WyTDT':_0x35881a(0x1a3),'Jlnpg':function(_0xbad45c,_0x52c0c6,_0x3c1146){return _0xbad45c(_0x52c0c6,_0x3c1146);},'uDcVs':_0x35881a(0x19b),'JhZUj':_0x35881a(0x19a),'EuIlx':_0x35881a(0x182),'mZhot':function(_0x4edb47){return _0x4edb47();}},_0x302235=new BrowserStackSetup(_0x3accaa,_0x3b5a36[_0x35881a(0x127)]);await _0x302235[_0x35881a(0x198)](),await helper[_0x35881a(0x17a)](_0x302235[_0x35881a(0x13e)]);if(!_0x302235['config'])return;process[_0x35881a(0x188)]=_0x3accaa[_0x35881a(0x188)];_0x3accaa['profile']&&(process['env'][_0x35881a(0x188)]=_0x3accaa['profile']);const _0x240d62=_0x3b5a36[_0x35881a(0x136)](getUserCodeceptJSConfigs,_0x3accaa,_0x2b197d);let _0x456a1f={};_0x240d62?(logger['info']('Getting\x20your\x20codeceptjs\x20configs\x20from\x20'+_0x240d62),_0x456a1f=CodeceptJS[_0x35881a(0x13e)][_0x35881a(0x12d)](_0x240d62)):logger[_0x35881a(0x170)](_0x3b5a36[_0x35881a(0x18e)]);let _0x58ac43=![];_0x3b5a36[_0x35881a(0x136)](nestedKeyValue,_0x456a1f,[_0x3b5a36[_0x35881a(0x159)],_0x3b5a36[_0x35881a(0x14f)]])&&(_0x58ac43=!![]);const _0x3f0edb=_0x58ac43?_0x3b5a36[_0x35881a(0x14f)]:_0x3b5a36[_0x35881a(0x171)];let _0x68b81f=!_0x58ac43?helper[_0x35881a(0x181)](_0x302235[_0x35881a(0x13e)]):![];!helper['isUndefined'](_0x302235[_0x35881a(0x13e)]['accessibilityOptions'])&&(process[_0x35881a(0x1aa)][_0x35881a(0x177)]=JSON['stringify'](_0x302235['config'][_0x35881a(0x185)]));let _0x2916e6=_0x302235[_0x35881a(0x13e)][_0x35881a(0x130)];_0x2916e6=_0x2916e6||_0x3b5a36[_0x35881a(0x1a7)](checkAccessibilityPlatformConfig,_0x302235[_0x35881a(0x13e)]),process[_0x35881a(0x1aa)][_0x35881a(0x140)]=_0x2916e6;_0x2916e6&&(_0x68b81f=!_0x2916e6);_0x3b5a36[_0x35881a(0x180)](_0x302235[_0x35881a(0x13e)][_0x35881a(0x15a)],null)?process[_0x35881a(0x1aa)]['BROWSERSTACK_TEST_OBSERVABILITY_YML']=_0x302235[_0x35881a(0x13e)][_0x35881a(0x15a)]:process[_0x35881a(0x1aa)][_0x35881a(0x190)]=_0x3b5a36['vJOvW'](_0x3f0edb,_0x3b5a36[_0x35881a(0x14f)]);const _0x17422e=_0x3b5a36[_0x35881a(0x18a)](_0x3b5a36['FrgPs'],_0x3b5a36[_0x35881a(0x136)](nestedKeyValue,_0x456a1f,[_0x3b5a36['eFEAb']])?_0x3b5a36['JtbNi']:''),_0x1629ca=await TestHubHandler['launchBuild'](_0x17422e,_0x302235);_0x2916e6&&_0x3b5a36[_0x35881a(0x174)](setAccessibilityCapabilities,_0x302235['config']);const _0x694c3f={},_0x37b099=[],_0x3ab2da=_0x302235[_0x35881a(0x13e)][_0x35881a(0x16c)]||helper[_0x35881a(0x167)](_0x3accaa,_0x2b197d,_0x302235[_0x35881a(0x13e)],constants[_0x35881a(0x164)]['CODECEPT'])||0x1;let _0x17a6e3=0x1;if(_0x3b5a36['adtBq'](isBrowserstackInfra)){const _0x17f116=helper[_0x35881a(0x13c)](_0x302235[_0x35881a(0x13e)],_0x68b81f,constants['FRAMEWORKS'][_0x35881a(0x14c)]);_0x17f116[_0x35881a(0x141)](_0x119b76=>{const _0x4372b8=_0x35881a;helper[_0x4372b8(0x13d)](_0x119b76);}),helper[_0x35881a(0x11e)](_0x302235[_0x35881a(0x13e)])?_0x17a6e3=_0x3b5a36[_0x35881a(0x192)](_0x3ab2da,_0x302235['config'][_0x35881a(0x195)][_0x35881a(0x144)]):_0x17a6e3=_0x3ab2da,_0x17f116[_0x35881a(0x141)](_0x25ae1e=>{const _0x1129b2=_0x35881a,_0x2d7fb6={'NzKwO':function(_0x1638a2,_0x4da7c6){const _0xfe64d9=a2_0x2afa;return _0x3b5a36[_0xfe64d9(0x19c)](_0x1638a2,_0x4da7c6);},'rISHQ':function(_0x7f56fa,_0x46abd8){const _0x5f0e35=a2_0x2afa;return _0x3b5a36[_0x5f0e35(0x174)](_0x7f56fa,_0x46abd8);}},_0x34351d=_0x3b5a36[_0x1129b2(0x18a)](helper[_0x1129b2(0x13f)](_0x25ae1e,'_'),'_'+Date['now']()),_0x63303e=((()=>{const _0x83aa5b=_0x1129b2;if(_0x58ac43){const _0x4cff0d=pwToCodeceptBrowser[_0x25ae1e[_0x83aa5b(0x16e)]]||_0x25ae1e[_0x83aa5b(0x16e)];return{'browser':_0x4cff0d,[_0x4cff0d]:{'browserWSEndpoint':_0x2d7fb6[_0x83aa5b(0x169)](helper[_0x83aa5b(0x173)](_0x302235[_0x83aa5b(0x13e)]),_0x2d7fb6[_0x83aa5b(0x149)](encodeURIComponent,JSON[_0x83aa5b(0x186)](_0x25ae1e)))}};}const _0x21b804={};return _0x21b804['desiredCapabilities']=_0x25ae1e,_0x21b804;})()),_0x5952e4=_0x3b5a36[_0x1129b2(0x136)](nestedKeyValue,_0x456a1f,[_0x3b5a36[_0x1129b2(0x159)],_0x3f0edb]);_0x694c3f[_0x34351d]=_0x5952e4?helper[_0x1129b2(0x138)](_0x63303e,_0x5952e4):_0x63303e,!_0x58ac43&&(_0x694c3f[_0x34351d][_0x1129b2(0x12a)]=_0x25ae1e[_0x1129b2(0x16e)]||_0x63303e['browser']),_0x37b099[_0x1129b2(0x139)](_0x34351d);});}else{_0x17a6e3=0x1;if(_0x58ac43){const _0x532f53=_0x3b5a36[_0x35881a(0x136)](nestedKeyValue,_0x456a1f,[_0x3b5a36[_0x35881a(0x159)],_0x3f0edb,_0x3b5a36['SmoEo']]),_0x24736d=_0x3b5a36[_0x35881a(0x158)](nestedKeyValue,_0x456a1f,[_0x3b5a36[_0x35881a(0x159)],_0x3f0edb,_0x532f53]);_0x24736d&&_0x24736d[_0x35881a(0x162)]&&(_0x24736d[_0x35881a(0x162)]=helper['prepareCapabilities'](null,null,_0x17422e[_0x35881a(0x19e)](),null,null,_0x24736d[_0x35881a(0x162)]));}else _0x456a1f[_0x3b5a36[_0x35881a(0x159)]][_0x3f0edb][_0x3b5a36[_0x35881a(0x189)]]=helper[_0x35881a(0x13c)](null,null,_0x17422e[_0x35881a(0x19e)](),_0x3b5a36[_0x35881a(0x196)](nestedKeyValue,_0x456a1f,[_0x3b5a36[_0x35881a(0x159)],_0x3f0edb,_0x3b5a36[_0x35881a(0x189)]]),null,null);_0x694c3f[_0x3b5a36[_0x35881a(0x122)]]=_0x456a1f,_0x37b099[_0x35881a(0x139)](_0x3b5a36[_0x35881a(0x122)]);}const _0x4e1873={};_0x4e1873['testConfig']=_0x240d62;const _0x554373=_0x4e1873,_0x5131c=path[_0x35881a(0x143)](__dirname,_0x3b5a36[_0x35881a(0x12c)]),_0x320942=process[_0x35881a(0x187)]();process[_0x35881a(0x1aa)][_0x3b5a36['EuIlx']]=_0x320942,process['chdir'](path[_0x35881a(0x19d)](_0x240d62));const _0x3f075c=new CodeceptJS[(_0x35881a(0x155))](null,_0x554373),_0x2dc86c=_0x3f075c['createGroupsOfSuites'](_0x17a6e3),_0x44161b=testOpsHelper[_0x35881a(0x124)](),_0x34b19f=_0x37b099[_0x35881a(0x166)](_0x1e011e=>{const _0x4149aa=_0x35881a,_0x40f4d3={};_0x40f4d3[_0x4149aa(0x133)]=_0x694c3f[_0x1e011e];const _0x5042d5={};_0x5042d5[_0x4149aa(0x1ac)]=_0x694c3f[_0x1e011e];const _0x3e9a5e=_0x58ac43?_0x40f4d3:_0x5042d5,_0x1cfa4e=_0x3b5a36[_0x4149aa(0x123)](getO11yRerunPattern),_0x1a8b47={};_0x1a8b47[_0x4149aa(0x197)]=_0x3e9a5e;const _0x19ff43={};_0x19ff43[_0x4149aa(0x11d)]=_0x5131c,_0x19ff43[_0x4149aa(0x14e)]=!![],_0x19ff43['skipSessionName']=_0x302235[_0x4149aa(0x13e)]['testContextOptions']['skipSessionName'],_0x19ff43[_0x4149aa(0x18d)]=_0x302235[_0x4149aa(0x13e)][_0x4149aa(0x178)][_0x4149aa(0x18d)],_0x19ff43['testObservability']=_0x44161b,_0x19ff43[_0x4149aa(0x15e)]=_0x17422e;const _0x3d745f={};_0x3d745f[_0x4149aa(0x135)]=_0x19ff43;const _0x48c0ec={};return _0x48c0ec[_0x4149aa(0x184)]=_0x3d745f,helper[_0x4149aa(0x138)]({},_0x456a1f,_0x3b5a36['ZSWhn'](isBrowserstackInfra)?_0x1a8b47:{},_0x1cfa4e?{'grep':_0x1cfa4e}:{},_0x48c0ec);});for(const _0x595a4c of _0x34b19f){for(const _0x5ddd2c of _0x2dc86c){const _0x14536e=_0x3f075c[_0x35881a(0x175)]();_0x14536e[_0x35881a(0x17e)](_0x5ddd2c),_0x14536e[_0x35881a(0x1a5)](_0x595a4c);}}_0x3f075c['on'](CodeceptJS[_0x35881a(0x125)]['test'][_0x35881a(0x14b)],(_0x466814,_0x4e7835)=>{const _0x530b3c=_0x35881a;console[_0x530b3c(0x120)](_0x3b5a36['fgubV'],_0x466814['title']);const _0x1b2615={[_0x466814['title']]:_0x466814[_0x530b3c(0x154)][_0x530b3c(0x17c)]};_testErrorData[_0x530b3c(0x139)](_0x1b2615);}),_0x3f075c['on'](CodeceptJS['event'][_0x35881a(0x163)][_0x35881a(0x132)],async _0x2ad279=>{const _0x4f9177=_0x35881a;console[_0x4f9177(0x120)](_0x3b5a36[_0x4f9177(0x146)],_0x2ad279[_0x4f9177(0x148)]);}),_0x3f075c['on'](CodeceptJS[_0x35881a(0x125)][_0x35881a(0x163)][_0x35881a(0x16f)],async _0x131683=>{const _0x26d3e6=_0x35881a;console['log'](_0x3b5a36[_0x26d3e6(0x18c)],_0x131683[_0x26d3e6(0x148)]);}),_0x3f075c['on'](CodeceptJS[_0x35881a(0x125)][_0x35881a(0x153)][_0x35881a(0x147)],async()=>{const _0x512b5d=_0x35881a,_0x1218a3=_0x3b5a36['LBGAA']['split']('|');let _0x18a07f=0x0;while(!![]){switch(_0x1218a3[_0x18a07f++]){case'0':try{await TestHubHandler[_0x512b5d(0x11c)]();}catch(_0x309269){logger[_0x512b5d(0x199)]('Exception\x20in\x20stop\x20build\x20request\x20to\x20testhub\x20:\x20'+util['format'](_0x309269));}continue;case'1':_0x3f075c[_0x512b5d(0x12f)]();continue;case'2':testOpsHelper[_0x512b5d(0x1a6)]();continue;case'3':utilities[_0x512b5d(0x12b)](_0x302235);continue;case'4':_0x302235['errorMessage']=_testErrorData;continue;case'5':PerformanceTester['start'](PerformanceEvents[_0x512b5d(0x150)]);continue;}break;}});async function _0x5c1a31(){const _0x22bcba=_0x35881a;try{await _0x3f075c[_0x22bcba(0x1a2)](),await _0x3f075c[_0x22bcba(0x121)]();}finally{process['chdir'](_0x320942),await _0x3f075c[_0x22bcba(0x129)]();}}PerformanceTester[_0x35881a(0x176)](PerformanceEvents[_0x35881a(0x145)]),_0x3b5a36[_0x35881a(0x131)](_0x5c1a31);}module['exports']=run;