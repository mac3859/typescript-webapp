const a16_0x272273=a16_0x33fa;(function(_0x5abebd,_0x48220f){const _0x4e8b93=a16_0x33fa,_0x23f48c=_0x5abebd();while(!![]){try{const _0x29c75f=-parseInt(_0x4e8b93(0x8a))/0x1*(-parseInt(_0x4e8b93(0x87))/0x2)+-parseInt(_0x4e8b93(0x98))/0x3+-parseInt(_0x4e8b93(0xad))/0x4+-parseInt(_0x4e8b93(0xa0))/0x5*(parseInt(_0x4e8b93(0x65))/0x6)+parseInt(_0x4e8b93(0xa4))/0x7+-parseInt(_0x4e8b93(0x7c))/0x8+-parseInt(_0x4e8b93(0x9a))/0x9*(-parseInt(_0x4e8b93(0x7d))/0xa);if(_0x29c75f===_0x48220f)break;else _0x23f48c['push'](_0x23f48c['shift']());}catch(_0x20b92d){_0x23f48c['push'](_0x23f48c['shift']());}}}(a16_0x32ed,0x1b1f8));const helper=require(a16_0x272273(0x68)),constants=require(a16_0x272273(0x9e)),{isTestObservabilitySession}=require(a16_0x272273(0xa8)),RequestQueueHandler=require(a16_0x272273(0x9f)),ObservabilityReporter=require('../test-observability/obsReporter'),testhubUtils=require(a16_0x272273(0xaf)),getTestEnvironment=((()=>{const _0x69dff6=a16_0x272273,_0x255735={};_0x255735['YZeYz']='jest-resolve',_0x255735['wWHPB']=_0x69dff6(0xa5);const _0x3149d9=_0x255735;try{const _0x171089=helper[_0x69dff6(0xb8)](_0x3149d9[_0x69dff6(0x9b)]);if(_0x171089[_0x69dff6(0x64)])return _0x171089[_0x69dff6(0x64)];const _0x341cb3=helper[_0x69dff6(0xb8)](_0x3149d9[_0x69dff6(0xac)]);if(_0x341cb3['getTestEnvironment'])return _0x341cb3[_0x69dff6(0xa2)];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0x195060=a16_0x272273,_0x2aeb31={'Xohyl':function(_0x1f6090,_0xe21536){return _0x1f6090(_0xe21536);},'HPxbP':_0x195060(0xaa),'qPJzS':function(_0x2fa46e,_0x20b743){return _0x2fa46e(_0x20b743);},'TxZdj':_0x195060(0x99)},_0x7b989d=_0x2aeb31[_0x195060(0x6c)](getTestEnvironment,{'rootDir':process['cwd'](),'testEnvironment':process[_0x195060(0x86)][_0x195060(0x83)]||_0x2aeb31[_0x195060(0x8d)]});if(!_0x7b989d)return _0x2aeb31[_0x195060(0xb1)](_interopRequireDefault,helper[_0x195060(0xb8)](_0x2aeb31['TxZdj']));return _0x2aeb31[_0x195060(0xb1)](_interopRequireDefault,helper['requireModule'](_0x7b989d));})()),_seleniumWebdriver2=((()=>{const _0x1cf127=a16_0x272273,_0x13c223={'ZdoPA':function(_0x221c8b,_0x47523d){return _0x221c8b(_0x47523d);}};try{const _0x29de0f=helper[_0x1cf127(0x69)]();return helper[_0x1cf127(0x8c)](),_0x13c223[_0x1cf127(0xb5)](_interopRequireDefault,_0x29de0f);}catch{return null;}})());function a16_0x32ed(){const _0x1f23d6=['jest-environment-node','466893JueMZg','YZeYz','framework','driver','../../utils/constants','../../../helpers/test-observability/requestQueueHandler','548345BiKAAh','FRAMEWORKS','getTestEnvironment','__skipSessionStatus','1041579lKQgiL','jest-config','testEnvironmentOptions','__timeout','../../../helpers/test-observability/utils','DwSJs','node','browserstackAgentV2','wWHPB','295196EYCNCY','projectConfig','../../../helpers/testhub/utils','PNDlb','qPJzS','VDoPg','split','3|4|1|0|2','ZdoPA','browserstackPlatformIndex','eDRvV','requireModule','tURzC','skipSessionName','resolveTestEnvironment','6BpqjTu','browserStackGlobals','__webdriver','../../../helpers/helper','requireSeleniumWebdriver','RWpJk','global','Xohyl','percy','isTrue','configuration','quit','hEWXv','BeXEh','testContext','__drivers','registerListeners','__driversArray','Zsbcm','sessionNameProvided','shutdown','__esModule','nestedKeyValue','362936UOmnry','50fiFXye','getInstance','builder','shouldProcessEventForTesthub','__platformCaps','JEST','BSTACK_JEST_TEST_ENV','capability','setup','env','7678euxQGN','default','qjAfH','15LjxspI','percyCaptureMode','modifyCommand','HPxbP','FaqNF','../../../index','cleanup','browserstackPercyBestPlatform','OXSeu','skipSessionStatus','test','ESiWq','Builder','isBrowserstackInfra','377508cpMpLV'];a16_0x32ed=function(){return _0x1f23d6;};return a16_0x32ed();}function _interopRequireDefault(_0x11129f){const _0x4ac529=a16_0x272273;return _0x11129f&&_0x11129f[_0x4ac529(0x7a)]?_0x11129f:{'default':_0x11129f};}function a16_0x33fa(_0x3b9632,_0x44203e){const _0x32edab=a16_0x32ed();return a16_0x33fa=function(_0x33faaa,_0x370ad5){_0x33faaa=_0x33faaa-0x64;let _0x30c7dc=_0x32edab[_0x33faaa];return _0x30c7dc;},a16_0x33fa(_0x3b9632,_0x44203e);}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2[a16_0x272273(0x88)][a16_0x272273(0x96)]:null;class CustomEnvironment extends _jestUserEnvironment[a16_0x272273(0x88)]{constructor(_0x1c7c2b){const _0xcdaa1f=a16_0x272273,_0x26854b={'eDRvV':_0xcdaa1f(0x70),'PNDlb':_0xcdaa1f(0xb4),'tURzC':function(_0x138e88,_0xe2d7b2){return _0x138e88+_0xe2d7b2;},'ESiWq':'7|2|6|3|1|5|8|4|9|0','OXSeu':_0xcdaa1f(0xa6),'BeXEh':'browserStackPercyOptions','VDoPg':_0xcdaa1f(0x6d),'hEWXv':function(_0x2ec89a,_0x40bf75){return _0x2ec89a(_0x40bf75);},'FaqNF':_0xcdaa1f(0x8f),'DwSJs':_0xcdaa1f(0x91),'RWpJk':_0xcdaa1f(0x8b),'Wguly':'platformCaps'};super(_0x1c7c2b),this[_0xcdaa1f(0x6b)][_0xcdaa1f(0xa7)]=0x0,this[_0xcdaa1f(0x6f)]={};!_0x1c7c2b[_0xcdaa1f(0xa6)]&&(_0x1c7c2b[_0xcdaa1f(0xa6)]={});if(helper[_0xcdaa1f(0x97)]()){const _0x3bd8dd=_0x26854b[_0xcdaa1f(0xb0)][_0xcdaa1f(0xb3)]('|');let _0x4dc4c4=0x0;while(!![]){switch(_0x3bd8dd[_0x4dc4c4++]){case'0':this[_0xcdaa1f(0x84)]=_0x1c7c2b[_0xcdaa1f(0xae)]?_0x1c7c2b[_0xcdaa1f(0xae)][_0xcdaa1f(0x84)]:_0x1c7c2b[_0xcdaa1f(0x84)];continue;case'1':this[_0xcdaa1f(0x6f)]=_0x1c7c2b[_0xcdaa1f(0xa6)];continue;case'2':this[_0xcdaa1f(0x6b)][_0xcdaa1f(0xa7)]=_0x26854b[_0xcdaa1f(0xb9)](this[_0xcdaa1f(0x6f)]['timeout__'],constants['BSTACK_DELTA']);continue;case'3':_0x1c7c2b[_0xcdaa1f(0xa6)]=_0x1c7c2b['projectConfig']?_0x1c7c2b[_0xcdaa1f(0xae)][_0xcdaa1f(0xa6)]:_0x1c7c2b[_0xcdaa1f(0xa6)];continue;case'4':this[_0xcdaa1f(0x7f)]=new _seleniumWebdriver2[(_0xcdaa1f(0x88))][(_0xcdaa1f(0x96))]();continue;}break;}}if(testhubUtils[_0xcdaa1f(0x80)]()){const _0x1adcd3=new ObservabilityReporter();_0x1adcd3[_0xcdaa1f(0x75)]();}this[_0xcdaa1f(0x6b)][_0xcdaa1f(0x66)]={},this[_0xcdaa1f(0x6f)][_0xcdaa1f(0x9c)]=constants[_0xcdaa1f(0xa1)][_0xcdaa1f(0x82)];if(_seleniumWebdriver2){const _0x1f19ab=_0x26854b[_0xcdaa1f(0x95)]['split']('|');let _0x20d352=0x0;while(!![]){switch(_0x1f19ab[_0x20d352++]){case'0':this[_0xcdaa1f(0x6b)][_0xcdaa1f(0x90)]=async()=>{const _0x1fe0c0=_0xcdaa1f;await this[_0x1fe0c0(0x6b)][_0x1fe0c0(0x9d)][_0x1fe0c0(0x70)](_0x26854b[_0x1fe0c0(0xb7)]);};continue;case'1':this[_0xcdaa1f(0x6b)][_0xcdaa1f(0x6d)]=helper[_0xcdaa1f(0x7b)](_0x1c7c2b,[_0x26854b[_0xcdaa1f(0x92)],_0x26854b[_0xcdaa1f(0x72)],_0x26854b[_0xcdaa1f(0xb2)]]);continue;case'2':this[_0xcdaa1f(0x6b)]['__webdriver']=_0x26854b[_0xcdaa1f(0x71)](require,_0x26854b[_0xcdaa1f(0x8e)])[_0xcdaa1f(0xab)]({...this[_0xcdaa1f(0x6f)],'capability':this[_0xcdaa1f(0x84)]||{}},this,testhubUtils['shouldProcessEventForTesthub']());continue;case'3':this[_0xcdaa1f(0x6b)][_0xcdaa1f(0x91)]=helper['nestedKeyValue'](_0x1c7c2b,[_0x26854b[_0xcdaa1f(0x92)],_0x26854b[_0xcdaa1f(0x72)],_0x26854b[_0xcdaa1f(0xa9)]]);continue;case'4':helper[_0xcdaa1f(0x6e)](this[_0xcdaa1f(0x6f)][_0xcdaa1f(0xba)])?this[_0xcdaa1f(0x6b)][_0xcdaa1f(0x78)]=!![]:this['global'][_0xcdaa1f(0x78)]=![];continue;case'5':this[_0xcdaa1f(0x6b)][_0xcdaa1f(0x8b)]=helper[_0xcdaa1f(0x7b)](_0x1c7c2b,[_0x26854b[_0xcdaa1f(0x92)],_0x26854b[_0xcdaa1f(0x72)],_0x26854b[_0xcdaa1f(0x6a)]]);continue;case'6':this['global'][_0xcdaa1f(0xb6)]=(_0x1c7c2b[_0xcdaa1f(0xae)]?_0x1c7c2b['projectConfig'][_0xcdaa1f(0xb6)]:_0x1c7c2b[_0xcdaa1f(0xb6)])||0x0;continue;case'7':this['global'][_0xcdaa1f(0x74)]=[];continue;case'8':this[_0xcdaa1f(0x6b)][_0xcdaa1f(0x81)]=helper[_0xcdaa1f(0x7b)](this[_0xcdaa1f(0x6f)],[_0x26854b['Wguly'],this['global']['browserstackPlatformIndex']])||{};continue;case'9':this[_0xcdaa1f(0x6b)][_0xcdaa1f(0xa3)]=helper[_0xcdaa1f(0x6e)](this[_0xcdaa1f(0x6f)][_0xcdaa1f(0x93)]);continue;}break;}}}async['teardown'](){const _0x228a79=a16_0x272273;_seleniumWebdriver2&&(await helper['cleanupDrivers'](this[_0x228a79(0x6b)][_0x228a79(0x76)]),this['global'][_0x228a79(0x67)][_0x228a79(0x96)]=originalBuilder),await RequestQueueHandler[_0x228a79(0x7e)]()[_0x228a79(0x79)]();}async[a16_0x272273(0x85)](){}async['handleTestEvent'](_0x587ced,_0x3048d1){const _0x4556ce=a16_0x272273,_0x54c003={};_0x54c003[_0x4556ce(0x89)]=function(_0x1a8e4e,_0x2a1bab){return _0x1a8e4e===_0x2a1bab;},_0x54c003['Zsbcm']='test_start';const _0x1b2511=_0x54c003,{name:_0x4d8222}=_0x587ced;_0x1b2511[_0x4556ce(0x89)](_0x4d8222,_0x1b2511[_0x4556ce(0x77)])&&(this[_0x4556ce(0x6b)][_0x4556ce(0x73)]=_0x587ced[_0x4556ce(0x94)]);}}module['exports']=CustomEnvironment;