#!/usr/bin/env node
'use strict';const a33_0x47244e=a33_0x329b;function a33_0x329b(_0xf47e71,_0x2ea420){const _0x30245a=a33_0x3024();return a33_0x329b=function(_0x329b98,_0x360e8a){_0x329b98=_0x329b98-0x1e4;let _0x578b27=_0x30245a[_0x329b98];return _0x578b27;},a33_0x329b(_0xf47e71,_0x2ea420);}(function(_0x497e71,_0x5b386b){const _0x10c6de=a33_0x329b,_0x1e1047=_0x497e71();while(!![]){try{const _0x9ff6c5=-parseInt(_0x10c6de(0x202))/0x1+parseInt(_0x10c6de(0x201))/0x2+parseInt(_0x10c6de(0x218))/0x3*(parseInt(_0x10c6de(0x1f7))/0x4)+parseInt(_0x10c6de(0x223))/0x5*(-parseInt(_0x10c6de(0x1ea))/0x6)+-parseInt(_0x10c6de(0x20e))/0x7+parseInt(_0x10c6de(0x203))/0x8+parseInt(_0x10c6de(0x1fb))/0x9;if(_0x9ff6c5===_0x5b386b)break;else _0x1e1047['push'](_0x1e1047['shift']());}catch(_0x317cc7){_0x1e1047['push'](_0x1e1047['shift']());}}}(a33_0x3024,0x3b564));const fs=require('fs'),path=require(a33_0x47244e(0x1ee)),{spawn}=require(a33_0x47244e(0x226)),logger=require(a33_0x47244e(0x1ed))[a33_0x47244e(0x22a)],{default:BrowserStackSetup}=require(a33_0x47244e(0x1ef)),helper=require('../../helpers/helper'),constants=require(a33_0x47244e(0x204)),getUserNightwatchConfigs=(_0x5ca3ca,_0x121247)=>{const _0x295457=a33_0x47244e,_0x20e06a={'XSGQR':_0x295457(0x225),'pCpfl':_0x295457(0x207),'utxmQ':function(_0x311b55,_0x3672b3){return _0x311b55(_0x3672b3);},'mvKpa':'Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file'};let _0x1ccedd=null,_0x49a785={};const _0x29b19d=_0x121247['findIndex'](_0x4b3b26=>_0x4b3b26===_0x295457(0x1e5));if(!helper[_0x295457(0x212)](_0x5ca3ca[_0x295457(0x20d)])&&fs[_0x295457(0x1fd)](path[_0x295457(0x208)](process['cwd'](),_0x5ca3ca[_0x295457(0x20d)])))_0x1ccedd=path[_0x295457(0x208)](process[_0x295457(0x1fa)](),_0x5ca3ca['config']),_0x121247['splice'](_0x29b19d,0x2);else{if(fs[_0x295457(0x1fd)](path['join'](process[_0x295457(0x1fa)](),_0x20e06a['XSGQR'])))_0x1ccedd=path[_0x295457(0x208)](process[_0x295457(0x1fa)](),_0x20e06a[_0x295457(0x219)]);else fs[_0x295457(0x1fd)](path[_0x295457(0x208)](process['cwd'](),_0x20e06a[_0x295457(0x227)]))&&(_0x1ccedd=path[_0x295457(0x208)](process['cwd'](),_0x20e06a[_0x295457(0x227)]));}return _0x1ccedd?(logger[_0x295457(0x1f9)](_0x295457(0x1e9)+_0x1ccedd),_0x49a785=_0x20e06a[_0x295457(0x1fc)](require,_0x1ccedd)):logger[_0x295457(0x1f9)](_0x20e06a[_0x295457(0x21a)]),_0x49a785;},removeExistingEnvs=_0x17e18a=>{const _0x361ba8=a33_0x47244e,_0x3e9018={};_0x3e9018[_0x361ba8(0x21c)]=function(_0x1a9a1e,_0x4f96e2){return _0x1a9a1e>_0x4f96e2;},_0x3e9018['jMFHt']=function(_0x10745d,_0x18507a){return _0x10745d>_0x18507a;};const _0x406e0d=_0x3e9018;let _0x54f292=_0x17e18a[_0x361ba8(0x22b)](_0x18f5e6=>_0x18f5e6===_0x361ba8(0x217));_0x406e0d[_0x361ba8(0x21c)](_0x54f292,-0x1)&&_0x17e18a[_0x361ba8(0x209)](_0x54f292,0x2),_0x54f292=_0x17e18a['findIndex'](_0x3a4426=>_0x3a4426==='-e'),_0x406e0d[_0x361ba8(0x20c)](_0x54f292,-0x1)&&_0x17e18a[_0x361ba8(0x209)](_0x54f292,0x2);};function run(_0xe5da75,_0x32a046){const _0x1bdd2a=a33_0x47244e,_0x356cbb={'dCCBU':_0x1bdd2a(0x1ff),'JEyLg':function(_0x268fe3,_0x395372){return _0x268fe3+_0x395372;},'iqyNk':_0x1bdd2a(0x214),'QsvSe':function(_0x2dc111,_0x2c067d,_0x15bdaa){return _0x2dc111(_0x2c067d,_0x15bdaa);},'VOwkA':_0x1bdd2a(0x1f5),'gcIlQ':'Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','GgaaU':function(_0x2627f5,_0x881ee9){return _0x2627f5===_0x881ee9;},'NRoUs':_0x1bdd2a(0x1f1),'ZTNeB':function(_0x5a3016,_0x416f42){return _0x5a3016(_0x416f42);},'fYOVA':function(_0x34d3ee,_0x306c83,_0x1fbe30,_0xe9c9a8){return _0x34d3ee(_0x306c83,_0x1fbe30,_0xe9c9a8);},'ZJczK':_0x1bdd2a(0x22d),'Nssxk':_0x1bdd2a(0x1e5),'LMVMw':'--env','hyxZU':_0x1bdd2a(0x224),'UbOlO':_0x1bdd2a(0x210)},_0x3ab6f0=new BrowserStackSetup(_0xe5da75);if(!_0x3ab6f0[_0x1bdd2a(0x20d)])return;const _0x191ecb=_0x356cbb[_0x1bdd2a(0x1fe)](getUserNightwatchConfigs,_0xe5da75,_0x32a046),_0x36e5a0={};_0x36e5a0[_0x1bdd2a(0x1f8)]=![];const _0x232ebb={};_0x232ebb['host']=_0x356cbb['VOwkA'],_0x232ebb[_0x1bdd2a(0x21f)]=0x1bb;const _0x11f8c3={};_0x11f8c3[_0x1bdd2a(0x1ec)]=_0x36e5a0,_0x11f8c3[_0x1bdd2a(0x215)]=_0x232ebb;const _0x2e0968=_0x11f8c3;logger['info'](_0x356cbb[_0x1bdd2a(0x1f3)]);const _0x4d1fc1={..._0x191ecb},_0x368d6f=_0x4d1fc1,_0x1fb821=helper['useW3C'](_0x3ab6f0[_0x1bdd2a(0x20d)]),_0x291982=[];_0x3ab6f0['config']['platforms'][_0x1bdd2a(0x1f2)]((_0x387660,_0x1af8f4)=>{const _0x43f46f=_0x1bdd2a;_0x1fb821?_0x291982[_0x43f46f(0x22e)](helper[_0x43f46f(0x1f6)](_0x3ab6f0[_0x43f46f(0x20d)],_0x356cbb[_0x43f46f(0x1e4)],_0x1af8f4)):_0x291982[_0x43f46f(0x22e)](helper[_0x43f46f(0x1f0)](_0x3ab6f0[_0x43f46f(0x20d)],_0x356cbb['dCCBU'],_0x1af8f4));});const _0x5e8596={},_0x35daf4=[];_0xe5da75[_0x1bdd2a(0x222)]=_0xe5da75['env']||_0xe5da75['e'];const _0x3af408=_0xe5da75['env']?_0xe5da75[_0x1bdd2a(0x222)]['trim']()[_0x1bdd2a(0x220)](',')[_0x1bdd2a(0x20f)](_0x3345f7=>_0x3345f7['trim']())['filter'](_0x3eb744=>_0x3eb744!==''):[''];_0x356cbb[_0x1bdd2a(0x228)](_0x3af408[_0x1bdd2a(0x205)],0x0)&&_0x3af408[_0x1bdd2a(0x22e)]('');_0x3af408[_0x1bdd2a(0x1f2)](_0x2c6c86=>{const _0x135f19=_0x1bdd2a;_0x291982[_0x135f19(0x1f2)](_0x338408=>{const _0x13b512=_0x135f19;let _0x14595a=_0x356cbb[_0x13b512(0x1e8)](helper['getPlatformName'](_0x338408,'_'),'_'+Date[_0x13b512(0x1e7)]());_0x2c6c86&&(_0x14595a+='_'+_0x2c6c86);if(_0x2c6c86&&(!_0x191ecb[_0x356cbb[_0x13b512(0x1eb)]]||!_0x191ecb[_0x356cbb[_0x13b512(0x1eb)]][_0x2c6c86]))return;const _0x51db77={..._0x2e0968};_0x51db77[_0x13b512(0x206)]=_0x338408;const _0x49ade2=_0x51db77;_0x5e8596[_0x14595a]=_0x2c6c86?helper[_0x13b512(0x221)](_0x191ecb[_0x356cbb[_0x13b512(0x1eb)]][_0x2c6c86],_0x49ade2):_0x49ade2,_0x35daf4[_0x13b512(0x22e)](_0x14595a);});});!_0x368d6f[_0x1bdd2a(0x214)]&&(_0x368d6f[_0x1bdd2a(0x214)]={});_0x368d6f['test_settings']={..._0x368d6f[_0x1bdd2a(0x214)],..._0x5e8596};const _0x556e65=path['join'](__dirname,_0x356cbb[_0x1bdd2a(0x216)]);fs[_0x1bdd2a(0x211)](_0x556e65,JSON['stringify'](_0x368d6f)),_0x356cbb[_0x1bdd2a(0x22c)](removeExistingEnvs,_0x32a046);const _0x4c0ea1=_0x356cbb[_0x1bdd2a(0x20a)](spawn,/^win/[_0x1bdd2a(0x21b)](process[_0x1bdd2a(0x20b)])?_0x356cbb['ZJczK']:_0x356cbb[_0x1bdd2a(0x1e4)],[_0x356cbb['Nssxk'],_0x556e65,..._0x32a046[_0x1bdd2a(0x200)](0x1),_0x356cbb[_0x1bdd2a(0x213)],_0x35daf4[_0x1bdd2a(0x208)](',')],{'stdio':_0x356cbb[_0x1bdd2a(0x21d)]});_0x4c0ea1['on'](_0x356cbb[_0x1bdd2a(0x21e)],async _0x1970b3=>{const _0x2e1aa4=_0x1bdd2a;logger['debug'](_0x2e1aa4(0x1e6)+_0x1970b3),logger[_0x2e1aa4(0x1f9)](_0x2e1aa4(0x1f4)+_0x556e65),fs[_0x2e1aa4(0x229)](_0x556e65);});}module['exports']=run;function a33_0x3024(){const _0x141a56=['split','mergeDeep','env','695juxrwj','inherit','nightwatch.conf.js','child_process','pCpfl','GgaaU','unlinkSync','winstonLogger','findIndex','ZTNeB','nightwatch.cmd','push','dCCBU','--config','child\x20process\x20exited\x20with\x20code\x20','now','JEyLg','Getting\x20your\x20nightwatch\x20configs\x20from\x20','8934rNDHoI','iqyNk','webdriver','../../helpers/logger','path','../../helpers/BrowserStackSetup','modifyBrowserStackCaps','nightwatch-browserstack.json','forEach','gcIlQ','Deleting\x20','hub.browserstack.com','modifyBrowserStackW3CCaps','7036vHlXjJ','start_process','info','cwd','2511513mjRocE','utxmQ','existsSync','QsvSe','nightwatch','slice','716468UOaymg','399672AybYOS','2180360zBULmw','../utils/constants','length','desiredCapabilities','nightwatch.json','join','splice','fYOVA','platform','jMFHt','config','3289972RbWLiO','map','close','writeFileSync','isUndefined','LMVMw','test_settings','selenium','NRoUs','--env','699pRSltf','XSGQR','mvKpa','test','zRREi','hyxZU','UbOlO','port'];a33_0x3024=function(){return _0x141a56;};return a33_0x3024();}