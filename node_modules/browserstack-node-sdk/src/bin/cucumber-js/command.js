#!/usr/bin/env node
'use strict';const a5_0x1c1a59=a5_0x5e49;(function(_0xd838e5,_0x4bf48d){const _0x3f2201=a5_0x5e49,_0x23616e=_0xd838e5();while(!![]){try{const _0x5d1ba0=parseInt(_0x3f2201(0x1f7))/0x1*(-parseInt(_0x3f2201(0x1e3))/0x2)+parseInt(_0x3f2201(0x1d6))/0x3*(parseInt(_0x3f2201(0x181))/0x4)+-parseInt(_0x3f2201(0x1c3))/0x5+-parseInt(_0x3f2201(0x1ca))/0x6*(-parseInt(_0x3f2201(0x1a2))/0x7)+parseInt(_0x3f2201(0x184))/0x8+parseInt(_0x3f2201(0x1da))/0x9*(-parseInt(_0x3f2201(0x1f6))/0xa)+parseInt(_0x3f2201(0x1f0))/0xb;if(_0x5d1ba0===_0x4bf48d)break;else _0x23616e['push'](_0x23616e['shift']());}catch(_0x1d7f46){_0x23616e['push'](_0x23616e['shift']());}}}(a5_0x2871,0x7ae05));function a5_0x2871(){const _0x421660=['config','useW3C','Removing\x20tmp\x20directory\x20created\x20for\x20reports','gPhlt','chalk','FRAMEWORKS','ycTbJ','\x20failed','tPwfA','../../helpers/performance/constants','SDK_CLEANUP','bold','processSuccess','debug','4853300snokJA','cucumber-js','../../helpers/performance/performance-tester','testContextOptions','CUCUMBER','../../helpers/logger','join','2863470IDIerf','QEbew','getUserWorkerCount','stepsFailed','initialize','accessibilityOptions','PzQmL','exitCode','handleApp','stepsPending','length','\x20passed','484740hAotCK','cwd','ZBYSW','../../helpers/testhub/testhubHandler','5823smohXp','OsjVS','bgWhite','finally','\x20steps','getTCGConfigFilePaths','stepsSkipped','scenariosFailed','JOLby','1952788UNCodG','tmp','scenarios','IMfBl','createDir','error\x20removing\x20tcg\x20config\x20file','green','true','../test-runner','forEach','parseFormatters','\x20pending','parallelsPerPlatform','6940307Nrubyj','../../helpers/BrowserStackSetup','util','yMYqh','path','JpdRH','970eAuXbJ','1zsaWto','then','ExRnG','stringify','\x20ambiguous','QjsFA','\x20skipped','12CfgwdG','qtGLD','format','7361536UqCTCz','stepsPassed','BROWSERSTACK_TEST_OBSERVABILITY_YML','hGGon','xSacp','mergeOutputFiles','Jzwvt','SrnMQ','\x20scenarios','setupTCGAuth','GCRey','launchBuild','env','prepareCapabilities','isUndefined','../../helpers/test-observability/utils','unlinkSync','red','UrQCn','stepsAmbiguous','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','getPlatformName','pyFDE','****\x20RESULTS\x20****','end','getErrorMessageFromResults','printBuildLink','../../helpers/utilities','rmdirSync','../../helpers/helper','7edwWPf','argv','stepsUndefined','start','pdNUU','Exception\x20in\x20stop\x20build\x20request\x20to\x20testhub\x20:\x20','yellow','iReKh','removeDir','log','cucumber','push','sSkhR','cyan','testObservability','hvICm','PdxYD','skipSessionStatus','cqepb'];a5_0x2871=function(){return _0x421660;};return a5_0x2871();}function a5_0x5e49(_0x4ca94b,_0x4d6764){const _0x2871ba=a5_0x2871();return a5_0x5e49=function(_0x5e49b3,_0x325919){_0x5e49b3=_0x5e49b3-0x17d;let _0x4b764f=_0x2871ba[_0x5e49b3];return _0x4b764f;},a5_0x5e49(_0x4ca94b,_0x4d6764);}const fs=require('fs'),path=require(a5_0x1c1a59(0x1f4)),util=require(a5_0x1c1a59(0x1f2)),logger=require(a5_0x1c1a59(0x1c8))['winstonLogger'],{default:BrowserStackSetup}=require(a5_0x1c1a59(0x1f1)),helper=require(a5_0x1c1a59(0x1a1)),utilities=require(a5_0x1c1a59(0x19f)),constants=require('../utils/constants'),{parallelCucumberRun}=require(a5_0x1c1a59(0x1eb)),TestHubHandler=require(a5_0x1c1a59(0x1d9)),testOpsHelper=require(a5_0x1c1a59(0x193)),chalk=require(a5_0x1c1a59(0x1b9)),PerformanceTester=require(a5_0x1c1a59(0x1c5)),PerformanceEvents=require(a5_0x1c1a59(0x1be))['EVENTS'];function printCucumberStats(_0x4e9a08){const _0x43cdea=a5_0x1c1a59,_0xc1b523={};_0xc1b523[_0x43cdea(0x1cb)]=function(_0x7c16d9,_0x21b656){return _0x7c16d9>_0x21b656;},_0xc1b523[_0x43cdea(0x1e2)]=function(_0xe73510,_0xa99ad9){return _0xe73510-_0xa99ad9;},_0xc1b523['yMYqh']=function(_0x1f852d,_0x5e255f){return _0x1f852d-_0x5e255f;},_0xc1b523[_0x43cdea(0x1a9)]=function(_0x131079,_0x15cef2){return _0x131079>_0x15cef2;},_0xc1b523['GCRey']=function(_0x11da7c,_0x4f0ed5){return _0x11da7c>_0x4f0ed5;},_0xc1b523[_0x43cdea(0x1f9)]=function(_0x5abc85,_0x2851b0){return _0x5abc85>_0x2851b0;},_0xc1b523[_0x43cdea(0x196)]=function(_0x301100,_0x5f48c8){return _0x301100>_0x5f48c8;},_0xc1b523['ycTbJ']=function(_0x44bbae,_0x4120be){return _0x44bbae>_0x4120be;},_0xc1b523[_0x43cdea(0x1f5)]=function(_0xff1b31,_0x4fbb6a){return _0xff1b31+_0x4fbb6a;},_0xc1b523[_0x43cdea(0x1e6)]=function(_0x3c406d,_0x4abaf2){return _0x3c406d+_0x4abaf2;},_0xc1b523[_0x43cdea(0x1db)]=function(_0x5e81d6,_0x1f6ea0){return _0x5e81d6+_0x1f6ea0;},_0xc1b523[_0x43cdea(0x1bd)]=function(_0x1e698b,_0x4e2b19){return _0x1e698b===_0x4e2b19;},_0xc1b523[_0x43cdea(0x182)]=function(_0x47ef56,_0x41f553){return _0x47ef56===_0x41f553;},_0xc1b523[_0x43cdea(0x17f)]=_0x43cdea(0x19b);const _0x2f7e91=_0xc1b523;let _0x366606=0x0;if(_0x2f7e91[_0x43cdea(0x182)](_0x4e9a08[_0x43cdea(0x1d4)],0x0))return _0x366606;return console['log'](chalk[_0x43cdea(0x1c0)][_0x43cdea(0x1dc)](_0x2f7e91[_0x43cdea(0x17f)])),_0x4e9a08[_0x43cdea(0x1ec)](_0x2327e0=>{const _0x41bf53=_0x43cdea,_0x35e919=_0x2327e0[0x0],_0x37d712=_0x2327e0[0x1];console['log']('\x0a'+chalk[_0x41bf53(0x1c0)]['yellow'](''+helper[_0x41bf53(0x199)](_0x35e919)));const _0x43eb6c=_0x37d712[_0x41bf53(0x1e5)],_0x435795=_0x37d712['steps'],_0xd5b929=_0x37d712[_0x41bf53(0x1e1)],_0x397fa9=_0x37d712[_0x41bf53(0x1cd)],_0x329e24=_0x37d712[_0x41bf53(0x185)],_0xa1123c=_0x37d712[_0x41bf53(0x1e0)],_0x4b3773=_0x37d712[_0x41bf53(0x1d3)],_0x476fad=_0x37d712[_0x41bf53(0x1a4)],_0x4da38d=_0x37d712['stepsUnknown'],_0x89fd98=_0x37d712[_0x41bf53(0x197)],_0x38aa6a=_0x37d712[_0x41bf53(0x1c1)];let _0x2c6aa5=_0x43eb6c+_0x41bf53(0x18c);const _0x41d200=_0x2f7e91['QEbew'](_0x2f7e91['JOLby'](_0x43eb6c,_0xd5b929),0x0)?_0x2f7e91[_0x41bf53(0x1f3)](_0x43eb6c,_0xd5b929):0x0;if(_0x2f7e91[_0x41bf53(0x1cb)](_0xd5b929,0x0)&&_0x2f7e91[_0x41bf53(0x1a9)](_0x41d200,0x0))_0x2c6aa5+='\x20('+chalk[_0x41bf53(0x1c0)][_0x41bf53(0x195)](_0xd5b929+_0x41bf53(0x1bc))+',\x20'+chalk[_0x41bf53(0x1c0)][_0x41bf53(0x1e9)](_0x41d200+'\x20passed')+')';else(_0x2f7e91[_0x41bf53(0x18e)](_0xd5b929,0x0)||_0x2f7e91[_0x41bf53(0x1a9)](_0x41d200,0x0))&&(_0x2c6aa5+=_0x2f7e91['ExRnG'](_0xd5b929,0x0)?'\x20('+chalk['bold'][_0x41bf53(0x195)](_0xd5b929+_0x41bf53(0x1bc))+')':'\x20('+chalk[_0x41bf53(0x1c0)][_0x41bf53(0x1e9)](_0x41d200+_0x41bf53(0x1d5))+')');const _0x3c3398=_0x435795+_0x41bf53(0x1de),_0xbf2bc3=[];_0x2f7e91['GCRey'](_0x89fd98,0x0)&&_0xbf2bc3[_0x41bf53(0x1ad)](''+chalk[_0x41bf53(0x1c0)]['red'](_0x89fd98+_0x41bf53(0x17e)));_0x2f7e91[_0x41bf53(0x18e)](_0x397fa9,0x0)&&_0xbf2bc3[_0x41bf53(0x1ad)](''+chalk[_0x41bf53(0x1c0)][_0x41bf53(0x195)](_0x397fa9+_0x41bf53(0x1bc)));_0x2f7e91[_0x41bf53(0x1f9)](_0x329e24,0x0)&&_0xbf2bc3[_0x41bf53(0x1ad)](''+chalk[_0x41bf53(0x1c0)][_0x41bf53(0x1e9)](_0x329e24+_0x41bf53(0x1d5)));_0x2f7e91['UrQCn'](_0x4b3773,0x0)&&_0xbf2bc3['push'](''+chalk[_0x41bf53(0x1c0)][_0x41bf53(0x1a8)](_0x4b3773+_0x41bf53(0x1ee)));_0x2f7e91[_0x41bf53(0x1f9)](_0xa1123c,0x0)&&_0xbf2bc3[_0x41bf53(0x1ad)](''+chalk['bold'][_0x41bf53(0x1af)](_0xa1123c+'\x20skipped'));_0x2f7e91[_0x41bf53(0x1bb)](_0x476fad,0x0)&&_0xbf2bc3[_0x41bf53(0x1ad)](''+chalk[_0x41bf53(0x1c0)][_0x41bf53(0x1a8)](_0x476fad+'\x20undefined'));_0x2f7e91[_0x41bf53(0x196)](_0x4da38d,0x0)&&_0xbf2bc3[_0x41bf53(0x1ad)](''+chalk[_0x41bf53(0x1c0)]['yellow'](_0x4da38d+_0x41bf53(0x180)));const _0x20f034=_0x2f7e91['JpdRH'](_0x2f7e91[_0x41bf53(0x1f5)](_0x2f7e91[_0x41bf53(0x1e6)](_0x3c3398,'('),_0xbf2bc3[_0x41bf53(0x1c9)](',\x20')),')');console[_0x41bf53(0x1ab)](_0x2f7e91[_0x41bf53(0x1f5)](_0x2f7e91[_0x41bf53(0x1f5)](_0x2f7e91[_0x41bf53(0x1db)](_0x2f7e91[_0x41bf53(0x1f5)]('\x0a',_0x2c6aa5),'\x0a'),_0x20f034),'\x0a')),_0x2f7e91['tPwfA'](_0x38aa6a,![])&&(_0x366606=0x1);}),_0x366606;}async function run(_0x21bd5e,_0x4f4dd0){const _0x50cc6b=a5_0x1c1a59,_0x2a8ad8={'Jzwvt':function(_0x16521b,_0x4ae42c){return _0x16521b(_0x4ae42c);},'SrnMQ':function(_0x49feca,_0x1f1fa0){return _0x49feca>_0x1f1fa0;},'pyFDE':'Generating\x20consolidated\x20report...','PzQmL':_0x50cc6b(0x1b7),'xSacp':_0x50cc6b(0x1ac),'cqepb':_0x50cc6b(0x1e8),'ZBYSW':_0x50cc6b(0x1c4),'hvICm':_0x50cc6b(0x1e4),'gPhlt':function(_0x17950d,_0x2d9431){return _0x17950d>_0x2d9431;},'PdxYD':function(_0x4dd7a2,_0xb189cc){return _0x4dd7a2-_0xb189cc;},'nzlKC':function(_0x3f305c,_0x1db9cd){return _0x3f305c>=_0x1db9cd;},'pdNUU':function(_0x2943d2,_0x3b68e8){return _0x2943d2!=_0x3b68e8;},'sSkhR':_0x50cc6b(0x1ea),'hGGon':function(_0x546f75,_0x1d1aab,_0x266627,_0xb7e28a,_0xfbac5a,_0x44cbc0){return _0x546f75(_0x1d1aab,_0x266627,_0xb7e28a,_0xfbac5a,_0x44cbc0);}},_0xc3dec2=new BrowserStackSetup(_0x21bd5e,_0x2a8ad8[_0x50cc6b(0x1d8)]);await _0xc3dec2[_0x50cc6b(0x1ce)]();!helper['isBrowserstackInfra']()&&await _0xc3dec2[_0x50cc6b(0x18d)]();await helper[_0x50cc6b(0x1d2)](_0xc3dec2['config']);const _0x4283fe=helper[_0x50cc6b(0x1b6)](_0xc3dec2[_0x50cc6b(0x1b5)]),_0x574000=helper[_0x50cc6b(0x191)](_0xc3dec2[_0x50cc6b(0x1b5)],_0x4283fe,constants[_0x50cc6b(0x1ba)][_0x50cc6b(0x1c7)]);if(!_0xc3dec2[_0x50cc6b(0x1b5)])return;const _0x46fccf=_0xc3dec2[_0x50cc6b(0x1b5)][_0x50cc6b(0x1ef)]||helper[_0x50cc6b(0x1cc)](_0x21bd5e,_0x4f4dd0,_0xc3dec2['config'],constants['FRAMEWORKS'][_0x50cc6b(0x1c7)])||0x1,_0x10a138={'server':helper['getHubUrl'](_0xc3dec2[_0x50cc6b(0x1b5)]),'proxySettings':_0xc3dec2[_0x50cc6b(0x1b5)]['proxySettings'],'maxWorkers':_0x46fccf,'browserStackLogLevel':_0xc3dec2['config']['logLevel'],'skipSessionName':_0xc3dec2[_0x50cc6b(0x1b5)][_0x50cc6b(0x1c6)]['skipSessionName'],'skipSessionStatus':_0xc3dec2['config']['testContextOptions'][_0x50cc6b(0x1b3)],'turboScaleUrl':_0xc3dec2[_0x50cc6b(0x1b5)]['turboScaleUrl']},_0x2bf019=process[_0x50cc6b(0x1a3)],[_0xe3791,_0x654b0a]=helper[_0x50cc6b(0x1ed)](_0x2bf019),_0x1e4d70=path[_0x50cc6b(0x1c9)](process[_0x50cc6b(0x1d7)](),_0x2a8ad8[_0x50cc6b(0x1b1)]);if(_0x2a8ad8[_0x50cc6b(0x1b8)](_0x654b0a['length'],0x0)){helper[_0x50cc6b(0x1e7)](_0x1e4d70);for(let _0x6c71c0=_0x2a8ad8[_0x50cc6b(0x1b2)](_0xe3791[_0x50cc6b(0x1d4)],0x1);_0x2a8ad8['nzlKC'](_0x6c71c0,0x0);_0x6c71c0--){_0x2bf019['splice'](_0xe3791[_0x6c71c0],0x2);}}!helper[_0x50cc6b(0x192)](_0xc3dec2[_0x50cc6b(0x1b5)]['accessibilityOptions'])&&(process[_0x50cc6b(0x190)][_0x50cc6b(0x198)]=JSON[_0x50cc6b(0x17d)](_0xc3dec2[_0x50cc6b(0x1b5)][_0x50cc6b(0x1cf)]));_0x2a8ad8[_0x50cc6b(0x1a6)](_0xc3dec2['config'][_0x50cc6b(0x1b0)],null)?process[_0x50cc6b(0x190)][_0x50cc6b(0x186)]=_0xc3dec2[_0x50cc6b(0x1b5)][_0x50cc6b(0x1b0)]:process[_0x50cc6b(0x190)]['BROWSERSTACK_TEST_OBSERVABILITY_YML']=_0x2a8ad8[_0x50cc6b(0x1ae)];const _0x3cadc0=await TestHubHandler[_0x50cc6b(0x18f)](constants[_0x50cc6b(0x1ba)][_0x50cc6b(0x1c7)],_0xc3dec2);PerformanceTester[_0x50cc6b(0x19c)](PerformanceEvents['SDK_SETUP']);let _0x403f83;_0x2a8ad8[_0x50cc6b(0x187)](parallelCucumberRun,_0x574000,_0x10a138,_0xc3dec2[_0x50cc6b(0x1b5)],_0x2bf019,_0x654b0a)[_0x50cc6b(0x1f8)](async _0x40ee65=>{const _0x7b9943=_0x50cc6b;PerformanceTester['start'](PerformanceEvents[_0x7b9943(0x1bf)]),_0x403f83=_0x40ee65;const _0x22335d=_0x2a8ad8[_0x7b9943(0x18a)](printCucumberStats,_0x40ee65);process[_0x7b9943(0x1d1)]=_0x22335d,_0x2a8ad8[_0x7b9943(0x18b)](_0x654b0a[_0x7b9943(0x1d4)],0x0)&&(logger[_0x7b9943(0x1c2)](_0x2a8ad8[_0x7b9943(0x19a)]),helper[_0x7b9943(0x189)](_0x1e4d70,_0x654b0a),logger[_0x7b9943(0x1c2)](_0x2a8ad8[_0x7b9943(0x1d0)]),helper[_0x7b9943(0x1aa)](_0x1e4d70));})[_0x50cc6b(0x1dd)](async()=>{const _0x2b0fc7=_0x50cc6b;PerformanceTester[_0x2b0fc7(0x1a5)](PerformanceEvents[_0x2b0fc7(0x1bf)]),_0xc3dec2['errorMessage']=helper[_0x2b0fc7(0x19d)](_0x403f83,_0x2a8ad8[_0x2b0fc7(0x188)]),testOpsHelper[_0x2b0fc7(0x19e)]();try{await TestHubHandler['stop']();}catch(_0x457bba){logger[_0x2b0fc7(0x1c2)](_0x2b0fc7(0x1a7)+util[_0x2b0fc7(0x183)](_0x457bba));}try{const {browserstackFolderPath:_0x24a0ad,tcgConfigPath:_0x3ed0a8}=helper[_0x2b0fc7(0x1df)]();fs[_0x2b0fc7(0x194)](_0x3ed0a8),fs[_0x2b0fc7(0x1a0)](_0x24a0ad);}catch(_0x289fd1){logger[_0x2b0fc7(0x1c2)](_0x2a8ad8[_0x2b0fc7(0x1b4)],_0x289fd1);}await utilities['finalExecution'](_0xc3dec2);});}module['exports']=run;