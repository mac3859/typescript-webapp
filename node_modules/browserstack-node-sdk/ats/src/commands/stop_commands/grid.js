function a19_0x582c(){const _0x3ce49=['Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20stop','KdXSS','skip-tls-cert-verify','2117538RUZuFH','kvWDg','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','error','statusCode','usage','info','gBxkY','1137078aOVEWN','unauthorised','qUDAt','grid','cloudProvider','<PasswordPlaceholder>','readFileSync','argv','cEqpa','STkma','init-not-called','Pass\x20the\x20ID\x20of\x20the\x20running\x20Automation\x20grid\x20you\x20want\x20to\x20stop.','oEAIg','Adding\x20Websocket\x20listeners','uqZJL','desc','options','string','ERROR','clusterName','oLbGX','2904804jckNAv','stop-grid-called','298764MmpCZz','../../utils/createk8sClient','SqUue','PzXKA','handler','replace','36035nSEPOV','Skip\x20insecure\x20cert\x20verification.','IEJzy','skipTlsCertVerify','DINkE','QiuvX','WebSocket','Stop\x20a\x20running\x20Automation\x20grid.','name','message','password','dfALN','Unable\x20to\x20stop\x20the\x20Grid!\x20Error:\x20','body','../../config/logger','clusterRegion','boolean','region','parse','default','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','tScbD','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','connectionTimeout','exit','server-error','HyBbn','qSaoK','376YGWrfH','gridId','grid-id','Zvpdq','813831FnULRA','../../utils/utilityMethods','152MlvOxk','../../utils/instrumentationUtils','stringify','YTikP','reconnecting-websocket','436383tJNJTj','epilogue','Browserstack','help','type','username'];a19_0x582c=function(){return _0x3ce49;};return a19_0x582c();}const a19_0x185ffd=a19_0x45cc;(function(_0x750c6e,_0x280996){const _0x4d97d2=a19_0x45cc,_0x4793b8=_0x750c6e();while(!![]){try{const _0x418931=parseInt(_0x4d97d2(0x1f3))/0x1+-parseInt(_0x4d97d2(0x222))/0x2+-parseInt(_0x4d97d2(0x20b))/0x3+-parseInt(_0x4d97d2(0x1ef))/0x4*(parseInt(_0x4d97d2(0x1d3))/0x5)+parseInt(_0x4d97d2(0x203))/0x6+-parseInt(_0x4d97d2(0x220))/0x7+-parseInt(_0x4d97d2(0x1f5))/0x8*(-parseInt(_0x4d97d2(0x1fa))/0x9);if(_0x418931===_0x280996)break;else _0x4793b8['push'](_0x4793b8['shift']());}catch(_0x18a70f){_0x4793b8['push'](_0x4793b8['shift']());}}}(a19_0x582c,0x720e1));const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require(a19_0x185ffd(0x1f9)),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require('../../config/constants'),{logger}=require(a19_0x185ffd(0x1e1)),{getCredentialsPath,getGridDetails}=require(a19_0x185ffd(0x1f4)),{scaleDownHubDeployment}=require('../../utils/gridComponents'),{sendInstrumentationEvent}=require(a19_0x185ffd(0x1f6)),webSocketUtils=require('../../utils/webSocketUtils'),{createK8sClient}=require(a19_0x185ffd(0x223)),{getCloudProviderObject}=require('../../cloudproviders/utils');function a19_0x45cc(_0x3ca483,_0x2e906b){const _0x582cd8=a19_0x582c();return a19_0x45cc=function(_0x45ccb,_0x2ce188){_0x45ccb=_0x45ccb-0x1cf;let _0x5bd8d1=_0x582cd8[_0x45ccb];return _0x5bd8d1;},a19_0x45cc(_0x3ca483,_0x2e906b);}exports['command']=a19_0x185ffd(0x20e),exports[a19_0x185ffd(0x21a)]=a19_0x185ffd(0x1da),exports['builder']=function(_0x243231){const _0x3c8578=a19_0x185ffd,_0x1a8005={};_0x1a8005[_0x3c8578(0x1e8)]=_0x3c8578(0x216),_0x1a8005[_0x3c8578(0x1f8)]=_0x3c8578(0x21c),_0x1a8005[_0x3c8578(0x1d0)]=_0x3c8578(0x1d4),_0x1a8005[_0x3c8578(0x20d)]=_0x3c8578(0x1e3),_0x1a8005[_0x3c8578(0x1f2)]=_0x3c8578(0x1fd);const _0x345903=_0x1a8005,_0x57b330={};_0x57b330['description']=_0x345903[_0x3c8578(0x1e8)],_0x57b330['type']=_0x345903[_0x3c8578(0x1f8)];const _0x20ae8d={};_0x20ae8d['description']=_0x345903[_0x3c8578(0x1d0)],_0x20ae8d[_0x3c8578(0x1fe)]=_0x345903[_0x3c8578(0x20d)],_0x20ae8d[_0x3c8578(0x1e6)]=![];const _0x2f691a={};return _0x2f691a[_0x3c8578(0x1f1)]=_0x57b330,_0x2f691a[_0x3c8578(0x202)]=_0x20ae8d,_0x243231[_0x3c8578(0x208)](HELP_HEADER_MESSAGE['stop'])[_0x3c8578(0x1fb)](HELP_FOOTER_MESSAGE)[_0x3c8578(0x21b)](_0x2f691a)[_0x3c8578(0x1fd)](_0x345903[_0x3c8578(0x1f2)])[_0x3c8578(0x212)];},exports[a19_0x185ffd(0x1d1)]=async function(_0x49f0aa){const _0x49f0fd=a19_0x185ffd,_0x1898cc={'oEAIg':_0x49f0fd(0x200),'cEqpa':function(_0x436c87){return _0x436c87();},'DINkE':_0x49f0fd(0x1e9),'KdXSS':function(_0x11bb78,_0xbbe1cf,_0x3a0cf4,_0x86ae33,_0x32660d,_0x4dd65e,_0x17aa65){return _0x11bb78(_0xbbe1cf,_0x3a0cf4,_0x86ae33,_0x32660d,_0x4dd65e,_0x17aa65);},'oLbGX':_0x49f0fd(0x221),'bpyBX':_0x49f0fd(0x215),'QiuvX':function(_0x44d180,_0x18350b,_0x23d819,_0x2f53b8,_0x201187,_0x24b25b,_0x498362){return _0x44d180(_0x18350b,_0x23d819,_0x2f53b8,_0x201187,_0x24b25b,_0x498362);},'WNBwD':'<UsernamePlaceholder>','wSYVC':_0x49f0fd(0x210),'IEJzy':_0x49f0fd(0x218),'STkma':function(_0x5ef716,_0x506783,_0x57c531,_0x4ac781){return _0x5ef716(_0x506783,_0x57c531,_0x4ac781);},'SqUue':function(_0x4767f7,_0x437219,_0x4d0b9f,_0xabf3cb,_0x23dbbf,_0x1e5259,_0x4172f1){return _0x4767f7(_0x437219,_0x4d0b9f,_0xabf3cb,_0x23dbbf,_0x1e5259,_0x4172f1);},'eyNLL':function(_0x1be275,_0x54b173,_0x29b57c){return _0x1be275(_0x54b173,_0x29b57c);},'HyBbn':function(_0x34e759,_0x27f823,_0x2dfc82){return _0x34e759(_0x27f823,_0x2dfc82);},'kvWDg':'Grid\x20stoppped.','HosJm':function(_0x152e19,_0x3e6541){return _0x152e19===_0x3e6541;},'gBxkY':_0x49f0fd(0x205),'qSaoK':_0x49f0fd(0x20c),'dfALN':function(_0x8ba309,_0x2a9117){return _0x8ba309===_0x2a9117;},'uqZJL':'invalid-grid-id','nyNNL':_0x49f0fd(0x1ec)};let _0x4a8c9;try{!_0x49f0aa['gridId']&&(logger[_0x49f0fd(0x206)](_0x1898cc[_0x49f0fd(0x217)]),process[_0x49f0fd(0x1eb)](0x1));!fs['existsSync'](_0x1898cc[_0x49f0fd(0x213)](getCredentialsPath))&&(logger['error'](_0x1898cc[_0x49f0fd(0x1d7)]),await _0x1898cc[_0x49f0fd(0x201)](sendInstrumentationEvent,_0x49f0aa,_0x1898cc[_0x49f0fd(0x21f)],messageTypes[_0x49f0fd(0x21d)],_0x1898cc['bpyBX'],null,_0x49f0aa),process['exit'](0x1));logger['info']('Stopping\x20grid\x20'+_0x49f0aa[_0x49f0fd(0x1f0)]),await _0x1898cc[_0x49f0fd(0x1d8)](sendInstrumentationEvent,_0x49f0aa,_0x1898cc['oLbGX'],messageTypes['INFO'],null,null,_0x49f0aa);const _0xe2880f=JSON[_0x49f0fd(0x1e5)](fs[_0x49f0fd(0x211)](_0x1898cc[_0x49f0fd(0x213)](getCredentialsPath)));global_registry['bstackUsername']=_0xe2880f[_0x49f0fd(0x1fc)]['username'],global_registry['bstackAccesskey']=_0xe2880f[_0x49f0fd(0x1fc)]['password'];const _0x3d38d7=WS_ENDPOINT[_0x49f0fd(0x1d2)](_0x1898cc['WNBwD'],_0xe2880f[_0x49f0fd(0x1fc)][_0x49f0fd(0x1ff)])[_0x49f0fd(0x1d2)](_0x1898cc['wSYVC'],_0xe2880f[_0x49f0fd(0x1fc)][_0x49f0fd(0x1dd)]),_0x44be69={};_0x44be69[_0x49f0fd(0x1d9)]=ws,_0x44be69[_0x49f0fd(0x1ea)]=0x36ee80,_0x4a8c9=new ReconnectingWebSocket(_0x3d38d7,[],_0x44be69),logger['debug'](_0x1898cc[_0x49f0fd(0x1d5)]),webSocketUtils['addListeners'](_0x4a8c9,_0x49f0aa['user'],_0x49f0aa['password']);const [_0x5982d6,_0x28058e]=await _0x1898cc[_0x49f0fd(0x214)](getGridDetails,_0xe2880f[_0x49f0fd(0x1fc)][_0x49f0fd(0x1ff)],_0xe2880f['Browserstack'][_0x49f0fd(0x1dd)],_0x49f0aa[_0x49f0fd(0x1f0)]);if(_0x28058e){const _0x4cc746=_0x28058e[_0x49f0fd(0x209)];global_registry[_0x49f0fd(0x20f)]=_0x4cc746[_0x49f0fd(0x20f)],global_registry[_0x49f0fd(0x1e2)]=_0x4cc746[_0x49f0fd(0x1e4)],global_registry[_0x49f0fd(0x21e)]=_0x4cc746[_0x49f0fd(0x21e)];const _0x1b03a3=await _0x1898cc[_0x49f0fd(0x1cf)](getCloudProviderObject,_0x4cc746['cloudProvider'],_0x4cc746['clusterName'],_0x4cc746[_0x49f0fd(0x1db)],_0x4a8c9,webSocketUtils,_0x49f0aa),[_0x80acac,_0x292a2b,_0x5eef09,_0x4b1cce,_0x1c306a,_0x46e8b3]=await _0x1898cc['eyNLL'](createK8sClient,_0x1b03a3,_0x49f0aa[_0x49f0fd(0x1d6)]);await _0x1898cc[_0x49f0fd(0x1ed)](scaleDownHubDeployment,_0x292a2b,_0x4cc746[_0x49f0fd(0x1db)]),logger['info'](_0x1898cc[_0x49f0fd(0x204)]),process['exit'](0x0);}_0x1898cc['HosJm'](_0x5982d6[_0x49f0fd(0x207)],0x191)&&(logger[_0x49f0fd(0x206)](_0x1898cc[_0x49f0fd(0x20a)]),await _0x1898cc[_0x49f0fd(0x1cf)](sendInstrumentationEvent,_0x49f0aa,_0x1898cc[_0x49f0fd(0x21f)],messageTypes[_0x49f0fd(0x21d)],_0x1898cc[_0x49f0fd(0x1ee)],null,_0x49f0aa),process['exit'](0x1)),_0x1898cc[_0x49f0fd(0x1de)](_0x5982d6[_0x49f0fd(0x207)],0x190)&&(logger[_0x49f0fd(0x206)](JSON['parse'](_0x5982d6[_0x49f0fd(0x1e0)])[_0x49f0fd(0x1dc)]),await _0x1898cc['QiuvX'](sendInstrumentationEvent,_0x49f0aa,_0x1898cc[_0x49f0fd(0x21f)],messageTypes[_0x49f0fd(0x21d)],_0x1898cc[_0x49f0fd(0x219)],null,_0x49f0aa),process[_0x49f0fd(0x1eb)](0x1)),logger['error'](_0x49f0fd(0x1e7)+JSON[_0x49f0fd(0x1f7)](_0x5982d6)),await _0x1898cc['SqUue'](sendInstrumentationEvent,_0x49f0aa,_0x1898cc[_0x49f0fd(0x21f)],messageTypes[_0x49f0fd(0x21d)],_0x1898cc['nyNNL'],_0x5982d6,_0x49f0aa),process[_0x49f0fd(0x1eb)](0x1);}catch(_0x56f3ef){const _0x3c6fc6=_0x49f0fd(0x1df)+_0x56f3ef+'\x20\x0a'+JSON[_0x49f0fd(0x1f7)](_0x56f3ef['stack'])+'\x20';logger[_0x49f0fd(0x206)](_0x3c6fc6),process[_0x49f0fd(0x1eb)](0x1);}};