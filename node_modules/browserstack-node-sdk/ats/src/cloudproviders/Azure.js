const a1_0x5700a2=a1_0x109a;(function(_0x95e7c8,_0x1f1671){const _0x530d52=a1_0x109a,_0x94b57f=_0x95e7c8();while(!![]){try{const _0x46cd0f=parseInt(_0x530d52(0x9c))/0x1*(-parseInt(_0x530d52(0xee))/0x2)+parseInt(_0x530d52(0x8e))/0x3*(-parseInt(_0x530d52(0xaa))/0x4)+-parseInt(_0x530d52(0x174))/0x5+-parseInt(_0x530d52(0x1ae))/0x6*(-parseInt(_0x530d52(0x139))/0x7)+-parseInt(_0x530d52(0x1d8))/0x8*(parseInt(_0x530d52(0x1ac))/0x9)+-parseInt(_0x530d52(0x121))/0xa*(-parseInt(_0x530d52(0x1ba))/0xb)+parseInt(_0x530d52(0x6b))/0xc;if(_0x46cd0f===_0x1f1671)break;else _0x94b57f['push'](_0x94b57f['shift']());}catch(_0xf9ef91){_0x94b57f['push'](_0x94b57f['shift']());}}}(a1_0x215f,0x2832d));const fs=require('fs'),path=require(a1_0x5700a2(0x133)),yaml=require('js-yaml'),{logger}=require('../config/logger'),{CloudProvider}=require(a1_0x5700a2(0x199)),{deleteRoutingDeps,deleteAgent}=require('../utils/gridComponents'),{AZURE,WS_EVENTS,global_registry}=require(a1_0x5700a2(0x1cb)),{ClientSecretCredential}=require('@azure/identity'),{NetworkManagementClient}=require(a1_0x5700a2(0x14d)),{StorageManagementClient}=require(a1_0x5700a2(0x159)),{ResourceManagementClient}=require(a1_0x5700a2(0x1c2)),{ContainerServiceClient}=require('@azure/arm-containerservice');function a1_0x215f(){const _0x26cc3c=['ihQvj','qHVaV','PoIrf','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','createStorageAccount','CqThh','exit','VFtik','DMWXW','.json','cloudProvider','browserstack:managedBy','XfJmQ','CVcAx','\x20CLIENT\x20SECRET:\x20','subnetName','hrkYM','Nuebw','Cannot\x20find\x20subnets\x20','definition','sendEventToBackend','ogRuu','Creating\x20Azure\x20managed\x20identity','updateClusterAlreadyPresent','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','nQjeg','FzLGx','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','default','storageAccounts','qbmGH','\x20RESOURCE\x20GROUP:\x20','s3Bucket','XyqJI','ppGns','BOGeJ','QkkFM','readFileAsync','yKRmf','XsEbo','bZhMN','cloudProviderClientId','cEetY','createManagedIdentity','atAsW','clientSecret','Cannot\x20find\x20VPC\x20','sendAzureInfoToHST','exports','vpcName','parameters','2023-01-31','clusterRegion','slice','getClusterInfo','OnACh','aUzHG','37142wQnWgp','ZZDEB','WdlmT','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','QNfuc','securityProfile','QOqBp','managementPolicies','baseBlob','figLl','QnLzq','ogVrO','node','IhNQB','enabled','ndWGb','BwXEX','CBbZU','WpZiy','createOrUpdate','beginCreateOrUpdateAndWait','EZSkO','SpItf','bqoeO','pevhC','LArOg','IHYWN','\x20TENANT\x20ID:\x20','DaEpG','IfvTd','0|4|2|3|1','GcyRj','createFederatedAccount','lPAJX','tags','AzureCloudProvider','aIYbZ','iDxcy','managedidentity.json','djvdg','policy','push','hDksm','join','eIjRZ','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','listByResourceGroup','rnarm','workloadIdentity','kubeconfigs','isStorageAccountPresent','882370sDIoWZ','userInstanceType','vnetSubnetID','KqAkq','iraQq','SnLgA','cloudProviderSubscriptionId','iqqpr','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','vpcInfo','oTRHU','ePUBM','RVwhm','Pagky','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','bVIIn','ZrUWM','issuerURL','path','iJYgd','KWmVx','gxVsL','5|3|0|2|1|4','HWgfz','49KyAKfd','Incremental','CLflW','YmqSJ','storageClient','zdrLA','toUpperCase','NNVTc','PIhZj','createOtherResources','KSYVZ','dlUge','RaFmp','yEyKs','listAll','utf-8','OhyQK','sReoU','cWFcN','disableLocalAccounts','@azure/arm-network','HqmSv','bUTCL','Blob\x20delete\x20lifecycle','3|1|4|2|0|5','list','KcGUM','getResourceGroups','cloudProviderResourceGroup','YOsLb','NMzgS','maxNodes','@azure/arm-storage','koGPE','getUserInput','akscluster.json','oidcIssuerProfile','okMQN','actions','GfaAk','error','JTYrc','fhCYH','IXtzn','JPLFw','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','fDpqO','JxTuh','azureresources','XvdiO','message','isClusterPresent','isManagedIdentityPresent','jHoqZ','SvFQQ','UQYDC','toLowerCase','Creating\x20Azure\x20federated\x20identity','ArPUV','822740HoWTKE','TAFvV','OGALT','length','TZRyD','cloudProviderTenantId','cloudProviderName','KjdJZ','OMoCr','pvkas','valAx','wAuyu','biMqw','cfKhd','BUedG','networkClient','dJRvp','RgwGI','properties','deployments','UidIL','cRpIM','containerClient','XxxzZ','tfRbf','mUHxT','tYmWL','accessKey','userMaxNodes','Creating\x20Azure\x20storage\x20account','IgrrN','info','blobTypes','TpYnn','qdyhV','mOGFp','setClients','./CloudProvider','zKUqy','UMNFi','status','WdScS','YKtIZ','hostname','split','wIQMY','VANpc','IOyzE','name','loadBalancer','turboscale-federated-deployment','hub','EFblc','hIYnz','byKpu','LzKRQ','62181ozjkkl','parse','167448TNJOwf','rmVfc','IXflk','resources','Nrssm','.\x20Error:\x20','subscriptionId','QedfJ','DcWxg','Ebepm','KzYkE','variables','11kuDfxz','log','TqijI','turboscale','nLAPC','webSocketUtils','clusterName','zOAcM','@azure/arm-resources','LOG','cloudProviderClientSecret','templates','YjHam','delete','2|5|4|1|3|0','filters','clientId','../config/constants','metadata','resourceGroup','NinHf','DHQPt','TyXkA','setCachedCredsInRegistry','aUKBS','turboscale-managed-identity-','loDRu','onLbI','IATIf','Storage\x20account\x20already\x20exists,\x20skipping','56dvCxkI','LUFcY','ykEPH','RESOURCES','siHDu','dFgXx','rules','5423772SBCeit','vksHQ','ingress','UWhlX','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','isVPCPresent','init','Kjtog','turboscale-cluster-deployment','WyRGH','tenantId','ZPZQv','JoMXJ','OTcph','getGridHostname','bstackAccesskey','SPuXa','GmGld','description','get','instanceType','dycIp','uBaYT','SDXVS','RVqRC','wkNgT','YtggL','Enabling\x20Local\x20account\x20for\x20the\x20cluster','NDGzd','string','agentPoolProfiles','VYaVn','jQQVS','QglPC','dqSCd','15207BtrnwN','blockBlob','oFkmZ','RAFFv','AffUQ','mTjfk','kSJkb','getStorageAccountName','hkZZw','zGVOD','managedClusters','rXfXX','type','mNCas','13cpNgPu','dbKMw','MktSp','rws','value','SSCEe','QltUW','createCluster','eygIL','eoqCI','XLuRn','MNtHs','BrowserStack','nnAHj','92SRkyEX','yFWbw','PrZGR','ceuCc','bstackUsername','isBrowserstackCluster','fvbpf','\x20CLIENT\x20ID:\x20','daysAfterCreationGreaterThan','clusterInfo','resourceClient'];a1_0x215f=function(){return _0x26cc3c;};return a1_0x215f();}function a1_0x109a(_0x1de7f9,_0x22d008){const _0x215f6b=a1_0x215f();return a1_0x109a=function(_0x109a64,_0x39dd74){_0x109a64=_0x109a64-0x6a;let _0x51fce9=_0x215f6b[_0x109a64];return _0x51fce9;},a1_0x109a(_0x1de7f9,_0x22d008);}class AzureCloudProvider extends CloudProvider{constructor(_0x432a7d,_0x57de8d,_0x4bfbb9,_0x71844){const _0x29123f=a1_0x5700a2,_0x18d309={};_0x18d309['JPLFw']=_0x29123f(0x151);const _0x318d85=_0x18d309,_0x3df31d=_0x318d85[_0x29123f(0x165)][_0x29123f(0x1a0)]('|');let _0x130ac3=0x0;while(!![]){switch(_0x3df31d[_0x130ac3++]){case'0':this[_0x29123f(0xb4)]=null;continue;case'1':this['clusterInfo']=null;continue;case'2':this[_0x29123f(0x13d)]=null;continue;case'3':super(AZURE,_0x432a7d,_0x57de8d,_0x4bfbb9,_0x71844);continue;case'4':this[_0x29123f(0x18a)]=null;continue;case'5':this[_0x29123f(0x183)]=null;continue;}break;}}async[a1_0x5700a2(0x71)](){return await super['init'](),this;}[a1_0x5700a2(0x198)](){const _0x36fcab=a1_0x5700a2,_0x4791a3=new ClientSecretCredential(global_registry[_0x36fcab(0x179)],global_registry[_0x36fcab(0xde)],global_registry[_0x36fcab(0x1c4)]);this['containerClient']=new ContainerServiceClient(_0x4791a3,global_registry[_0x36fcab(0x127)]),this['storageClient']=new StorageManagementClient(_0x4791a3,global_registry[_0x36fcab(0x127)]),this[_0x36fcab(0xb4)]=new ResourceManagementClient(_0x4791a3,global_registry[_0x36fcab(0x127)]),this[_0x36fcab(0x183)]=new NetworkManagementClient(_0x4791a3,global_registry[_0x36fcab(0x127)]);}[a1_0x5700a2(0x95)](){const _0xa57a82=a1_0x5700a2,_0x1577cb={};_0x1577cb[_0xa57a82(0x16e)]=function(_0x32ae69,_0x569f09){return _0x32ae69+_0x569f09;},_0x1577cb['FPIhr']=_0xa57a82(0x1bd),_0x1577cb[_0xa57a82(0xd7)]=function(_0x41a3bc,_0x99971c){return _0x41a3bc-_0x99971c;};const _0x17a0a4=_0x1577cb,_0x59fe34=global_registry[_0xa57a82(0xd5)][_0xa57a82(0x1a0)]('-'),_0x49f54f=_0x17a0a4[_0xa57a82(0x16e)](_0x17a0a4['FPIhr'],_0x59fe34[_0x17a0a4[_0xa57a82(0xd7)](_0x59fe34['length'],0x1)])['slice'](0x0,0x18);return _0x49f54f[_0xa57a82(0x171)]();}[a1_0x5700a2(0x1d1)](_0x43db68){const _0x130728=a1_0x5700a2,_0x58d9fa={};_0x58d9fa[_0x130728(0x14a)]=_0x130728(0x137);const _0x3e5300=_0x58d9fa,_0x307f5e=_0x3e5300[_0x130728(0x14a)][_0x130728(0x1a0)]('|');let _0x3fd732=0x0;while(!![]){switch(_0x307f5e[_0x3fd732++]){case'0':global_registry[_0x130728(0x179)]=_0x43db68[this[_0x130728(0x17a)]][_0x130728(0x75)];continue;case'1':global_registry[_0x130728(0x155)]=_0x43db68[this[_0x130728(0x17a)]][_0x130728(0x1cd)];continue;case'2':global_registry['cloudProviderSubscriptionId']=_0x43db68[this[_0x130728(0x17a)]]['subscriptionId'];continue;case'3':global_registry[_0x130728(0x1c4)]=_0x43db68[this[_0x130728(0x17a)]][_0x130728(0xe2)];continue;case'4':this[_0x130728(0x198)]();continue;case'5':global_registry['cloudProviderClientId']=_0x43db68[this[_0x130728(0x17a)]][_0x130728(0x1ca)];continue;}break;}}async[a1_0x5700a2(0x15b)](_0xe61db0,_0x57d2e1){const _0x150091=a1_0x5700a2,_0x222889={'BOGeJ':_0x150091(0x86),'OGALT':function(_0x2e9f15,_0x18faba){return _0x2e9f15===_0x18faba;},'Nuebw':function(_0x36c5dc,_0x4363c4){return _0x36c5dc(_0x4363c4);},'ihQvj':function(_0x25abc2,_0x3744a3){return _0x25abc2(_0x3744a3);},'MktSp':function(_0x3e7de0,_0x4b8cfd){return _0x3e7de0!==_0x4b8cfd;},'KjdJZ':_0x150091(0xff),'uBaYT':_0x150091(0x9d),'PzTwr':function(_0x187827,_0x522c85){return _0x187827(_0x522c85);},'DMWXW':function(_0x2b8a04,_0x731e57){return _0x2b8a04===_0x731e57;},'hrkYM':function(_0x3432bb,_0x1c1dd9){return _0x3432bb===_0x1c1dd9;},'aUKBS':_0x150091(0x12c),'IXflk':function(_0xeb419c,_0x15bbbb){return _0xeb419c===_0x15bbbb;},'OMoCr':function(_0x584b1d,_0x34244d){return _0x584b1d===_0x34244d;},'wIQMY':_0x150091(0xfd),'VANpc':_0x150091(0xb8),'QOqBp':function(_0x5aab64,_0x83b2c0){return _0x5aab64===_0x83b2c0;},'XCGoQ':_0x150091(0xab),'eNHoN':_0x150091(0x1d4),'TAFvV':function(_0x24ce2d,_0xa12e28){return _0x24ce2d===_0xa12e28;},'RgwGI':'PHKMu','NMzgS':function(_0xd03396,_0x41d063){return _0xd03396<_0x41d063;},'JxTuh':_0x150091(0xc1),'emmdg':_0x150091(0x128),'YOsLb':function(_0x1b7b08,_0x404c6e){return _0x1b7b08+_0x404c6e;},'dFgXx':_0x150091(0x11b),'SpItf':function(_0xd1f0fc,_0x4620cd){return _0xd1f0fc<=_0x4620cd;},'ORPvG':function(_0x228a2c,_0x325d69){return _0x228a2c>_0x325d69;},'VFtik':function(_0x3a5804,_0x19eec0){return _0x3a5804!==_0x19eec0;},'KUxDh':'TEkRX','IgrrN':_0x150091(0x1b5),'TyXkA':function(_0x4c9757,_0x1623e2){return _0x4c9757-_0x1623e2;}},_0x1bfddd=this[_0x150091(0x17a)][_0x150091(0x13f)](),_0x37ea11=await _0x222889[_0x150091(0xc6)](_0xe61db0,_0x1bfddd+_0x150091(0xb1)),_0x410b6a=await _0x222889[_0x150091(0xc6)](_0xe61db0,_0x1bfddd+_0x150091(0xc3)),_0x3e0f2b=await _0x222889['Nuebw'](_0xe61db0,_0x1bfddd+_0x150091(0x109)),_0x3f12b8=await _0x222889[_0x150091(0xb5)](_0xe61db0,_0x1bfddd+'\x20SUBSCRIPTION\x20ID:\x20');global_registry[_0x150091(0xde)]=_0x37ea11,global_registry[_0x150091(0x1c4)]=_0x410b6a,global_registry[_0x150091(0x179)]=_0x3e0f2b,global_registry[_0x150091(0x127)]=_0x3f12b8,this['setClients']();const _0x18f41e=await this[_0x150091(0x154)](),_0x2fff3b=_0x18f41e['length'];let _0x393ab8;if(_0x222889[_0x150091(0x176)](_0x2fff3b,0x0))_0x222889[_0x150091(0x9e)](_0x222889[_0x150091(0x17b)],_0x222889[_0x150091(0x81)])?_0x393ab8=await _0x222889['PzTwr'](_0xe61db0,_0x1bfddd+_0x150091(0xd4)):_0x263387=_0x188c1c['id'];else{if(_0x222889[_0x150091(0xbd)](_0x2fff3b,0x1)){if(_0x222889[_0x150091(0xc5)](_0x222889[_0x150091(0x1d2)],_0x222889[_0x150091(0x1d2)])){const _0x38182f=await _0x222889[_0x150091(0xc6)](_0xe61db0,'Found\x20only\x20one\x20resource\x20group:\x20'+_0x18f41e[0x0]+_0x150091(0x166));if(_0x222889[_0x150091(0x1b0)](_0x38182f,undefined)||_0x222889[_0x150091(0x17c)](_0x38182f,null)||!(_0x222889[_0x150091(0x1b0)](_0x38182f['toLowerCase'](),'y')||_0x222889[_0x150091(0x17c)](_0x38182f['toLowerCase'](),'n'))){if(_0x222889['OMoCr'](_0x222889['wIQMY'],_0x222889[_0x150091(0x1a1)]))console['error'](_0x222889[_0x150091(0x1a2)]),process[_0x150091(0xbb)](0x1);else return _0x4d4665[_0x150091(0x161)](_0x150091(0xe3)+_0x317431+'.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20'+_0x1f994d),![];}if(_0x222889[_0x150091(0xf4)](_0x38182f[_0x150091(0x171)](),'n')){if(_0x222889[_0x150091(0xf4)](_0x222889['XCGoQ'],_0x222889['eNHoN']))return _0x272997[_0x150091(0x161)](_0x150091(0xc7)+_0x194e79+_0x150091(0x1b3)+_0x45fd49),[![],[]];else process[_0x150091(0xbb)](0x0);}_0x393ab8=_0x18f41e[0x0];}else return!![];}else{if(_0x222889[_0x150091(0x175)](_0x222889[_0x150091(0x185)],_0x222889[_0x150091(0x185)])){for(let _0x1107bd=0x0;_0x222889[_0x150091(0x157)](_0x1107bd,_0x18f41e[_0x150091(0x177)]);_0x1107bd+=0x1){if(_0x222889[_0x150091(0x9e)](_0x222889[_0x150091(0x168)],_0x222889['emmdg']))console['log']('['+_0x222889[_0x150091(0x156)](_0x1107bd,0x1)+']\x20'+_0x18f41e[_0x1107bd]);else{_0x16a0e8['info'](_0x222889['BOGeJ']);const _0x5b0550={};_0x5b0550['type']=_0xd50275[_0x150091(0x1db)],_0x5b0550['message']=_0x222889[_0x150091(0xd8)],this[_0x150091(0x1bf)][_0x150091(0xc9)](this[_0x150091(0x9f)],_0x5b0550),_0x133eec['disableLocalAccounts']=![];}}const _0x57a6a5=await _0x222889['PzTwr'](_0xe61db0,_0x222889[_0x150091(0x1dd)]),_0x7c998d=_0x222889[_0x150091(0xc6)](Number,_0x57a6a5);if(_0x222889['PzTwr'](isNaN,_0x7c998d)||_0x222889[_0x150091(0x104)](_0x7c998d,0x0)||_0x222889['ORPvG'](_0x7c998d,_0x2fff3b)){if(_0x222889[_0x150091(0xbc)](_0x222889['KUxDh'],_0x222889[_0x150091(0x192)]))console['error'](_0x222889[_0x150091(0x1a2)]),process['exit'](0x1);else{if(_0x222889[_0x150091(0x176)](_0x53cc1b[_0x150091(0x1a4)],_0x3304d))return!![];}}_0x393ab8=_0x18f41e[_0x222889[_0x150091(0x1d0)](_0x7c998d,0x1)];}else _0x10dc3a[_0x150091(0x12a)][_0x150091(0x117)](_0x3a7ab2);}}global_registry[_0x150091(0x155)]=_0x393ab8;const _0x377d9a={};return _0x377d9a[_0x150091(0x1ca)]=_0x37ea11,_0x377d9a[_0x150091(0xe2)]=_0x410b6a,_0x377d9a['tenantId']=_0x3e0f2b,_0x377d9a['subscriptionId']=_0x3f12b8,_0x377d9a[_0x150091(0x1cd)]=_0x393ab8,_0x57d2e1[_0x150091(0xbf)][AZURE]=_0x377d9a,_0x57d2e1;}async['getResourceGroups'](){const _0x3a5b9c=a1_0x5700a2,_0x455117={};_0x455117['biMqw']=function(_0x20861d,_0x4d395e){return _0x20861d===_0x4d395e;},_0x455117[_0x3a5b9c(0x11d)]=function(_0x3f315f,_0x38009d){return _0x3f315f!==_0x38009d;},_0x455117[_0x3a5b9c(0xdd)]=_0x3a5b9c(0xcf),_0x455117[_0x3a5b9c(0x173)]='WkvWo',_0x455117['ceuCc']=_0x3a5b9c(0x163),_0x455117['Ebepm']=_0x3a5b9c(0x124);const _0x5f28c8=_0x455117,_0x753ca4=[];try{if(_0x5f28c8[_0x3a5b9c(0x11d)](_0x5f28c8[_0x3a5b9c(0xdd)],_0x5f28c8[_0x3a5b9c(0x173)])){const _0x42b31d=await this['resourceClient']['resourceGroups'][_0x3a5b9c(0x152)]();for await(const _0xb70d21 of _0x42b31d){_0x5f28c8[_0x3a5b9c(0x180)](_0x5f28c8[_0x3a5b9c(0xad)],_0x5f28c8[_0x3a5b9c(0x1b7)])?_0x4aed30[_0x3a5b9c(0x117)](_0x408f03):_0x753ca4[_0x3a5b9c(0x117)](_0xb70d21[_0x3a5b9c(0x1a4)]);}}else{if(_0x5f28c8[_0x3a5b9c(0x180)](_0x575fd2['name'],_0x3e03a8))return!![];}}catch(_0x5f0052){}return _0x753ca4;}async['getClusterInfo'](){const _0x43d31c=a1_0x5700a2;return this[_0x43d31c(0xb3)]=await this[_0x43d31c(0x18a)]['managedClusters'][_0x43d31c(0x7e)](global_registry[_0x43d31c(0x155)],this[_0x43d31c(0x1c0)]),this['clusterInfo'];}async['getKubeConfigData'](){const _0x2f7510=a1_0x5700a2,_0x5d308c=await this[_0x2f7510(0x18a)]['managedClusters']['listClusterAdminCredentials'](global_registry[_0x2f7510(0x155)],this['clusterName']),_0x5d6a42=_0x5d308c[_0x2f7510(0x11f)][0x0][_0x2f7510(0xa0)]['toString']();return _0x5d6a42;}[a1_0x5700a2(0x79)](_0x3b2134){const _0x44d065=a1_0x5700a2;return _0x3b2134['status'][_0x44d065(0x1a5)][_0x44d065(0x6d)][0x0][_0x44d065(0x19f)];}async[a1_0x5700a2(0x16c)](){const _0x51d67d=a1_0x5700a2,_0x319f6d={};_0x319f6d[_0x51d67d(0x8a)]=function(_0x34602b,_0x53fdaf){return _0x34602b===_0x53fdaf;},_0x319f6d[_0x51d67d(0xc2)]='Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.',_0x319f6d['EFblc']=function(_0x528b03,_0x4b0510){return _0x528b03!==_0x4b0510;},_0x319f6d['ksyeA']=_0x51d67d(0x135),_0x319f6d[_0x51d67d(0xf8)]='Avvhr',_0x319f6d[_0x51d67d(0x1bc)]=function(_0x15eb4e,_0x554dff){return _0x15eb4e===_0x554dff;},_0x319f6d[_0x51d67d(0x1aa)]=_0x51d67d(0x131),_0x319f6d[_0x51d67d(0x90)]=_0x51d67d(0xdc),_0x319f6d[_0x51d67d(0xa9)]=function(_0x249408,_0x45cbbd){return _0x249408===_0x45cbbd;},_0x319f6d['zGVOD']=_0x51d67d(0x145);const _0x504da2=_0x319f6d,_0x29ad31=new Array();for await(const _0x1ec4a4 of this[_0x51d67d(0x18a)]['managedClusters']['listByResourceGroup'](global_registry[_0x51d67d(0x155)])){if(_0x504da2[_0x51d67d(0x1a8)](_0x504da2['ksyeA'],_0x504da2[_0x51d67d(0xf8)]))_0x29ad31['push'](_0x1ec4a4);else return _0x35681d[_0x51d67d(0x19c)][_0x51d67d(0x1a5)][_0x51d67d(0x6d)][0x0][_0x51d67d(0x19f)];}for await(const _0x35f33a of _0x29ad31){if(_0x504da2['TqijI'](_0x504da2['byKpu'],_0x504da2[_0x51d67d(0x90)])){if(_0x504da2[_0x51d67d(0x8a)](_0x2ee255['name'],'turboscale-managed-identity-'+this[_0x51d67d(0x1c0)]))return!![];}else{if(_0x504da2[_0x51d67d(0xa9)](_0x35f33a[_0x51d67d(0x1a4)],this[_0x51d67d(0x1c0)])){if(_0x504da2[_0x51d67d(0x8a)](_0x504da2[_0x51d67d(0x97)],_0x504da2[_0x51d67d(0x97)]))return await this[_0x51d67d(0xeb)](),!![];else _0x276491['error'](_0x504da2[_0x51d67d(0xc2)]),_0x1b8223[_0x51d67d(0xbb)](0x1);}}}return![];}async['setupNewCluster'](_0x482b7f=null,_0x4c3ee8=null){const _0x584af6=a1_0x5700a2,_0x584b3b={};_0x584b3b['atAsW']=_0x584af6(0x10c),_0x584b3b[_0x584af6(0x1d6)]=_0x584af6(0x12f);const _0x47f223=_0x584b3b,_0x1c8fc7=_0x47f223[_0x584af6(0xe1)]['split']('|');let _0x44bc1e=0x0;while(!![]){switch(_0x1c8fc7[_0x44bc1e++]){case'0':this[_0x584af6(0xe4)]();continue;case'1':await this[_0x584af6(0x142)]();continue;case'2':logger[_0x584af6(0x193)](_0x47f223[_0x584af6(0x1d6)]);continue;case'3':await this['createCluster'](_0x482b7f,_0x4c3ee8);continue;case'4':const _0x272fd3={};_0x272fd3['type']=WS_EVENTS[_0x584af6(0x1c3)],_0x272fd3[_0x584af6(0x16b)]=_0x47f223['IATIf'],this[_0x584af6(0x1bf)][_0x584af6(0xc9)](this[_0x584af6(0x9f)],_0x272fd3);continue;}break;}}async[a1_0x5700a2(0xa3)](_0x935121=null,_0x3b82bf=null){const _0x5be415=a1_0x5700a2,_0x44da5c={};_0x44da5c['SDXVS']=_0x5be415(0x1c5),_0x44da5c[_0x5be415(0x12e)]=_0x5be415(0x169),_0x44da5c['tYmWL']=_0x5be415(0x15c),_0x44da5c[_0x5be415(0xdb)]=_0x5be415(0x148),_0x44da5c['KsLkG']=function(_0x441354,_0x1cccb5){return _0x441354!==_0x1cccb5;},_0x44da5c[_0x5be415(0x80)]=function(_0x56dbec,_0x32d593){return _0x56dbec!==_0x32d593;},_0x44da5c['IfvTd']=function(_0x57f67c,_0x4a10a1){return _0x57f67c===_0x4a10a1;},_0x44da5c[_0x5be415(0x7b)]='Gsvaj',_0x44da5c['DcWxg']=_0x5be415(0x141),_0x44da5c['NNVTc']=_0x5be415(0x88),_0x44da5c['qbmGH']='Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.',_0x44da5c['kSJkb']=_0x5be415(0xf1),_0x44da5c['lPAJX']='[variables(\x27vnetSubnetID\x27)]',_0x44da5c[_0x5be415(0xfb)]=_0x5be415(0x73),_0x44da5c[_0x5be415(0x8c)]=_0x5be415(0x13a);const _0x3bd618=_0x44da5c;let _0x3b5d45=await fs[_0x5be415(0xda)](path[_0x5be415(0x119)](__dirname,'..',_0x3bd618[_0x5be415(0x82)],_0x3bd618[_0x5be415(0x12e)],_0x3bd618[_0x5be415(0x18e)]),_0x3bd618[_0x5be415(0xdb)]);_0x3b5d45=JSON[_0x5be415(0x1ad)](_0x3b5d45);const _0x4f507f={};_0x4f507f['value']=this['clusterName'];const _0x2e5e0d={};_0x2e5e0d[_0x5be415(0xa0)]=global_registry[_0x5be415(0xe9)];const _0x69f493={};_0x69f493[_0x5be415(0xa0)]=global_registry[_0x5be415(0x7f)];const _0x1c7fdd={};_0x1c7fdd[_0x5be415(0xa0)]=global_registry[_0x5be415(0x158)];const _0x2cf73c={};_0x2cf73c[_0x5be415(0x1c0)]=_0x4f507f,_0x2cf73c['location']=_0x2e5e0d,_0x2cf73c[_0x5be415(0x122)]=_0x69f493,_0x2cf73c[_0x5be415(0x190)]=_0x1c7fdd;let _0x10ef7a=_0x2cf73c;if(_0x3bd618['KsLkG'](_0x935121,null)&&_0x3bd618[_0x5be415(0x80)](_0x3b82bf,null)){if(_0x3bd618[_0x5be415(0x10b)](_0x3bd618[_0x5be415(0x7b)],_0x3bd618[_0x5be415(0x1b6)]))return[!![],_0xfb1a77];else{const _0x8f2858={};_0x8f2858[_0x5be415(0x9a)]=_0x3bd618[_0x5be415(0x140)],_0x8f2858[_0x5be415(0x1cc)]={},_0x8f2858[_0x5be415(0x1cc)][_0x5be415(0x7d)]=_0x3bd618[_0x5be415(0xd3)];const _0x2c42a7={};_0x2c42a7[_0x5be415(0x9a)]=_0x3bd618['NNVTc'],_0x2c42a7[_0x5be415(0x1cc)]={},_0x2c42a7[_0x5be415(0x1cc)][_0x5be415(0x7d)]=_0x3bd618['qbmGH'],_0x3b5d45[_0x5be415(0xe7)]={..._0x3b5d45[_0x5be415(0xe7)],'vpcName':_0x8f2858,'subnetName':_0x2c42a7};const _0x51cced={};_0x51cced[_0x5be415(0x123)]=_0x3bd618[_0x5be415(0x94)],_0x3b5d45[_0x5be415(0x1b9)]=_0x51cced,_0x3b5d45[_0x5be415(0x1b1)][0x0][_0x5be415(0x186)][_0x5be415(0x89)][0x0]={..._0x3b5d45['resources'][0x0][_0x5be415(0x186)][_0x5be415(0x89)][0x0],'vnetSubnetID':_0x3bd618[_0x5be415(0x10f)]};const _0x3db2d4={};_0x3db2d4[_0x5be415(0xa0)]=_0x935121;const _0x9432b5={};_0x9432b5[_0x5be415(0xa0)]=_0x3b82bf[0x0],_0x10ef7a={..._0x10ef7a,'vpcName':_0x3db2d4,'subnetName':_0x9432b5};}}await this['resourceClient'][_0x5be415(0x187)]['beginCreateOrUpdateAndWait'](global_registry[_0x5be415(0x155)],_0x3bd618['IhNQB'],{'properties':{'template':_0x3b5d45,'mode':_0x3bd618[_0x5be415(0x8c)],'parameters':_0x10ef7a}});}async[a1_0x5700a2(0x142)](){const _0x29f610=a1_0x5700a2,_0x316cab={};_0x316cab[_0x29f610(0x18d)]=function(_0x3ad61a,_0x58e31e){return _0x3ad61a+_0x58e31e;},_0x316cab[_0x29f610(0x18c)]=function(_0x5302a7,_0xfa1600){return _0x5302a7===_0xfa1600;},_0x316cab['zKUqy']=function(_0x3ae885,_0xe1b093){return _0x3ae885!==_0xe1b093;},_0x316cab[_0x29f610(0xb0)]=_0x29f610(0x153),_0x316cab[_0x29f610(0x74)]=_0x29f610(0x125),_0x316cab[_0x29f610(0x99)]=_0x29f610(0x191),_0x316cab['Nrssm']=_0x29f610(0x162),_0x316cab[_0x29f610(0x1be)]=_0x29f610(0x1d7),_0x316cab[_0x29f610(0x1af)]=function(_0x407dad,_0x1efc55){return _0x407dad!==_0x1efc55;},_0x316cab[_0x29f610(0x144)]=_0x29f610(0x87),_0x316cab[_0x29f610(0x92)]=_0x29f610(0x164),_0x316cab['ogVrO']=_0x29f610(0xcb),_0x316cab[_0x29f610(0x107)]=function(_0x441c06,_0x1cdc61){return _0x441c06===_0x1cdc61;},_0x316cab[_0x29f610(0x8b)]=_0x29f610(0x1a3),_0x316cab[_0x29f610(0x9b)]=_0x29f610(0x1d9),_0x316cab['qHVaV']='Managed\x20identity\x20already\x20exists,\x20skipping',_0x316cab[_0x29f610(0x76)]=_0x29f610(0x172);const _0xb205a9=_0x316cab,_0x26f0ad=await this['isStorageAccountPresent']();if(!_0x26f0ad){if(_0xb205a9[_0x29f610(0x19a)](_0xb205a9[_0x29f610(0xb0)],_0xb205a9[_0x29f610(0x74)])){const _0xdecc63={};_0xdecc63['type']=WS_EVENTS[_0x29f610(0x1c3)],_0xdecc63[_0x29f610(0x16b)]=_0xb205a9[_0x29f610(0x99)],this['webSocketUtils'][_0x29f610(0xc9)](this[_0x29f610(0x9f)],_0xdecc63),logger['info'](_0xb205a9['rXfXX']),await this[_0x29f610(0xb9)]();}else return!![];}else _0xb205a9[_0x29f610(0x19a)](_0xb205a9['Nrssm'],_0xb205a9[_0x29f610(0x1b2)])?_0x57efa2[_0x29f610(0x1bb)]('['+_0xb205a9['mUHxT'](_0x36fd8d,0x1)+']\x20'+_0x389a77[_0x408e10]):logger[_0x29f610(0x193)](_0xb205a9[_0x29f610(0x1be)]);const _0xba101=await this[_0x29f610(0x16d)]();if(!_0xba101){if(_0xb205a9[_0x29f610(0x1af)](_0xb205a9[_0x29f610(0x144)],_0xb205a9[_0x29f610(0x92)])){const _0x26c65c={};_0x26c65c[_0x29f610(0x9a)]=WS_EVENTS[_0x29f610(0x1c3)],_0x26c65c[_0x29f610(0x16b)]=_0xb205a9[_0x29f610(0xf9)],this[_0x29f610(0x1bf)][_0x29f610(0xc9)](this['rws'],_0x26c65c),logger['info'](_0xb205a9[_0x29f610(0xf9)]),await this['createManagedIdentity']();}else _0xb205a9[_0x29f610(0x18c)](_0x20b132[_0x29f610(0x1a4)],_0x323950)&&(_0x32d42a=_0x169544['id']);}else _0xb205a9['LArOg'](_0xb205a9[_0x29f610(0x8b)],_0xb205a9[_0x29f610(0x9b)])?_0x3d07ea[_0x29f610(0x117)](_0xf34ca0):logger[_0x29f610(0x193)](_0xb205a9[_0x29f610(0xb6)]);logger[_0x29f610(0x193)](_0xb205a9[_0x29f610(0x76)]),await this[_0x29f610(0x10e)]();}async[a1_0x5700a2(0xb9)](){const _0xa97ae4=a1_0x5700a2,_0x2615c7={};_0x2615c7[_0xa97ae4(0x15e)]=_0xa97ae4(0x1c5),_0x2615c7[_0xa97ae4(0x10d)]='azureresources',_0x2615c7['MHTus']='storageaccount.json',_0x2615c7['YmqSJ']=_0xa97ae4(0x148),_0x2615c7[_0xa97ae4(0x10a)]='turboscale-storageaccount-deployment',_0x2615c7[_0xa97ae4(0x19b)]=_0xa97ae4(0x13a),_0x2615c7[_0xa97ae4(0x149)]=_0xa97ae4(0x150),_0x2615c7['iZunZ']='Lifecycle',_0x2615c7[_0xa97ae4(0xf0)]=_0xa97ae4(0x8f),_0x2615c7[_0xa97ae4(0x1dc)]=_0xa97ae4(0xd1);const _0x3be128=_0x2615c7;let _0x2227f9=await fs[_0xa97ae4(0xda)](path[_0xa97ae4(0x119)](__dirname,'..',_0x3be128['okMQN'],_0x3be128[_0xa97ae4(0x10d)],_0x3be128['MHTus']),_0x3be128[_0xa97ae4(0x13c)]);_0x2227f9=JSON[_0xa97ae4(0x1ad)](_0x2227f9);const _0xa63bc0=this[_0xa97ae4(0x95)](),_0x252e76={};_0x252e76['value']=_0xa63bc0;const _0x227716={};_0x227716['storageAccountName']=_0x252e76,await this[_0xa97ae4(0xb4)][_0xa97ae4(0x187)][_0xa97ae4(0x102)](global_registry[_0xa97ae4(0x155)],_0x3be128[_0xa97ae4(0x10a)],{'properties':{'template':_0x2227f9,'mode':_0x3be128['UMNFi'],'parameters':_0x227716}});const _0x35d9d7={};_0x35d9d7[_0xa97ae4(0xb2)]=0x3c;const _0x3ccf3e={};_0x3ccf3e[_0xa97ae4(0x1c7)]=_0x35d9d7;const _0x2b5e4d={};_0x2b5e4d[_0xa97ae4(0xf6)]=_0x3ccf3e;const _0x5b82d9={};_0x5b82d9[_0xa97ae4(0xfc)]=!![],_0x5b82d9[_0xa97ae4(0x1a4)]=_0x3be128[_0xa97ae4(0x149)],_0x5b82d9[_0xa97ae4(0x9a)]=_0x3be128['iZunZ'],_0x5b82d9[_0xa97ae4(0xc8)]={},_0x5b82d9[_0xa97ae4(0xc8)][_0xa97ae4(0x15f)]=_0x2b5e4d,_0x5b82d9[_0xa97ae4(0xc8)][_0xa97ae4(0x1c9)]={},_0x5b82d9[_0xa97ae4(0xc8)][_0xa97ae4(0x1c9)][_0xa97ae4(0x194)]=[_0x3be128[_0xa97ae4(0xf0)]];const _0x1e095c={};_0x1e095c[_0xa97ae4(0x6a)]=[_0x5b82d9];const _0x1ce676={};_0x1ce676[_0xa97ae4(0x116)]=_0x1e095c;const _0xf76b81=_0x1ce676;await this[_0xa97ae4(0x13d)][_0xa97ae4(0xf5)][_0xa97ae4(0x101)](global_registry[_0xa97ae4(0x155)],_0xa63bc0,_0x3be128[_0xa97ae4(0x1dc)],_0xf76b81);}async[a1_0x5700a2(0xe0)](){const _0x39fa66=a1_0x5700a2,_0x29c65d={};_0x29c65d[_0x39fa66(0x1ce)]=_0x39fa66(0x1c5),_0x29c65d[_0x39fa66(0x138)]='azureresources',_0x29c65d[_0x39fa66(0xd6)]=_0x39fa66(0x114),_0x29c65d[_0x39fa66(0x85)]='utf-8',_0x29c65d[_0x39fa66(0x182)]='turboscale-identity-deployment',_0x29c65d[_0x39fa66(0x17d)]='Incremental';const _0x4046a6=_0x29c65d;let _0x4c3f31=await fs['readFileAsync'](path[_0x39fa66(0x119)](__dirname,'..',_0x4046a6['NinHf'],_0x4046a6[_0x39fa66(0x138)],_0x4046a6[_0x39fa66(0xd6)]),_0x4046a6[_0x39fa66(0x85)]);_0x4c3f31=JSON['parse'](_0x4c3f31),await this[_0x39fa66(0xb4)][_0x39fa66(0x187)][_0x39fa66(0x102)](global_registry[_0x39fa66(0x155)],_0x4046a6[_0x39fa66(0x182)],{'properties':{'template':_0x4c3f31,'mode':_0x4046a6['pvkas'],'parameters':{'clusterName':{'value':this[_0x39fa66(0x1c0)]}}}});}async['createFederatedAccount'](){const _0x11a0c4=a1_0x5700a2,_0x46b433={};_0x46b433['yXABe']=function(_0x492f7b,_0x2b4b68){return _0x492f7b===_0x2b4b68;},_0x46b433['mTjfk']=_0x11a0c4(0x106),_0x46b433[_0x11a0c4(0x72)]=_0x11a0c4(0x1a7),_0x46b433['LzKRQ']=_0x11a0c4(0xfa),_0x46b433['vcifD']=function(_0x2ce7c7,_0x19ac16){return _0x2ce7c7!==_0x19ac16;},_0x46b433[_0x11a0c4(0x6c)]=_0x11a0c4(0x184),_0x46b433['SSCEe']='templates',_0x46b433[_0x11a0c4(0x167)]=_0x11a0c4(0x169),_0x46b433[_0x11a0c4(0x143)]='utf-8',_0x46b433[_0x11a0c4(0x178)]=_0x11a0c4(0x1a6),_0x46b433[_0x11a0c4(0xa4)]=_0x11a0c4(0x13a);const _0xa809de=_0x46b433;if(!this['clusterInfo']){if(_0xa809de['yXABe'](_0xa809de[_0x11a0c4(0x93)],_0xa809de[_0x11a0c4(0x93)]))await this[_0x11a0c4(0xeb)]();else return!![];}const _0x5f25bf=this['clusterInfo']?.[_0x11a0c4(0x15d)]?.[_0x11a0c4(0x132)],_0x499bb0=[_0xa809de[_0x11a0c4(0x72)],_0xa809de[_0x11a0c4(0x1ab)]];for await(const _0x56caa7 of _0x499bb0){if(_0xa809de['vcifD'](_0xa809de[_0x11a0c4(0x6c)],_0xa809de[_0x11a0c4(0x6c)])){const _0x55583b=new _0x9043a1(_0x43fac4['cloudProviderTenantId'],_0x242913['cloudProviderClientId'],_0x42bdaa[_0x11a0c4(0x1c4)]);this[_0x11a0c4(0x18a)]=new _0x5bc43e(_0x55583b,_0x1a7a50['cloudProviderSubscriptionId']),this[_0x11a0c4(0x13d)]=new _0x2f257e(_0x55583b,_0x22f830[_0x11a0c4(0x127)]),this[_0x11a0c4(0xb4)]=new _0x47ba02(_0x55583b,_0xa0ad90[_0x11a0c4(0x127)]),this[_0x11a0c4(0x183)]=new _0x299aed(_0x55583b,_0x4fe4d8['cloudProviderSubscriptionId']);}else{let _0x142505=await fs[_0x11a0c4(0xda)](path[_0x11a0c4(0x119)](__dirname,'..',_0xa809de[_0x11a0c4(0xa1)],_0xa809de['fDpqO'],'federatedidentity'+_0x56caa7+_0x11a0c4(0xbe)),_0xa809de[_0x11a0c4(0x143)]);_0x142505=JSON[_0x11a0c4(0x1ad)](_0x142505);const _0x2ca852={};_0x2ca852[_0x11a0c4(0xa0)]=_0x5f25bf,await this['resourceClient'][_0x11a0c4(0x187)][_0x11a0c4(0x102)](global_registry['cloudProviderResourceGroup'],_0xa809de[_0x11a0c4(0x178)],{'properties':{'template':_0x142505,'mode':_0xa809de[_0x11a0c4(0xa4)],'parameters':{'oidcIssuer':_0x2ca852,'gridName':{'value':this['gridName']},'clusterName':{'value':this['clusterName']}}}});}}}async[a1_0x5700a2(0x120)](){const _0xab8f5=a1_0x5700a2,_0x34c269={};_0x34c269[_0xab8f5(0x17f)]='Storage\x20account\x20already\x20exists,\x20skipping',_0x34c269[_0xab8f5(0x113)]='Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.',_0x34c269[_0xab8f5(0xf2)]=function(_0x10fb3f,_0x331a28){return _0x10fb3f!==_0x331a28;},_0x34c269[_0xab8f5(0x14f)]=_0xab8f5(0x108),_0x34c269[_0xab8f5(0xef)]=_0xab8f5(0x77),_0x34c269[_0xab8f5(0x18b)]=function(_0x2753ad,_0x1dcc90){return _0x2753ad===_0x1dcc90;},_0x34c269[_0xab8f5(0xa5)]=_0xab8f5(0x15a),_0x34c269[_0xab8f5(0x19e)]=_0xab8f5(0x7c),_0x34c269['hDksm']=function(_0x2105fd,_0x5dc00f){return _0x2105fd===_0x5dc00f;},_0x34c269['cWFcN']=function(_0x1d4dd8,_0x105c17){return _0x1d4dd8!==_0x105c17;},_0x34c269['HqmSv']=_0xab8f5(0x146),_0x34c269[_0xab8f5(0x16a)]=_0xab8f5(0x134);const _0x392102=_0x34c269,_0x1fc0b2=this[_0xab8f5(0x95)](),_0x1580d2=new Array();for await(const _0x3ac4db of this[_0xab8f5(0x13d)][_0xab8f5(0xd2)][_0xab8f5(0x11c)](global_registry[_0xab8f5(0x155)])){_0x392102['QNfuc'](_0x392102[_0xab8f5(0x14f)],_0x392102[_0xab8f5(0xef)])?_0x1580d2[_0xab8f5(0x117)](_0x3ac4db):_0x2e2292[_0xab8f5(0x193)](_0x392102[_0xab8f5(0x17f)]);}for await(const _0x14bf08 of _0x1580d2){if(_0x392102[_0xab8f5(0x18b)](_0x392102[_0xab8f5(0xa5)],_0x392102['YKtIZ']))_0x50fa6a[_0xab8f5(0x117)](_0x57c589);else{if(_0x392102[_0xab8f5(0x118)](_0x14bf08['name'],_0x1fc0b2)){if(_0x392102[_0xab8f5(0x14b)](_0x392102[_0xab8f5(0x14e)],_0x392102[_0xab8f5(0x16a)]))return!![];else _0x2c1778[_0xab8f5(0x161)](_0x392102[_0xab8f5(0x113)]),_0x1d08e5[_0xab8f5(0xbb)](0x1);}}}return![];}async[a1_0x5700a2(0x16d)](){const _0x351387=a1_0x5700a2,_0x543f25={};_0x543f25[_0x351387(0x1c1)]='Managed\x20identity\x20already\x20exists,\x20skipping',_0x543f25[_0x351387(0x195)]=function(_0x41808b,_0x1dc099){return _0x41808b+_0x1dc099;},_0x543f25[_0x351387(0x13b)]='turboscale',_0x543f25[_0x351387(0xb7)]=function(_0x7f5901,_0xa48022){return _0x7f5901-_0xa48022;},_0x543f25[_0x351387(0x160)]=_0x351387(0x1c8),_0x543f25[_0x351387(0x12d)]=function(_0x2de7bb,_0xe0cd1a){return _0x2de7bb!==_0xe0cd1a;},_0x543f25[_0x351387(0x126)]=_0x351387(0x78),_0x543f25['CDTDU']=function(_0x244cdd,_0x1aee1c){return _0x244cdd!==_0x1aee1c;},_0x543f25[_0x351387(0x170)]='PRrRf',_0x543f25[_0x351387(0xa6)]=function(_0x39d459,_0x47caae){return _0x39d459===_0x47caae;},_0x543f25[_0x351387(0x1cf)]=function(_0x306912,_0x428934){return _0x306912!==_0x428934;},_0x543f25[_0x351387(0x12b)]='efqAc',_0x543f25[_0x351387(0x1b8)]=_0x351387(0x112);const _0x179ee5=_0x543f25,_0x24a190=new Array();for await(const _0x2620b7 of this['resourceClient'][_0x351387(0x1b1)][_0x351387(0x11c)](global_registry[_0x351387(0x155)])){_0x179ee5[_0x351387(0x12d)](_0x179ee5[_0x351387(0x126)],_0x179ee5['SnLgA'])?_0x5c3647[_0x351387(0x193)](_0x179ee5[_0x351387(0x1c1)]):_0x24a190[_0x351387(0x117)](_0x2620b7);}for await(const _0x2adc53 of _0x24a190){if(_0x179ee5['CDTDU'](_0x179ee5[_0x351387(0x170)],_0x179ee5[_0x351387(0x170)])){const _0x811dcc=_0x2406b7[_0x351387(0xd5)]['split']('-'),_0x2e3616=_0x179ee5[_0x351387(0x195)](_0x179ee5[_0x351387(0x13b)],_0x811dcc[_0x179ee5[_0x351387(0xb7)](_0x811dcc[_0x351387(0x177)],0x1)])[_0x351387(0xea)](0x0,0x18);return _0x2e3616[_0x351387(0x171)]();}else{if(_0x179ee5[_0x351387(0xa6)](_0x2adc53[_0x351387(0x1a4)],_0x351387(0x1d3)+this['clusterName'])){if(_0x179ee5[_0x351387(0x1cf)](_0x179ee5['oTRHU'],_0x179ee5[_0x351387(0x1b8)]))return!![];else{const _0x505dab=_0x179ee5['GfaAk'][_0x351387(0x1a0)]('|');let _0x90badc=0x0;while(!![]){switch(_0x505dab[_0x90badc++]){case'0':this[_0x351387(0x198)]();continue;case'1':_0x2e0036[_0x351387(0x127)]=_0x32770b[this[_0x351387(0x17a)]][_0x351387(0x1b4)];continue;case'2':_0x504743[_0x351387(0xde)]=_0x257614[this[_0x351387(0x17a)]]['clientId'];continue;case'3':_0x50ef71[_0x351387(0x155)]=_0x3a6e58[this['cloudProviderName']]['resourceGroup'];continue;case'4':_0x21ba4e[_0x351387(0x179)]=_0x3d27fb[this[_0x351387(0x17a)]][_0x351387(0x75)];continue;case'5':_0x21bbc3['cloudProviderClientSecret']=_0x34ad90[this[_0x351387(0x17a)]]['clientSecret'];continue;}break;}}}}}return![];}async['getResourceClientId'](_0x15d4e2){const _0x1482b6=a1_0x5700a2,_0x19c61a={};_0x19c61a[_0x1482b6(0xce)]=_0x1482b6(0x6f),_0x19c61a[_0x1482b6(0xf7)]=function(_0x6ccb31,_0x3fc98e){return _0x6ccb31!==_0x3fc98e;},_0x19c61a[_0x1482b6(0x136)]=_0x1482b6(0x17e),_0x19c61a[_0x1482b6(0x96)]=_0x1482b6(0x1d5),_0x19c61a['cfKhd']='BnafJ',_0x19c61a[_0x1482b6(0x84)]=function(_0x353433,_0x658745){return _0x353433===_0x658745;},_0x19c61a[_0x1482b6(0xac)]='aNzRT',_0x19c61a['dqSCd']=_0x1482b6(0xe8);const _0x238105=_0x19c61a,_0x41d75a=new Array();for await(const _0x44a545 of this[_0x1482b6(0xb4)][_0x1482b6(0x1b1)]['listByResourceGroup'](global_registry['cloudProviderResourceGroup'])){if(_0x238105['figLl'](_0x238105[_0x1482b6(0x136)],_0x238105[_0x1482b6(0x96)]))_0x41d75a[_0x1482b6(0x117)](_0x44a545);else return;}let _0x137ec6='';for await(const _0x36093a of _0x41d75a){if(_0x238105[_0x1482b6(0xf7)](_0x238105[_0x1482b6(0x181)],_0x238105[_0x1482b6(0x181)]))_0x28fb90[_0x1482b6(0x117)](_0x36f37a);else{if(_0x238105[_0x1482b6(0x84)](_0x36093a['name'],_0x15d4e2)){if(_0x238105[_0x1482b6(0x84)](_0x238105[_0x1482b6(0xac)],_0x238105[_0x1482b6(0xac)]))_0x137ec6=_0x36093a['id'];else{_0xf793a['info'](_0x238105[_0x1482b6(0xce)]);const _0x4ec74c={};_0x4ec74c[_0x1482b6(0x9a)]=_0x1d456c[_0x1482b6(0x1db)],_0x4ec74c[_0x1482b6(0x16b)]=_0x238105[_0x1482b6(0xce)],this[_0x1482b6(0x1bf)]['sendEventToBackend'](this[_0x1482b6(0x9f)],_0x4ec74c);const _0x3b5a6a={};_0x3b5a6a[_0x1482b6(0xfc)]=!![];const _0x3c7588={'workloadIdentity':_0x3b5a6a,..._0x43bbf9['securityProfile']};_0x272dbf[_0x1482b6(0xf3)]=_0x3c7588;}}}}const _0x1388f2=await this[_0x1482b6(0xb4)][_0x1482b6(0x1b1)]['getById'](_0x137ec6,_0x238105[_0x1482b6(0x8d)]);return _0x1388f2[_0x1482b6(0x186)][_0x1482b6(0x1ca)];}async[a1_0x5700a2(0xaf)](){const _0x45d420=a1_0x5700a2,_0x19fd40={};_0x19fd40[_0x45d420(0x91)]=function(_0x1454e1,_0x47cfd0){return _0x1454e1!==_0x47cfd0;},_0x19fd40[_0x45d420(0x1a9)]=_0x45d420(0xa2),_0x19fd40[_0x45d420(0xfe)]=function(_0x168b4e,_0x29671d){return _0x168b4e===_0x29671d;},_0x19fd40[_0x45d420(0x13e)]=_0x45d420(0xc0),_0x19fd40[_0x45d420(0xba)]=_0x45d420(0xa8),_0x19fd40[_0x45d420(0xed)]=_0x45d420(0x197);const _0x1477a4=_0x19fd40;!this[_0x45d420(0xb3)]&&(_0x1477a4[_0x45d420(0x91)](_0x1477a4['hIYnz'],_0x1477a4[_0x45d420(0x1a9)])?_0x2b8da9[_0x45d420(0xbb)](0x0):await this[_0x45d420(0xeb)]());const _0x4be32a=this['clusterInfo']?.[_0x45d420(0x110)]||{};if(_0x4be32a&&_0x1477a4[_0x45d420(0xfe)](_0x4be32a[_0x1477a4[_0x45d420(0x13e)]],_0x1477a4[_0x45d420(0xba)]))return _0x1477a4[_0x45d420(0xfe)](_0x1477a4['aUzHG'],_0x1477a4[_0x45d420(0xed)])?!![]:!![];return![];}async['deleteCluster'](_0xaf791,_0x49d562){const _0x10da15=a1_0x5700a2,_0x4a6478={'UidIL':function(_0x57af31,_0x3ce35d){return _0x57af31(_0x3ce35d);},'ogRuu':function(_0x1cac96,_0x26dcca){return _0x1cac96(_0x26dcca);},'Avixn':'Deleted\x20the\x20cluster\x20successfully'};await _0x4a6478[_0x10da15(0x188)](deleteAgent,_0xaf791),await _0x4a6478[_0x10da15(0xca)](deleteRoutingDeps,_0xaf791);const _0x1131d3=this[_0x10da15(0x18a)];logger[_0x10da15(0x193)]('Deleting\x20the\x20cluster\x20'+this[_0x10da15(0x1c0)]),await _0x1131d3[_0x10da15(0x98)]['beginDeleteAndWait'](global_registry[_0x10da15(0x155)],this[_0x10da15(0x1c0)]),logger[_0x10da15(0x193)](_0x4a6478['Avixn']);}async[a1_0x5700a2(0xcc)](){const _0xb454e4=a1_0x5700a2,_0x5dcf72={};_0x5dcf72[_0xb454e4(0x130)]=_0xb454e4(0x88),_0x5dcf72['YjHam']=_0xb454e4(0x129),_0x5dcf72[_0xb454e4(0xa7)]=_0xb454e4(0xf1),_0x5dcf72[_0xb454e4(0x1da)]='[variables(\x27vnetSubnetID\x27)]',_0x5dcf72[_0xb454e4(0xec)]=_0xb454e4(0xcd),_0x5dcf72[_0xb454e4(0x16f)]=function(_0x1ee3c0,_0x3e9c5f){return _0x1ee3c0!==_0x3e9c5f;},_0x5dcf72[_0xb454e4(0x196)]=_0xb454e4(0x100),_0x5dcf72['jUuSt']=function(_0x39cca2,_0x5e57be){return _0x39cca2&&_0x5e57be;},_0x5dcf72[_0xb454e4(0x11a)]=function(_0x4cfa37,_0x2521e9){return _0x4cfa37===_0x2521e9;},_0x5dcf72[_0xb454e4(0x83)]='YgxRc',_0x5dcf72[_0xb454e4(0x6e)]=_0xb454e4(0x103),_0x5dcf72['iyyXa']=function(_0xf66df9,_0x149c2e){return _0xf66df9!==_0x149c2e;},_0x5dcf72[_0xb454e4(0xdf)]='NeoRG',_0x5dcf72['bqoeO']='RiZRM',_0x5dcf72['djvdg']=_0xb454e4(0x6f),_0x5dcf72[_0xb454e4(0x189)]='Enabling\x20Local\x20account\x20for\x20the\x20cluster';const _0x155410=_0x5dcf72;!this['clusterInfo']&&(_0x155410[_0xb454e4(0x16f)](_0x155410[_0xb454e4(0x196)],_0x155410[_0xb454e4(0x196)])?_0x578d18['push'](_0x5a113a['name']):await this[_0xb454e4(0xeb)]());const _0x4ca168=this['clusterInfo'],_0x5aca7c=this[_0xb454e4(0xb3)]?.['oidcIssuerProfile']?.[_0xb454e4(0xfc)]||![],_0x5766c2=this[_0xb454e4(0xb3)]?.['securityProfile']?.[_0xb454e4(0x11e)]?.[_0xb454e4(0xfc)]||![],_0x515767=!this['clusterInfo']?.[_0xb454e4(0x14c)]||![];if(_0x155410['jUuSt'](_0x5aca7c,_0x5766c2)&&_0x515767){if(_0x155410[_0xb454e4(0x11a)](_0x155410[_0xb454e4(0x83)],_0x155410[_0xb454e4(0x6e)])){const _0x1eb534={};_0x1eb534[_0xb454e4(0x9a)]=_0x155410['bVIIn'],_0x1eb534[_0xb454e4(0x1cc)]={},_0x1eb534[_0xb454e4(0x1cc)][_0xb454e4(0x7d)]=_0x155410[_0xb454e4(0x1c6)];const _0x1dd150={};_0x1dd150['type']=_0x155410[_0xb454e4(0x130)],_0x1dd150[_0xb454e4(0x1cc)]={},_0x1dd150[_0xb454e4(0x1cc)][_0xb454e4(0x7d)]=_0x155410['YjHam'];const _0x3fb721={..._0x3834b7[_0xb454e4(0xe7)]};_0x3fb721[_0xb454e4(0xe6)]=_0x1eb534,_0x3fb721[_0xb454e4(0xc4)]=_0x1dd150,_0x466366[_0xb454e4(0xe7)]=_0x3fb721;const _0x2e56a3={};_0x2e56a3[_0xb454e4(0x123)]=_0x155410[_0xb454e4(0xa7)],_0x4f2c85['variables']=_0x2e56a3;const _0x5c8165={..._0x20db8d[_0xb454e4(0x1b1)][0x0][_0xb454e4(0x186)][_0xb454e4(0x89)][0x0]};_0x5c8165[_0xb454e4(0x123)]=_0x155410[_0xb454e4(0x1da)],_0x3bd771['resources'][0x0][_0xb454e4(0x186)][_0xb454e4(0x89)][0x0]=_0x5c8165;const _0x166fd1={};_0x166fd1[_0xb454e4(0xa0)]=_0x54e683;const _0xc6c9d9={};_0xc6c9d9[_0xb454e4(0xa0)]=_0x4cce32[0x0];const _0x3676e0={..._0xa4a7a};_0x3676e0[_0xb454e4(0xe6)]=_0x166fd1,_0x3676e0[_0xb454e4(0xc4)]=_0xc6c9d9,_0x348894=_0x3676e0;}else return;}if(!_0x5aca7c){if(_0x155410['iyyXa'](_0x155410['cEetY'],_0x155410[_0xb454e4(0x105)])){logger['info'](_0x155410['OnACh']);const _0x586436={};_0x586436[_0xb454e4(0x9a)]=WS_EVENTS[_0xb454e4(0x1db)],_0x586436[_0xb454e4(0x16b)]=_0x155410[_0xb454e4(0xec)],this[_0xb454e4(0x1bf)][_0xb454e4(0xc9)](this['rws'],_0x586436),_0x4ca168[_0xb454e4(0x15d)][_0xb454e4(0xfc)]=!![];}else{_0x48ff0d[_0xb454e4(0x193)](_0x155410[_0xb454e4(0xec)]);const _0x87c7fd={};_0x87c7fd[_0xb454e4(0x9a)]=_0x4ba956[_0xb454e4(0x1db)],_0x87c7fd['message']=_0x155410[_0xb454e4(0xec)],this[_0xb454e4(0x1bf)][_0xb454e4(0xc9)](this[_0xb454e4(0x9f)],_0x87c7fd),_0x3c4532[_0xb454e4(0x15d)][_0xb454e4(0xfc)]=!![];}}if(!_0x5766c2){logger[_0xb454e4(0x193)](_0x155410['djvdg']);const _0x21466b={};_0x21466b[_0xb454e4(0x9a)]=WS_EVENTS['RESOURCES'],_0x21466b[_0xb454e4(0x16b)]=_0x155410[_0xb454e4(0x115)],this[_0xb454e4(0x1bf)][_0xb454e4(0xc9)](this[_0xb454e4(0x9f)],_0x21466b);const _0x303e87={};_0x303e87[_0xb454e4(0xfc)]=!![],_0x4ca168[_0xb454e4(0xf3)]={'workloadIdentity':_0x303e87,..._0x4ca168['securityProfile']};}if(!_0x515767){logger[_0xb454e4(0x193)](_0x155410[_0xb454e4(0x189)]);const _0x2e7a16={};_0x2e7a16[_0xb454e4(0x9a)]=WS_EVENTS[_0xb454e4(0x1db)],_0x2e7a16[_0xb454e4(0x16b)]=_0x155410[_0xb454e4(0x189)],this[_0xb454e4(0x1bf)][_0xb454e4(0xc9)](this['rws'],_0x2e7a16),_0x4ca168[_0xb454e4(0x14c)]=![];}await this[_0xb454e4(0x18a)][_0xb454e4(0x98)]['beginCreateOrUpdateAndWait'](global_registry[_0xb454e4(0x155)],this[_0xb454e4(0x1c0)],_0x4ca168),await this[_0xb454e4(0xeb)]();}async[a1_0x5700a2(0xe4)](){const _0xa7543=a1_0x5700a2,_0x15e003=await this[_0xa7543(0x183)]['virtualNetworks'][_0xa7543(0x147)](global_registry['cloudProviderResourceGroup']),_0x548984={};_0x548984['username']=global_registry[_0xa7543(0xae)],_0x548984[_0xa7543(0x18f)]=global_registry[_0xa7543(0x7a)],_0x548984[_0xa7543(0xbf)]=AZURE,_0x548984[_0xa7543(0x12a)]=[];const _0x3a58a6=_0x548984;for await(const _0x99e453 of _0x15e003){_0x3a58a6[_0xa7543(0x12a)][_0xa7543(0x117)](_0x99e453);}const _0x4aa6ab={};_0x4aa6ab[_0xa7543(0x9a)]=WS_EVENTS['RESOURCES'],_0x4aa6ab[_0xa7543(0x16b)]=_0x3a58a6,this[_0xa7543(0x1bf)][_0xa7543(0xc9)](this[_0xa7543(0x9f)],_0x4aa6ab);}async[a1_0x5700a2(0x70)](_0x1eea50){const _0x4d4435=a1_0x5700a2,_0x4e5abc={};_0x4e5abc[_0x4d4435(0xd9)]=function(_0x304742,_0x384b58){return _0x304742===_0x384b58;};const _0x5c351e=_0x4e5abc;try{const _0x27a5d3=await this['networkClient']['virtualNetworks']['listAll'](global_registry[_0x4d4435(0x155)]);for await(const _0x19c40a of _0x27a5d3){if(_0x5c351e['QkkFM'](_0x19c40a[_0x4d4435(0x1a4)],_0x1eea50))return!![];}}catch(_0x1a1410){return logger[_0x4d4435(0x161)](_0x4d4435(0xe3)+_0x1eea50+_0x4d4435(0xd0)+_0x1a1410),![];}return![];}async['isSubnetsValid'](_0x5e6cb9,_0x188da9){const _0x45c4ae=a1_0x5700a2,_0x28971a={};_0x28971a[_0x45c4ae(0x19d)]=function(_0x3ac5c8,_0x298d5b){return _0x3ac5c8===_0x298d5b;};const _0x115550=_0x28971a;try{const _0x3bce57=await this[_0x45c4ae(0x183)]['subnets'][_0x45c4ae(0x7e)](global_registry[_0x45c4ae(0x155)],_0x188da9,_0x5e6cb9[0x0]);if(_0x115550['WdScS'](_0x5e6cb9[0x0],_0x3bce57[_0x45c4ae(0x1a4)]))return[!![],_0x5e6cb9];}catch(_0x5fd00f){return logger[_0x45c4ae(0x161)](_0x45c4ae(0xc7)+_0x5e6cb9+_0x45c4ae(0x1b3)+_0x5fd00f),[![],[]];}return[![],[]];}}const a1_0x206480={};a1_0x206480[a1_0x5700a2(0x111)]=AzureCloudProvider,module[a1_0x5700a2(0xe5)]=a1_0x206480;