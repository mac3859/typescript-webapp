const a25_0xf259a8=a25_0x3cd6;(function(_0x4325c2,_0x492a96){const _0x439e05=a25_0x3cd6,_0x4b9134=_0x4325c2();while(!![]){try{const _0x9006cf=parseInt(_0x439e05(0xf9))/0x1+-parseInt(_0x439e05(0x101))/0x2*(parseInt(_0x439e05(0xe4))/0x3)+parseInt(_0x439e05(0xd0))/0x4*(parseInt(_0x439e05(0x110))/0x5)+-parseInt(_0x439e05(0x13d))/0x6*(-parseInt(_0x439e05(0x100))/0x7)+parseInt(_0x439e05(0x13a))/0x8+parseInt(_0x439e05(0xae))/0x9*(-parseInt(_0x439e05(0xfa))/0xa)+parseInt(_0x439e05(0xe2))/0xb;if(_0x9006cf===_0x492a96)break;else _0x4b9134['push'](_0x4b9134['shift']());}catch(_0x52149a){_0x4b9134['push'](_0x4b9134['shift']());}}}(a25_0x3afc,0xdbfdc));const fs=require('fs'),path=require(a25_0xf259a8(0xd1)),Promise=require('bluebird'),yaml=require('js-yaml'),{CLOUDFORMATION_SCHEMA}=require(a25_0xf259a8(0x12e)),AWS=require(a25_0xf259a8(0x128))[a25_0xf259a8(0xdb)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a25_0xf259a8(0xa4)),{logger}=require('../config/logger'),{isBucketPresent}=require(a25_0xf259a8(0x128));Promise[a25_0xf259a8(0x131)](fs);function a25_0x3cd6(_0x11f9df,_0x12b7f3){const _0x3afce3=a25_0x3afc();return a25_0x3cd6=function(_0x3cd639,_0x348cb2){_0x3cd639=_0x3cd639-0xa3;let _0x32e08c=_0x3afce3[_0x3cd639];return _0x32e08c;},a25_0x3cd6(_0x11f9df,_0x12b7f3);}const mergeTemplates=(_0x2c0531,_0x50e5a6)=>{const _0x10f31a=a25_0xf259a8,_0x3e0a10={};_0x3e0a10['HUfrW']=function(_0x4355b3,_0x4c75ba){return _0x4355b3!==_0x4c75ba;},_0x3e0a10[_0x10f31a(0xdd)]='DvXpA',_0x3e0a10[_0x10f31a(0xb0)]=_0x10f31a(0xcf),_0x3e0a10[_0x10f31a(0xef)]='NodeGroup',_0x3e0a10[_0x10f31a(0xf2)]=_0x10f31a(0xb8),_0x3e0a10[_0x10f31a(0x108)]=function(_0x47c877,_0x544077){return _0x47c877===_0x544077;},_0x3e0a10[_0x10f31a(0xe0)]='DIszn';const _0x34df6c=_0x3e0a10;Object[_0x10f31a(0x137)](_0x50e5a6)['forEach'](_0x1eb905=>{const _0x4a65e4=_0x10f31a;if(_0x34df6c[_0x4a65e4(0x108)](_0x34df6c['ojMwS'],_0x34df6c[_0x4a65e4(0xe0)])){var _0x11eadf=_0x50e5a6[_0x1eb905];Object[_0x4a65e4(0x137)](_0x11eadf)[_0x4a65e4(0xd7)](_0x11d0e8=>{const _0x50cd54=_0x4a65e4;_0x34df6c[_0x50cd54(0x13c)](_0x34df6c[_0x50cd54(0xdd)],_0x34df6c[_0x50cd54(0xb0)])?_0x2c0531[_0x1eb905][_0x11d0e8]=_0x11eadf[_0x11d0e8]:_0x1b682f['keys'](_0x1d53c2)[_0x50cd54(0xd7)](_0x48476c=>{const _0x3445bc=_0x50cd54;var _0x3ecd60=_0x1470fd[_0x48476c];_0x104e25[_0x3445bc(0x137)](_0x3ecd60)[_0x3445bc(0xd7)](_0x3b4caf=>{_0x4aa99a[_0x48476c][_0x3b4caf]=_0x3ecd60[_0x3b4caf];});});});}else{for(const _0x392055 in _0x3a9dd0[_0x4a65e4(0xf5)]){_0x1000b9[_0x4a65e4(0xf5)][_0x392055][_0x4a65e4(0xca)]&&_0x1b392a[_0x4a65e4(0xf5)][_0x392055]['Properties'][_0x4a65e4(0x13e)]&&_0x1ca0f8[_0x4a65e4(0xf5)][_0x392055][_0x4a65e4(0xca)][_0x4a65e4(0x13e)][_0x4a65e4(0x11e)](..._0x1261f5);}const _0xf8ee45={};_0x26ed9e[_0x4a65e4(0xd7)](_0x2665bf=>{const _0x403184=_0x4a65e4;_0xf8ee45[_0x2665bf['Key']]=_0x2665bf[_0x403184(0x14c)];}),_0xa27e2b['Resources'][_0x34df6c[_0x4a65e4(0xef)]][_0x4a65e4(0xca)][_0x4a65e4(0x13e)]=_0xf8ee45,_0x3d3207[_0x4a65e4(0xf5)][_0x34df6c[_0x4a65e4(0xf2)]][_0x4a65e4(0xca)][_0x4a65e4(0x13e)]=_0xf8ee45;}});},addVPCData=async(_0x8d32bb,_0x183229)=>{const _0x31cae8=a25_0xf259a8,_0xa18004={'ctzSz':'VPC','rmVQS':function(_0x375af9,_0x1a3339){return _0x375af9===_0x1a3339;},'qAerf':_0x31cae8(0xf4),'BUSWf':_0x31cae8(0xe6),'fHGkC':'CFTemplates','STClH':'vpc-import.yaml','eHuIL':'utf-8','epcoJ':function(_0x5d652e,_0x5b2c43,_0x1eca8b){return _0x5d652e(_0x5b2c43,_0x1eca8b);},'JWjje':_0x31cae8(0xd4),'GQsxV':function(_0x31b32d,_0x2cbfed){return _0x31b32d!==_0x2cbfed;},'GiHYF':'hIujd','bvoeB':_0x31cae8(0x121),'TZjDj':'vpc-create.yaml','AkBOt':_0x31cae8(0xf6)};if(_0x183229){if(_0xa18004['rmVQS'](_0xa18004[_0x31cae8(0xf8)],_0xa18004[_0x31cae8(0x159)]))_0x34ef4c['Resources'][_0x57a446][_0x31cae8(0xca)][_0x31cae8(0x13e)]['push'](..._0x1faa1b);else{const _0x31a7e0=await fs['readFileAsync'](path['join'](__dirname,'..',_0xa18004[_0x31cae8(0x141)],_0xa18004[_0x31cae8(0x15f)]),_0xa18004[_0x31cae8(0xd6)]),_0xbc6edd={};_0xbc6edd[_0x31cae8(0x10a)]=CLOUDFORMATION_SCHEMA;const _0xb6ad6f=yaml[_0x31cae8(0x113)](_0x31a7e0,_0xbc6edd);_0xa18004[_0x31cae8(0x126)](mergeTemplates,_0x8d32bb,_0xb6ad6f),_0x8d32bb[_0x31cae8(0xa3)][_0xa18004[_0x31cae8(0xee)]][_0x31cae8(0xa6)][0x0][_0x31cae8(0xa5)][_0x31cae8(0x11e)](_0xa18004[_0x31cae8(0x122)]);}}else{if(_0xa18004['GQsxV'](_0xa18004[_0x31cae8(0xcd)],_0xa18004[_0x31cae8(0xab)])){const _0x23fc37=await fs['readFileAsync'](path[_0x31cae8(0xfc)](__dirname,'..',_0xa18004[_0x31cae8(0x141)],_0xa18004[_0x31cae8(0xdf)]),_0xa18004[_0x31cae8(0xd6)]),_0xe2f470={};_0xe2f470['schema']=CLOUDFORMATION_SCHEMA;const _0x2d8557=yaml['load'](_0x23fc37,_0xe2f470);_0xa18004['epcoJ'](mergeTemplates,_0x8d32bb,_0x2d8557),_0x8d32bb[_0x31cae8(0xa3)][_0xa18004[_0x31cae8(0xee)]][_0x31cae8(0xa6)][0x0]['Parameters']['push'](_0xa18004[_0x31cae8(0xd8)]);}else{const _0x3eea2a={};_0x3eea2a[_0x31cae8(0xc0)]=_0xa18004[_0x31cae8(0x122)],_0x3eea2a['ParameterValue']=_0x1ca57b,_0x399935[_0x31cae8(0xa5)]['push'](_0x3eea2a);}}},addS3Data=async _0x4ea7ed=>{const _0x446238=a25_0xf259a8,_0x4e1a40={'ZYRUf':_0x446238(0xad),'NvqsE':_0x446238(0x146),'wqMHb':_0x446238(0x124),'qfShP':function(_0x58e2a3,_0x1b2ae6){return _0x58e2a3(_0x1b2ae6);},'MEsNs':function(_0x2f04c4,_0x4453d3){return _0x2f04c4===_0x4453d3;},'wpHOH':function(_0x189c79,_0x4d5b94){return _0x189c79!==_0x4d5b94;},'iaCsc':'yYvvx','hjzZM':_0x446238(0x127),'GkvPI':function(_0xc36065,_0x5e3974,_0x20ac15){return _0xc36065(_0x5e3974,_0x20ac15);}},_0x1fdada=await fs['readFileAsync'](path[_0x446238(0xfc)](__dirname,'..',_0x4e1a40[_0x446238(0x160)],_0x4e1a40[_0x446238(0x143)]),_0x4e1a40[_0x446238(0x114)]),_0x47cad9={};_0x47cad9[_0x446238(0x10a)]=CLOUDFORMATION_SCHEMA;const _0x4b317a=yaml[_0x446238(0x113)](_0x1fdada,_0x47cad9),_0x5445b2=await _0x4e1a40['qfShP'](isBucketPresent,global_registry[_0x446238(0x14a)]);_0x4e1a40[_0x446238(0x142)](_0x5445b2,![])&&(_0x4e1a40[_0x446238(0xa9)](_0x4e1a40[_0x446238(0xed)],_0x4e1a40['hjzZM'])?_0x4e1a40['GkvPI'](mergeTemplates,_0x4ea7ed,_0x4b317a):_0x42de69['Resources'][_0x44de2c][_0x446238(0xca)]&&_0x51afb3[_0x446238(0xf5)][_0x59502c]['Properties'][_0x446238(0x13e)]&&_0x463c65[_0x446238(0xf5)][_0x5ec692]['Properties'][_0x446238(0x13e)][_0x446238(0x11e)](..._0x5bfa56));},addSubnetData=async(_0x5e9d32,_0x2c3b7b)=>{const _0x2b6222=a25_0xf259a8,_0x2042fb={'keHMU':function(_0x32c768,_0x6efbff,_0xa095b8){return _0x32c768(_0x6efbff,_0xa095b8);},'UkRCM':function(_0x43c11a,_0x5184e5){return _0x43c11a===_0x5184e5;},'Nkwep':_0x2b6222(0xc2),'hRqZD':'4|0|5|3|2|1','uOVhW':'AWS::CloudFormation::Interface','CnYVi':function(_0x1e7697,_0x3110f2){return _0x1e7697(_0x3110f2);},'JgyVE':'Fn::Join','mfQlJ':function(_0x14e07c,_0x78a7f){return _0x14e07c(_0x78a7f);},'UocGo':function(_0x3713a4,_0xef1f1c){return _0x3713a4(_0xef1f1c);},'bFfuk':function(_0xfa1902,_0x38bfe6){return _0xfa1902===_0x38bfe6;},'uRtyN':'Gnxxk','bCqen':'CFTemplates','CVEec':_0x2b6222(0x106),'leEwZ':_0x2b6222(0x124),'xdphT':function(_0x448929,_0x31a0ad,_0x4ecf68){return _0x448929(_0x31a0ad,_0x4ecf68);},'XxwNV':function(_0x5c7124,_0x326257){return _0x5c7124!==_0x326257;},'jTChW':_0x2b6222(0xea),'nSPxy':'ypKVx','TvJvE':_0x2b6222(0x134),'DzfLl':_0x2b6222(0xff),'iqixo':_0x2b6222(0xd3),'StkcL':_0x2b6222(0x139),'XzqEu':_0x2b6222(0xd9),'aIRAV':_0x2b6222(0xec),'qhrpx':_0x2b6222(0xde)};if(_0x2c3b7b){if(_0x2042fb[_0x2b6222(0xc8)](_0x2042fb['uRtyN'],_0x2042fb[_0x2b6222(0xeb)])){const _0x5b9258=await fs['readFileAsync'](path['join'](__dirname,'..',_0x2042fb[_0x2b6222(0x152)],_0x2042fb[_0x2b6222(0x150)]),_0x2042fb[_0x2b6222(0xc5)]),_0x2fcd0d={};_0x2fcd0d[_0x2b6222(0x10a)]=CLOUDFORMATION_SCHEMA;const _0x31515f=yaml[_0x2b6222(0x113)](_0x5b9258,_0x2fcd0d);_0x2042fb[_0x2b6222(0x118)](mergeTemplates,_0x5e9d32,_0x31515f);let _0x3e36cd=0x1;_0x2c3b7b[_0x2b6222(0xd7)](_0x4c5b55=>{const _0x10c56e=_0x2b6222;if(_0x2042fb[_0x10c56e(0x144)](_0x2042fb[_0x10c56e(0x154)],_0x2042fb['Nkwep'])){const _0x30ad92=_0x2042fb[_0x10c56e(0x119)][_0x10c56e(0x13b)]('|');let _0x493cec=0x0;while(!![]){switch(_0x30ad92[_0x493cec++]){case'0':_0x5e9d32[_0x10c56e(0xa3)][_0x2042fb[_0x10c56e(0x11f)]]['ParameterGroups'][0x0][_0x10c56e(0xa5)]['push']('Subnet'+_0x2042fb[_0x10c56e(0x11b)](String,_0x3e36cd)['padStart'](0x2,'0'));continue;case'1':_0x3e36cd+=0x1;continue;case'2':_0x5e9d32['Outputs'][_0x10c56e(0x120)][_0x10c56e(0x14c)][_0x2042fb['JgyVE']][0x1][_0x10c56e(0x11e)]({'Ref':_0x10c56e(0x15e)+_0x2042fb[_0x10c56e(0x12f)](String,_0x3e36cd)[_0x10c56e(0x14f)](0x2,'0')});continue;case'3':_0x5e9d32['Resources'][_0x10c56e(0xb8)][_0x10c56e(0xca)][_0x10c56e(0xa8)][_0x10c56e(0x11e)]({'Ref':_0x10c56e(0x15e)+_0x2042fb[_0x10c56e(0x11b)](String,_0x3e36cd)['padStart'](0x2,'0')});continue;case'4':_0x5e9d32[_0x10c56e(0xf5)][_0x10c56e(0x156)][_0x10c56e(0xca)][_0x10c56e(0xb9)][_0x10c56e(0x120)]['push']({'Ref':_0x10c56e(0x15e)+_0x2042fb[_0x10c56e(0x12f)](String,_0x3e36cd)['padStart'](0x2,'0')});continue;case'5':_0x5e9d32['Resources'][_0x10c56e(0xbb)]['Properties'][_0x10c56e(0xa8)][_0x10c56e(0x11e)]({'Ref':_0x10c56e(0x15e)+_0x2042fb['mfQlJ'](String,_0x3e36cd)[_0x10c56e(0x14f)](0x2,'0')});continue;}break;}}else _0x2042fb['keHMU'](_0x3d2f50,_0x336e4d,_0x3ab552);});}else _0x2b6b02[_0x387ede['Key']]=_0x3a2580['Value'];}else{if(_0x2042fb['XxwNV'](_0x2042fb['jTChW'],_0x2042fb['nSPxy'])){const _0x376b66=await fs[_0x2b6222(0x147)](path['join'](__dirname,'..',_0x2042fb[_0x2b6222(0x152)],_0x2042fb['TvJvE']),_0x2042fb['leEwZ']),_0x509636={};_0x509636[_0x2b6222(0x10a)]=CLOUDFORMATION_SCHEMA;const _0x1a4e47=yaml[_0x2b6222(0x113)](_0x376b66,_0x509636);_0x2042fb['xdphT'](mergeTemplates,_0x5e9d32,_0x1a4e47),_0x5e9d32['Resources'][_0x2b6222(0x156)][_0x2b6222(0x109)]['push'](_0x2042fb[_0x2b6222(0x102)],_0x2042fb[_0x2b6222(0xf7)],_0x2042fb[_0x2b6222(0xba)]);const _0x4f7245={};_0x4f7245[_0x2b6222(0x12d)]=_0x2042fb['DzfLl'];const _0x1dadf6={};_0x1dadf6[_0x2b6222(0x12d)]=_0x2042fb[_0x2b6222(0xf7)];const _0x102a39={};_0x102a39[_0x2b6222(0x12d)]=_0x2042fb[_0x2b6222(0xba)],_0x5e9d32[_0x2b6222(0xf5)][_0x2b6222(0x156)][_0x2b6222(0xca)][_0x2b6222(0xb9)][_0x2b6222(0x120)]=[_0x4f7245,_0x1dadf6,_0x102a39],_0x5e9d32[_0x2b6222(0xa3)][_0x2042fb[_0x2b6222(0x11f)]][_0x2b6222(0xa6)][0x0]['Parameters'][_0x2b6222(0x11e)](_0x2042fb[_0x2b6222(0xf0)],_0x2042fb[_0x2b6222(0x130)],_0x2042fb[_0x2b6222(0x15b)]);const _0x38162b={};_0x38162b[_0x2b6222(0x12d)]=_0x2042fb[_0x2b6222(0x102)];const _0x563667={};_0x563667[_0x2b6222(0x12d)]=_0x2042fb[_0x2b6222(0xf7)];const _0x39667f={};_0x39667f[_0x2b6222(0x12d)]=_0x2042fb['StkcL'],_0x5e9d32[_0x2b6222(0xf5)][_0x2b6222(0xbb)][_0x2b6222(0xca)][_0x2b6222(0xa8)]=[_0x38162b,_0x563667,_0x39667f];const _0x31afd0={};_0x31afd0[_0x2b6222(0x12d)]=_0x2042fb['DzfLl'];const _0x1ff5de={};_0x1ff5de[_0x2b6222(0x12d)]=_0x2042fb[_0x2b6222(0xf7)];const _0x1dfa6a={};_0x1dfa6a[_0x2b6222(0x12d)]=_0x2042fb[_0x2b6222(0xba)],_0x5e9d32[_0x2b6222(0xf5)][_0x2b6222(0xb8)][_0x2b6222(0xca)][_0x2b6222(0xa8)]=[_0x31afd0,_0x1ff5de,_0x1dfa6a],_0x5e9d32[_0x2b6222(0x133)]['SubnetIds'][_0x2b6222(0x14c)][_0x2042fb['JgyVE']][0x1]=[{'Ref':_0x2042fb[_0x2b6222(0x102)]},{'Ref':_0x2042fb[_0x2b6222(0xf7)]},{'Ref':_0x2042fb[_0x2b6222(0xba)]}];}else _0x4d5904[_0x2b6222(0xa5)]['push']({'ParameterKey':_0x2b6222(0x15e)+_0x2042fb['UocGo'](_0x36f7cb,_0x3ca2ab)[_0x2b6222(0x14f)](0x2,'0'),'ParameterValue':_0x2e0028[_0x2b6222(0x10e)]}),_0x214b7e+=0x1;}},addTags=async(_0x2ad7e0,_0x157391,_0x327e61)=>{const _0x3782ab=a25_0xf259a8,_0x2d2d54={'FwGis':_0x3782ab(0xb4),'MILig':function(_0x13e007,_0x35def0){return _0x13e007(_0x35def0);},'yRlnT':_0x3782ab(0xd4),'EMCcW':function(_0x46a877,_0x496c5f){return _0x46a877(_0x496c5f);},'QiKIi':function(_0xb1394f,_0x2d0e57){return _0xb1394f(_0x2d0e57);},'yGhbw':function(_0xe410c8,_0x363e3d){return _0xe410c8(_0x363e3d);},'OrrRE':_0x3782ab(0x125),'yanyo':function(_0x1a3763,_0x251b57){return _0x1a3763(_0x251b57);},'EHDVA':function(_0x1f57dd,_0x281e2d){return _0x1f57dd(_0x281e2d);},'LIfMN':function(_0x5765ef,_0x534a8d){return _0x5765ef!==_0x534a8d;},'QKEeM':_0x3782ab(0x104),'RuSry':_0x3782ab(0x112),'MyFBY':function(_0x24f061,_0x2e9336){return _0x24f061!==_0x2e9336;},'VYxCo':_0x3782ab(0xe5),'adWvT':function(_0x2195bc,_0x533476){return _0x2195bc!==_0x533476;},'EpCgf':_0x3782ab(0x111),'cPMtZ':_0x3782ab(0x103),'onEta':'NodeGroup','GVKvn':'NodeGroupWindows'};for(const _0x1a9d21 in _0x2ad7e0[_0x3782ab(0xf5)]){if(_0x2d2d54['MyFBY'](_0x2d2d54[_0x3782ab(0x12a)],_0x2d2d54['VYxCo'])){var _0x47ca7d=_0x129507[_0x4cf105];_0x25d4cd[_0x3782ab(0x137)](_0x47ca7d)[_0x3782ab(0xd7)](_0x41bb6a=>{_0x52a96d[_0x561d9c][_0x41bb6a]=_0x47ca7d[_0x41bb6a];});}else{if(_0x2ad7e0[_0x3782ab(0xf5)][_0x1a9d21][_0x3782ab(0xca)]&&_0x2ad7e0[_0x3782ab(0xf5)][_0x1a9d21][_0x3782ab(0xca)][_0x3782ab(0x13e)]){if(_0x2d2d54['adWvT'](_0x2d2d54[_0x3782ab(0xe8)],_0x2d2d54[_0x3782ab(0x153)]))_0x2ad7e0[_0x3782ab(0xf5)][_0x1a9d21][_0x3782ab(0xca)][_0x3782ab(0x13e)]['push'](..._0x327e61);else{const _0x51841e=_0x2d2d54['FwGis'][_0x3782ab(0x13b)]('|');let _0x4c5730=0x0;while(!![]){switch(_0x51841e[_0x4c5730++]){case'0':_0x527158[_0x3782ab(0xf5)][_0x3782ab(0xb8)]['Properties'][_0x3782ab(0xa8)][_0x3782ab(0x11e)]({'Ref':_0x3782ab(0x15e)+_0x2d2d54[_0x3782ab(0xfe)](_0x33ec63,_0x55fc55)[_0x3782ab(0x14f)](0x2,'0')});continue;case'1':_0x1bf9bd+=0x1;continue;case'2':_0x3f61d5[_0x3782ab(0xa3)][_0x2d2d54[_0x3782ab(0x136)]][_0x3782ab(0xa6)][0x0][_0x3782ab(0xa5)][_0x3782ab(0x11e)]('Subnet'+_0x2d2d54[_0x3782ab(0x145)](_0x1d46dc,_0x3810d7)[_0x3782ab(0x14f)](0x2,'0'));continue;case'3':_0x194773[_0x3782ab(0xf5)][_0x3782ab(0x156)]['Properties'][_0x3782ab(0xb9)]['SubnetIds'][_0x3782ab(0x11e)]({'Ref':_0x3782ab(0x15e)+_0x2d2d54[_0x3782ab(0x116)](_0x2102e2,_0x42209c)[_0x3782ab(0x14f)](0x2,'0')});continue;case'4':_0x89575f[_0x3782ab(0xf5)][_0x3782ab(0xbb)][_0x3782ab(0xca)]['Subnets'][_0x3782ab(0x11e)]({'Ref':_0x3782ab(0x15e)+_0x2d2d54['yGhbw'](_0x54c33b,_0x4c1edb)[_0x3782ab(0x14f)](0x2,'0')});continue;case'5':_0x472b48[_0x3782ab(0x133)][_0x3782ab(0x120)][_0x3782ab(0x14c)][_0x2d2d54[_0x3782ab(0xc6)]][0x1][_0x3782ab(0x11e)]({'Ref':_0x3782ab(0x15e)+_0x2d2d54[_0x3782ab(0x140)](_0x26e41c,_0x174b47)[_0x3782ab(0x14f)](0x2,'0')});continue;}break;}}}}}const _0x10ea26={};_0x327e61[_0x3782ab(0xd7)](_0x105c5d=>{const _0x345af4=_0x3782ab,_0x5c61d7={'bpwgR':function(_0x4a62da,_0x47cc55){const _0x566581=a25_0x3cd6;return _0x2d2d54[_0x566581(0x151)](_0x4a62da,_0x47cc55);}};if(_0x2d2d54[_0x345af4(0xdc)](_0x2d2d54[_0x345af4(0xc1)],_0x2d2d54['RuSry']))_0x10ea26[_0x105c5d[_0x345af4(0xe3)]]=_0x105c5d['Value'];else{const _0x299e16={'NVaxU':function(_0x2cc792,_0x415e5d){return _0x5c61d7['bpwgR'](_0x2cc792,_0x415e5d);}};let _0x409f65=0x1;_0x4fd84a['forEach'](_0x1447bc=>{const _0x17364a=_0x345af4;_0x13a84a[_0x17364a(0xa5)]['push']({'ParameterKey':_0x17364a(0x15e)+_0x299e16[_0x17364a(0x10d)](_0x4d516d,_0x409f65)[_0x17364a(0x14f)](0x2,'0'),'ParameterValue':_0x1447bc['value']}),_0x409f65+=0x1;});}}),_0x2ad7e0['Resources'][_0x2d2d54[_0x3782ab(0x115)]][_0x3782ab(0xca)][_0x3782ab(0x13e)]=_0x10ea26,_0x2ad7e0[_0x3782ab(0xf5)][_0x2d2d54[_0x3782ab(0x14d)]][_0x3782ab(0xca)][_0x3782ab(0x13e)]=_0x10ea26;};exports[a25_0xf259a8(0x129)]=async(_0x5832ba,_0x3ec080,_0x4937e4,_0x136115=null,_0x2f26dc=null)=>{const _0x1af2a5=a25_0xf259a8,_0x2057e1={'qwzcz':function(_0x1b864c,_0x1b87ea){return _0x1b864c(_0x1b87ea);},'KBcWD':_0x1af2a5(0x105),'jfTOU':_0x1af2a5(0x148),'divHd':_0x1af2a5(0x10f),'pmRTp':_0x1af2a5(0xad),'ytVsB':_0x1af2a5(0xb7),'RYcHe':'utf-8','KHLRQ':function(_0x596a19,_0x9c0e46,_0xa349d3){return _0x596a19(_0x9c0e46,_0xa349d3);},'ePLdY':function(_0x32b9a7,_0x13cf4e){return _0x32b9a7(_0x13cf4e);},'LWhXS':function(_0x3a7965,_0x314620,_0x109c15,_0x5112e0){return _0x3a7965(_0x314620,_0x109c15,_0x5112e0);},'GcWIu':_0x1af2a5(0x13f),'Xucuh':_0x1af2a5(0x135),'NCNKu':_0x1af2a5(0x10b),'FRUrj':_0x1af2a5(0xb2),'OyKNl':_0x1af2a5(0xcb),'SnvIm':_0x1af2a5(0xfb),'sZYSb':_0x1af2a5(0x157),'pyjhi':_0x1af2a5(0x14b),'mzKbf':_0x1af2a5(0x15a),'KHVfS':_0x1af2a5(0xc9),'QGZBp':'NodeGroupNameWindows','IqfhL':'CAPABILITY_NAMED_IAM','PNGkr':function(_0x5c419c,_0x748d47){return _0x5c419c!=_0x748d47;},'AlveR':function(_0xb0f5e3,_0x30e4e6){return _0xb0f5e3!==_0x30e4e6;},'zOXcg':function(_0x3d75b9,_0x39bb54){return _0x3d75b9===_0x39bb54;},'wwosD':_0x1af2a5(0xcc),'XhTtb':_0x1af2a5(0xbf),'yQEgS':_0x1af2a5(0x107),'MONJW':_0x1af2a5(0x12b)},_0x6400a=COMMON_HST_TAGS,_0xfec3b={};_0xfec3b[_0x1af2a5(0xe3)]=_0x2057e1[_0x1af2a5(0xe1)],_0xfec3b[_0x1af2a5(0x14c)]=_0x5832ba,_0x6400a['push'](_0xfec3b),_0x6400a[_0x1af2a5(0x11e)]({'Key':_0x2057e1[_0x1af2a5(0xc3)],'Value':new Date()[_0x1af2a5(0xb1)]()[_0x1af2a5(0x11d)]()});const _0x62b069={};_0x62b069[_0x1af2a5(0xbc)]=_0x2057e1[_0x1af2a5(0xd5)];const _0x1bb288=new AWS['CloudFormation'](_0x62b069),_0x520fd6=await fs[_0x1af2a5(0x147)](path[_0x1af2a5(0xfc)](__dirname,'..',_0x2057e1[_0x1af2a5(0xc4)],_0x2057e1[_0x1af2a5(0xda)]),_0x2057e1[_0x1af2a5(0x123)]),_0x1de940={};_0x1de940[_0x1af2a5(0x10a)]=CLOUDFORMATION_SCHEMA;const _0x204d56=yaml[_0x1af2a5(0x113)](_0x520fd6,_0x1de940);await _0x2057e1['KHLRQ'](addVPCData,_0x204d56,_0x136115),await _0x2057e1[_0x1af2a5(0xa7)](addS3Data,_0x204d56),await _0x2057e1[_0x1af2a5(0x149)](addSubnetData,_0x204d56,_0x2f26dc),await _0x2057e1[_0x1af2a5(0x10c)](addTags,_0x204d56,_0x5832ba,_0x6400a);const _0x5c9dc8=JSON[_0x1af2a5(0xaa)](_0x204d56),_0x4da192={};_0x4da192['StackName']=CLUSTER_DEP_STACK_NAME+'-'+_0x5832ba,_0x4da192[_0x1af2a5(0xb5)]=_0x2057e1[_0x1af2a5(0x11c)],_0x4da192[_0x1af2a5(0x14e)]=_0x5c9dc8,_0x4da192[_0x1af2a5(0xa5)]=[{'ParameterKey':_0x2057e1[_0x1af2a5(0x158)],'ParameterValue':_0x5832ba},{'ParameterKey':_0x2057e1[_0x1af2a5(0xb6)],'ParameterValue':_0x5832ba+_0x1af2a5(0xe7)},{'ParameterKey':_0x2057e1['FRUrj'],'ParameterValue':''+_0x3ec080},{'ParameterKey':_0x2057e1[_0x1af2a5(0xac)],'ParameterValue':'0'},{'ParameterKey':_0x2057e1['SnvIm'],'ParameterValue':'1'},{'ParameterKey':_0x2057e1[_0x1af2a5(0xf3)],'ParameterValue':''+_0x4937e4},{'ParameterKey':_0x2057e1[_0x1af2a5(0x117)],'ParameterValue':global_registry[_0x1af2a5(0xaf)]},{'ParameterKey':_0x2057e1[_0x1af2a5(0xbe)],'ParameterValue':global_registry['instanceType']},{'ParameterKey':_0x2057e1[_0x1af2a5(0xc7)],'ParameterValue':global_registry[_0x1af2a5(0x14a)]},{'ParameterKey':_0x2057e1[_0x1af2a5(0xf1)],'ParameterValue':_0x5832ba+_0x1af2a5(0xb3)}],_0x4da192[_0x1af2a5(0x15c)]=[_0x2057e1[_0x1af2a5(0x155)]],_0x4da192['Tags']=_0x6400a;const _0x4aa720=_0x4da192;if(_0x2057e1[_0x1af2a5(0xbd)](_0x136115,null)&&_0x2057e1[_0x1af2a5(0x15d)](_0x136115,undefined)){if(_0x2057e1[_0x1af2a5(0xfd)](_0x2057e1['wwosD'],_0x2057e1['wwosD'])){const _0x353e2a={};_0x353e2a[_0x1af2a5(0xc0)]=_0x2057e1[_0x1af2a5(0x132)],_0x353e2a['ParameterValue']=_0x136115,_0x4aa720[_0x1af2a5(0xa5)][_0x1af2a5(0x11e)](_0x353e2a);}else _0xb58ab8[_0x5c77ad][_0x1513b4]=_0x462caf[_0x6edb29];}if(_0x2057e1[_0x1af2a5(0xbd)](_0x2f26dc,null)&&_0x2057e1['AlveR'](_0x2f26dc,undefined)){let _0x1b3bce=0x1;_0x2f26dc[_0x1af2a5(0xd7)](_0x2d5191=>{const _0x229bee=_0x1af2a5;_0x4aa720[_0x229bee(0xa5)][_0x229bee(0x11e)]({'ParameterKey':_0x229bee(0x15e)+_0x2057e1[_0x229bee(0x138)](String,_0x1b3bce)['padStart'](0x2,'0'),'ParameterValue':_0x2d5191[_0x229bee(0x10e)]}),_0x1b3bce+=0x1;});}const _0x192aa2=await _0x1bb288['createStack'](_0x4aa720)[_0x1af2a5(0xe9)]();logger[_0x1af2a5(0xce)](_0x2057e1['yQEgS']);const _0x79fe2b={};return _0x79fe2b['StackName']=_0x192aa2[_0x1af2a5(0x11a)],_0x1bb288[_0x1af2a5(0xd2)](_0x2057e1[_0x1af2a5(0x12c)],_0x79fe2b)[_0x1af2a5(0xe9)]();};function a25_0x3afc(){const _0x1c4bf1=['forEach','AkBOt','Subnet01Block','ytVsB','awsObj','LIfMN','igevb','Subnet03Block','TZjDj','ojMwS','KBcWD','856130cBJEYF','Key','6HxGZDx','GUqcV','vkxWF','-NodeGroup','EpCgf','promise','dhOxO','uRtyN','Subnet02Block','iaCsc','JWjje','lXTxc','XzqEu','QGZBp','gjcbu','sZYSb','HELlw','Resources','VpcBlock','iqixo','qAerf','615232OhsqBl','262380MOJIHG','NodeAutoScalingGroupDesiredSizeWindows','join','zOXcg','MILig','Subnet01','14xJBEHV','1199654xZvFns','DzfLl','tqxsq','hogSC','browserstack:cluster','subnet-import.yaml','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','zHYsR','DependsOn','schema','NodeGroupName','LWhXS','NVaxU','value','2010-05-15','192955xlXyOc','cUqjv','YJBRf','load','wqMHb','onEta','QiKIi','pyjhi','xdphT','hRqZD','StackId','CnYVi','GcWIu','toString','push','uOVhW','SubnetIds','hiQqE','ctzSz','RYcHe','utf-8','Fn::Join','epcoJ','CCpcp','./AWSUtils','createClusterStack','VYxCo','stackCreateComplete','MONJW','Ref','js-yaml-cloudformation-schema','mfQlJ','aIRAV','promisifyAll','XhTtb','Outputs','subnet-create.yaml','ClusterName','yRlnT','keys','qwzcz','Subnet03','3402120aiymrS','split','HUfrW','2247708ohJmXx','Tags','DELETE','yanyo','fHGkC','MEsNs','NvqsE','UkRCM','EMCcW','s3-create.yaml','readFileAsync','browserstack:creationDate','KHLRQ','s3Bucket','NodeImageId','Value','GVKvn','TemplateBody','padStart','CVEec','EHDVA','bCqen','cPMtZ','Nkwep','IqfhL','EKSCluster','NodeAutoScalingGroupMaxSize','Xucuh','BUSWf','NodeInstanceType','qhrpx','Capabilities','AlveR','Subnet','STClH','ZYRUf','Metadata','../config/constants','Parameters','ParameterGroups','ePLdY','Subnets','wpHOH','stringify','bvoeB','OyKNl','CFTemplates','198EKbBmm','ami','UKkwo','valueOf','NodeAutoScalingGroupMinSize','-Windows-NodeGroup','3|2|4|0|5|1','OnFailure','NCNKu','aws-eks-cluster-dep.yaml','NodeGroupWindows','ResourcesVpcConfig','StkcL','NodeGroup','apiVersion','PNGkr','mzKbf','VPC','ParameterKey','QKEeM','GyeqW','jfTOU','pmRTp','leEwZ','OrrRE','KHVfS','bFfuk','S3BucketName','Properties','NodeAutoScalingGroupMinSizeWindows','yvjhT','GiHYF','debug','PFYku','84RTDtlj','path','waitFor','Subnet02','AWS::CloudFormation::Interface','divHd','eHuIL'];a25_0x3afc=function(){return _0x1c4bf1;};return a25_0x3afc();}