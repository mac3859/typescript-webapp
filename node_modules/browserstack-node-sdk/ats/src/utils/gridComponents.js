function a28_0x2b5d(){const _0x5d389d=['createClusterRoleBinding','annotations','pBvAk','role-binding.yaml','bstackAccesskey','createNamespacedService','sCyje','xrfbP','Adding\x20Cert\x20Issuer','gixNp','nginx','JrmJq','metrics-server','2238036yveICX','autoscaler','<ClusterName>','Deleted\x20clusterrolebinding','WgwQi','xdCuA','Gthza','PqhPE','bQHJI','browser-node-cluster-role-binding.yaml','toXlZ','qkSko','KfJzm','browser-node-service-account.yaml','XShmo','default','js-yaml','Adding\x20MetricsServer\x20namespacedRoleBinding','Deleting\x20Turboscale\x20Agent','Adding\x20VPC\x20CNI\x20CM','CeHtI','bZGhi','uptca','iuYzg','ppFTL','Deleting\x20','false','GPvdi','DNRBK','nzFEr','2WwuAmx','api-service.yaml','createNamespacedDeployment','Removing\x20grid\x20components','qiXxy','Deleted\x20cert-manager','createNamespacedRoleBinding','ztvnP','IYwkg','QgQUR','Adding\x20MetricsServer\x20clusterRoleBinding','createClusterRole','IEyNd','Adding\x20Autoscaler\x20clusterRoleBinding','cloudProvider','PlmLR','sPojI','mUZvx','tMOLj','lcePz','157076DwHsSq','namespace','QAYvO','1157005toURFA','UcXmT','HucEB','isNewAWSCluster','cluster-role-binding-auth-delegator.yaml','bFrfB','KmiWf','3FDCCgL','networking.gke.io/load-balancer-type:\x20\x22Internal\x22','nrPUO','VIqoD','Adding\x20Autoscaler\x20namespacedRole','eLzgK','Adding\x20Nginx\x20Pods\x20and\x20deployments','Added\x20Cert\x20Manager','isPrivateGrid','cluster-role-binding.yaml','Adding\x20Autoscaler\x20clusterRole','readNamespacedDeployment','split','replace','wbFHZ','Added\x20browser-node-role-binding\x20role\x20binding','utf-8','ingress-nginx','UoJKF','load','Adding\x20Nginx\x20Roles\x20and\x20Service\x20Accounts','SoZfc','Adding\x20MetricsServer\x20Deployment','oscsr','cHFSx','Adding\x20Autoscaler\x20Components','private-pods-and-services.yaml','pods-and-services.yaml','Added\x20VPC\x20CNI\x20ConfigMaps','4|3|1|2|0','Ufyoz','ingress.yaml','service.yaml','bstackUsername','browserVersion','yxAbl','kube-system','Adding\x20MetricsServer\x20clusterRole','hyBsC','labels','Scaled\x20up\x20deployment','HYVRq','Fjwng','CQZAx','vkPwY','yPrfz','uid','browser-node-cluster-role.yaml','qJjlF','WEbFC','EoXxu','path','qLJCF','AUJnU','WaveM','addMetricServerComponents','namespaceExists','qwaJX','UOZqw','XYrsd','sPLhI','Removed\x20grid\x20components','xqHxB','jwfOk','xjAFR','iKXBk','4397063brIYcc','all','join','PBunu','scaleUpHubDeployment','Scaled\x20down\x20deployment','Added\x20Ingress','Adding\x20MetricsServer\x20Service\x20Account','Added\x20MetricsServer\x20Components','ECLOs','clusterRegion','Adding\x20default\x20service\x20account','NmMNS','deleteClusterAndDependencies','private-ingress-nginx-controller','Added\x20Autoscaler\x20Components','Deleted\x20ingress-nginx','cert-manager.yaml','Adding\x20MetricsServer\x20clusterRole\x20for\x20aggregated\x20reader','loadAll','Added\x20Nginx\x20Private\x20Pods\x20and\x20deployments','gKnKB','ZSoEO','spec','Deleted\x20cluster\x20and\x20linked\x20resources\x20successfully','CqKJG','rZIfu','PGOmu','TxRkc','oVcWu','lTDUj','Added\x20Turboscale\x20Agent','message','LbMKo','iaTJS','Added\x20Nginx\x20Roles\x20and\x20Service\x20Accounts','helper.yaml','qYRHk','Added\x20hubdeployment','8970120ZyyvPU','xpMcI','cxXiM','XQaDw','deleteNamespace','metadata','onDio','VtAma','zEaoK','uvydU','MxUMh','Adding\x20Autoscaler\x20Deployment','oFmtl','Adding\x20browser-node-role-binding\x20role\x20binding','Adding\x20Ingress','metricsServerServiceExists','deployer-srvacct-binding-','length','Added\x20browser-node\x20service\x20account','hZBov','tJFGM','statusCode','RdPkM','glpdX','lUQmh','turboscale-agent.yaml','ElKVN','template','Dprxe','LQPQR','habZk','OOrRR','browserstack','XayeN','CQiGV','wEDoh','createAPIService','deleteRoutingDeps','readFileAsync','KVuTi','Added\x20browser-node-role\x20cluster\x20role','wFcQK','MElvE','Adding\x20Cert\x20Manager','iNrOe','lMnsj','hubVersion','VsoMX','jbUsc','Adding\x20Turboscale\x20Agent','readNamespace','vqJaE','FvQrs','DHMnn','service.beta.kubernetes.io/azure-load-balancer-internal:\x20\x22true\x22','IZWDH','svdRf','../config/constants','cert-manager','./utilityMethods','bsCcB','service-account.yaml','VtaLq','10IrJUca','HiBAN','gLaqc','uuid','Added\x20Nginx\x20Pods\x20and\x20deployments','eks.amazonaws.com/role-arn','ajEvS','../config/logger','xekFN','Xvihb','items','nkmkH','dLnSl','Hxmqn','arNCD','deleteClusterRoleBinding','azure.workload.identity/client-id','Adding\x20MetricsServer\x20Components','tquSn','BIbMs','1554704eBhLHe','code','XgQwM','ePwUC','clusterName','uyDLK','TLVow','debug','cert-manager-webhook','eDSLu','otxpC','xTTDb','tInZa','deployment.yaml','ydEBT','525nftMhv','eRtpk','RxpSm','nginx-private','hoasg','eNJpB','clusterissuer.yaml','../utils/webSocketUtils','iizgi','Deleting\x20clusterrolebinding','Added\x20Cert\x20Issuer','wKBtM','templates','cluster-role.yaml','CmoaC','replaceNamespacedDeployment','default-service-account.yaml','vxRRX','Adding\x20Autoscaler\x20namespacedRoleBinding','name','AAsUl','oEZih','zvbIK','sa.yaml','addGridComponents','gridProfileId','PIHzs','clientId','eeWdZ','replicas','uWVzJ','OQbCC','frATG','66552WVRlHs','2|7|4|6|5|3|1|0','BrZZq','aiUNc','createNamespacedServiceAccount','./deleteStack','hSTnU','body','ScOwz','Adding\x20Nginx\x20Private\x20Pods\x20and\x20Services','Added\x20hubservice','xzsmg','vSaNv','IjqNT','hub-service.yaml','WTflm','Deleted\x20Turboscale\x20Agent','XloPJ','pFaMo','getNamespaceUID','Sahfb','Adding\x20Cert\x20Manager\x20CRDs','MbViL','hub-deployment.yaml','vgTru','rllSv','TvyTG','aIDbo','Added\x20Cert\x20Manager\x20CRDs','GptWA','Sekuh','123456','8|15|3|6|1|17|10|7|13|14|11|16|2|5|0|9|4|12|18','createNamespacedRole','CMsdF','ySUcb','Adding\x20Autoscaler\x20Service\x20Account','FMeVb','vpc-cni-cm.yaml','info'];a28_0x2b5d=function(){return _0x5d389d;};return a28_0x2b5d();}function a28_0x21b5(_0x56ebc4,_0x5ab291){const _0x2b5d4d=a28_0x2b5d();return a28_0x21b5=function(_0x21b583,_0x2c46d6){_0x21b583=_0x21b583-0x13d;let _0x4c8e12=_0x2b5d4d[_0x21b583];return _0x4c8e12;},a28_0x21b5(_0x56ebc4,_0x5ab291);}const a28_0x31db1a=a28_0x21b5;(function(_0x546694,_0x2136ba){const _0x20d552=a28_0x21b5,_0x2fea9b=_0x546694();while(!![]){try{const _0x65deed=parseInt(_0x20d552(0x172))/0x1*(parseInt(_0x20d552(0x186))/0x2)+parseInt(_0x20d552(0x190))/0x3*(parseInt(_0x20d552(0x154))/0x4)+parseInt(_0x20d552(0x189))/0x5+parseInt(_0x20d552(0x27c))/0x6*(-parseInt(_0x20d552(0x25b))/0x7)+-parseInt(_0x20d552(0x24c))/0x8+parseInt(_0x20d552(0x1f9))/0x9*(parseInt(_0x20d552(0x238))/0xa)+-parseInt(_0x20d552(0x1d2))/0xb;if(_0x65deed===_0x2136ba)break;else _0x2fea9b['push'](_0x2fea9b['shift']());}catch(_0x48f138){_0x2fea9b['push'](_0x2fea9b['shift']());}}}(a28_0x2b5d,0x7ea27));const fs=require('fs'),yaml=require(a28_0x31db1a(0x164)),path=require(a28_0x31db1a(0x1c3)),{v4:uuidv4}=require(a28_0x31db1a(0x23b)),{logger}=require(a28_0x31db1a(0x23f)),{AG_API_URL,global_registry,CLUSTER_DEP_STACK_NAME,CLUSTER_AUTOSCALER_STACK_NAME,AZURE,GCP,TURBOSCALE_DEPLOYMENT}=require(a28_0x31db1a(0x232)),{deleteClusterStack}=require(a28_0x31db1a(0x281)),{kubeApply,waitForDeployment}=require(a28_0x31db1a(0x234)),{delay}=require(a28_0x31db1a(0x262)),applyTemplate=async(_0x392b8b,_0x4837b8,_0x3a9d95={})=>{const _0x48a30a=a28_0x31db1a,_0x207829={};_0x207829[_0x48a30a(0x182)]=_0x48a30a(0x22f),_0x207829[_0x48a30a(0x20f)]='true',_0x207829[_0x48a30a(0x1c5)]=_0x48a30a(0x267),_0x207829[_0x48a30a(0x1a7)]=_0x48a30a(0x1a0),_0x207829[_0x48a30a(0x141)]=_0x48a30a(0x16e),_0x207829[_0x48a30a(0x284)]=function(_0x2aa800,_0x459e1f){return _0x2aa800!=_0x459e1f;},_0x207829[_0x48a30a(0x1bd)]=function(_0x506742,_0x1f1a02){return _0x506742!==_0x1f1a02;},_0x207829[_0x48a30a(0x181)]=function(_0x58fba0,_0xd5f56b){return _0x58fba0===_0xd5f56b;},_0x207829[_0x48a30a(0x168)]=_0x48a30a(0x24e),_0x207829[_0x48a30a(0x244)]=function(_0x45935d,_0x391991){return _0x45935d!==_0x391991;},_0x207829[_0x48a30a(0x16a)]=_0x48a30a(0x150),_0x207829[_0x48a30a(0x1ec)]=_0x48a30a(0x1cf),_0x207829['PIHzs']=function(_0x3e17f3,_0x3fb819){return _0x3e17f3===_0x3fb819;},_0x207829['KmiWf']=function(_0x561c1,_0x43ddb9){return _0x561c1!==_0x43ddb9;},_0x207829[_0x48a30a(0x21c)]=_0x48a30a(0x276),_0x207829[_0x48a30a(0x15b)]=_0x48a30a(0x159),_0x207829[_0x48a30a(0x1cc)]=function(_0x1ee30a,_0xeed9ad){return _0x1ee30a===_0xeed9ad;},_0x207829[_0x48a30a(0x230)]='hub-deployment.yaml',_0x207829[_0x48a30a(0x15e)]='LQKzL',_0x207829[_0x48a30a(0x263)]='PTovR';const _0x31f160=_0x207829;let _0x5cf274=await fs[_0x48a30a(0x21f)](path[_0x48a30a(0x1d4)](__dirname,'..',_0x31f160[_0x48a30a(0x1c5)],_0x392b8b),_0x31f160[_0x48a30a(0x1a7)]);_0x5cf274=_0x5cf274[_0x48a30a(0x19d)](/<GridNamespace>/g,_0x4837b8),_0x5cf274=_0x5cf274[_0x48a30a(0x19d)](/<BstackURL>/g,AG_API_URL),_0x5cf274=_0x5cf274[_0x48a30a(0x19d)](/<ClusterName>/g,global_registry[_0x48a30a(0x250)]),_0x5cf274=_0x5cf274[_0x48a30a(0x19d)](/<BstackUsername>/g,global_registry['bstackUsername']),_0x5cf274=_0x5cf274[_0x48a30a(0x19d)](/<BstackAccessKey>/g,global_registry[_0x48a30a(0x14b)]),_0x5cf274=_0x5cf274[_0x48a30a(0x19d)](/<GridName>/g,global_registry['gridName']),_0x5cf274=_0x5cf274['replace'](/<Region>/g,global_registry[_0x48a30a(0x1dc)]),_0x5cf274=_0x5cf274[_0x48a30a(0x19d)](/<CloudProvider>/g,global_registry['cloudProvider']),_0x5cf274=_0x5cf274[_0x48a30a(0x19d)](/<HubImageVersion>/g,global_registry[_0x48a30a(0x227)]),_0x5cf274=_0x5cf274[_0x48a30a(0x19d)](/<BrowserImageVersion>/g,global_registry[_0x48a30a(0x1b2)]),_0x5cf274=_0x5cf274[_0x48a30a(0x19d)](/<PrivateGrid>/g,global_registry[_0x48a30a(0x198)]?_0x31f160['RdPkM']:_0x31f160['CMsdF']);if(_0x31f160['ScOwz'](global_registry[_0x48a30a(0x274)],null)&&_0x31f160[_0x48a30a(0x1bd)](global_registry[_0x48a30a(0x274)],undefined)){if(_0x31f160['PlmLR'](_0x31f160[_0x48a30a(0x168)],_0x31f160[_0x48a30a(0x168)]))_0x5cf274=_0x5cf274[_0x48a30a(0x19d)](/<GridProfileID>/g,global_registry['gridProfileId']);else return![];}else _0x31f160[_0x48a30a(0x244)](_0x31f160[_0x48a30a(0x16a)],_0x31f160[_0x48a30a(0x1ec)])?_0x5cf274=_0x5cf274[_0x48a30a(0x19d)](/<GridProfileID>/g,''):_0x3b0c48=_0x31f160[_0x48a30a(0x182)];const _0x248708=yaml[_0x48a30a(0x1a3)](_0x5cf274);if(_0x31f160[_0x48a30a(0x275)](global_registry['cloudProvider'],AZURE)&&_0x31f160[_0x48a30a(0x18f)](_0x3a9d95[_0x31f160[_0x48a30a(0x21c)]],undefined)){if(_0x31f160[_0x48a30a(0x18f)](_0x31f160[_0x48a30a(0x15b)],_0x31f160[_0x48a30a(0x15b)])){const _0x51c0cf={'azure.workload.identity/use':_0x31f160[_0x48a30a(0x20f)],..._0x1b4da9[_0x48a30a(0x1e9)][_0x48a30a(0x214)]['metadata'][_0x48a30a(0x1b7)]};_0x5c6e2f[_0x48a30a(0x1e9)][_0x48a30a(0x214)]['metadata']['labels']=_0x51c0cf;}else{const _0x26746e={};_0x26746e[_0x48a30a(0x248)]=''+_0x3a9d95[_0x48a30a(0x276)],_0x248708[_0x48a30a(0x1fe)]={'annotations':_0x26746e,..._0x248708[_0x48a30a(0x1fe)]};}}return _0x31f160[_0x48a30a(0x1cc)](global_registry[_0x48a30a(0x180)],AZURE)&&_0x31f160[_0x48a30a(0x275)](_0x392b8b,_0x31f160['IZWDH'])&&(_0x31f160['KmiWf'](_0x31f160['toXlZ'],_0x31f160[_0x48a30a(0x263)])?_0x248708[_0x48a30a(0x1e9)][_0x48a30a(0x214)][_0x48a30a(0x1fe)][_0x48a30a(0x1b7)]={'azure.workload.identity/use':_0x31f160[_0x48a30a(0x20f)],..._0x248708[_0x48a30a(0x1e9)]['template'][_0x48a30a(0x1fe)][_0x48a30a(0x1b7)]}:_0x4151d8[_0x48a30a(0x253)](_0x184e7d[_0x48a30a(0x1f2)])),_0x248708;};exports['addAutoScalerComponents']=async(_0x4e1251,_0x3e7dc5,_0x47de3a,_0x2c4f0d,_0x1961ad,_0x817904,_0x32d0b0)=>{const _0x505cab=a28_0x31db1a,_0x31a299={};_0x31a299['eNJpB']=_0x505cab(0x143),_0x31a299[_0x505cab(0x27f)]='templates',_0x31a299['Sekuh']=_0x505cab(0x155),_0x31a299[_0x505cab(0x15a)]=_0x505cab(0x272),_0x31a299[_0x505cab(0x241)]=_0x505cab(0x1a0),_0x31a299['Ufyoz']=_0x505cab(0x23d),_0x31a299[_0x505cab(0x289)]=_0x505cab(0x1b4),_0x31a299['CuclT']=_0x505cab(0x19a),_0x31a299[_0x505cab(0x162)]='clusterrole.yaml',_0x31a299[_0x505cab(0x257)]=_0x505cab(0x194),_0x31a299['OOrRR']='role.yaml',_0x31a299[_0x505cab(0x210)]=_0x505cab(0x17f),_0x31a299['jyOFC']=_0x505cab(0x199),_0x31a299[_0x505cab(0x299)]=_0x505cab(0x26d),_0x31a299['GKogg']=_0x505cab(0x14a),_0x31a299[_0x505cab(0x1c6)]=_0x505cab(0x204),_0x31a299[_0x505cab(0x18a)]='deployment.yaml',_0x31a299[_0x505cab(0x294)]=_0x505cab(0x156);const _0x4d81ec=_0x31a299;let _0x21b251=null,_0x4607aa=null;logger['info'](_0x4d81ec[_0x505cab(0x260)]),_0x4607aa=await fs[_0x505cab(0x21f)](path['join'](__dirname,'..',_0x4d81ec[_0x505cab(0x27f)],_0x4d81ec[_0x505cab(0x13d)],_0x4d81ec[_0x505cab(0x15a)]),_0x4d81ec[_0x505cab(0x241)]),_0x21b251=yaml['load'](_0x4607aa),_0x21b251[_0x505cab(0x1fe)][_0x505cab(0x148)][_0x4d81ec[_0x505cab(0x1ae)]]=_0x32d0b0;const _0x2758d1={};_0x2758d1[_0x505cab(0x187)]=_0x4d81ec['IjqNT'],_0x2758d1[_0x505cab(0x283)]=_0x21b251,await _0x4e1251['createNamespacedServiceAccount'](_0x2758d1),logger[_0x505cab(0x146)](_0x4d81ec['CuclT']),_0x4607aa=await fs[_0x505cab(0x21f)](path[_0x505cab(0x1d4)](__dirname,'..',_0x4d81ec[_0x505cab(0x27f)],_0x4d81ec['Sekuh'],_0x4d81ec[_0x505cab(0x162)]),_0x4d81ec[_0x505cab(0x241)]),_0x21b251=yaml[_0x505cab(0x1a3)](_0x4607aa);const _0x399496={};_0x399496[_0x505cab(0x283)]=_0x21b251,await _0x2c4f0d[_0x505cab(0x17d)](_0x399496),logger[_0x505cab(0x146)](_0x4d81ec[_0x505cab(0x257)]),_0x4607aa=await fs[_0x505cab(0x21f)](path[_0x505cab(0x1d4)](__dirname,'..',_0x4d81ec[_0x505cab(0x27f)],_0x4d81ec[_0x505cab(0x13d)],_0x4d81ec[_0x505cab(0x218)]),_0x4d81ec[_0x505cab(0x241)]),_0x21b251=yaml[_0x505cab(0x1a3)](_0x4607aa);const _0x14c144={};_0x14c144[_0x505cab(0x187)]=_0x4d81ec['IjqNT'],_0x14c144[_0x505cab(0x283)]=_0x21b251,await _0x2c4f0d[_0x505cab(0x140)](_0x14c144),logger['info'](_0x4d81ec[_0x505cab(0x210)]),_0x4607aa=await fs[_0x505cab(0x21f)](path['join'](__dirname,'..',_0x4d81ec[_0x505cab(0x27f)],_0x4d81ec['Sekuh'],_0x4d81ec['jyOFC']),_0x4d81ec[_0x505cab(0x241)]),_0x21b251=yaml[_0x505cab(0x1a3)](_0x4607aa);const _0x5c7f1a={};_0x5c7f1a[_0x505cab(0x283)]=_0x21b251,await _0x2c4f0d['createClusterRoleBinding'](_0x5c7f1a),logger['info'](_0x4d81ec[_0x505cab(0x299)]),_0x4607aa=await fs[_0x505cab(0x21f)](path[_0x505cab(0x1d4)](__dirname,'..',_0x4d81ec[_0x505cab(0x27f)],_0x4d81ec[_0x505cab(0x13d)],_0x4d81ec['GKogg']),_0x4d81ec[_0x505cab(0x241)]),_0x21b251=yaml[_0x505cab(0x1a3)](_0x4607aa);const _0x24c11a={};_0x24c11a[_0x505cab(0x187)]=_0x4d81ec[_0x505cab(0x289)],_0x24c11a[_0x505cab(0x283)]=_0x21b251,await _0x2c4f0d[_0x505cab(0x178)](_0x24c11a),logger['info'](_0x4d81ec[_0x505cab(0x1c6)]),_0x4607aa=await fs[_0x505cab(0x21f)](path['join'](__dirname,'..',_0x4d81ec[_0x505cab(0x27f)],_0x4d81ec[_0x505cab(0x13d)],_0x4d81ec[_0x505cab(0x18a)]),_0x4d81ec[_0x505cab(0x241)]),_0x4607aa=_0x4607aa['replace'](_0x4d81ec[_0x505cab(0x294)],_0x817904),_0x21b251=yaml[_0x505cab(0x1a3)](_0x4607aa);const _0x4b4a5f={};_0x4b4a5f[_0x505cab(0x187)]=_0x4d81ec[_0x505cab(0x289)],_0x4b4a5f[_0x505cab(0x283)]=_0x21b251,await _0x3e7dc5[_0x505cab(0x174)](_0x4b4a5f);},exports[a28_0x31db1a(0x1c7)]=async(_0x287de9,_0x5df262,_0x35a6a2,_0x3bc2dd)=>{const _0x21d897=a28_0x31db1a,_0x2e4bc1={};_0x2e4bc1['svdRf']=_0x21d897(0x1d9),_0x2e4bc1[_0x21d897(0x26f)]='templates',_0x2e4bc1[_0x21d897(0x235)]='metrics-server',_0x2e4bc1[_0x21d897(0x243)]=_0x21d897(0x236),_0x2e4bc1[_0x21d897(0x16c)]=_0x21d897(0x1a0),_0x2e4bc1['vxRRX']=_0x21d897(0x1b4),_0x2e4bc1['BdNYH']=_0x21d897(0x1e4),_0x2e4bc1['qJjlF']='cluster-role-aggregated-reader.yaml',_0x2e4bc1['xsFaZ']=_0x21d897(0x1b5),_0x2e4bc1[_0x21d897(0x149)]=_0x21d897(0x268),_0x2e4bc1[_0x21d897(0x217)]=_0x21d897(0x165),_0x2e4bc1[_0x21d897(0x28d)]=_0x21d897(0x14a),_0x2e4bc1[_0x21d897(0x245)]=_0x21d897(0x17c),_0x2e4bc1[_0x21d897(0x292)]=_0x21d897(0x18d),_0x2e4bc1['nzFEr']='cluster-role-binding.yaml',_0x2e4bc1[_0x21d897(0x17e)]='Adding\x20MetricsServer\x20Service',_0x2e4bc1['GWVWA']=_0x21d897(0x1b0),_0x2e4bc1['yxAbl']=_0x21d897(0x1a6),_0x2e4bc1['tLzUs']=_0x21d897(0x259),_0x2e4bc1['VtaLq']='Adding\x20MetricsServer\x20API\x20Service',_0x2e4bc1['gLaqc']=_0x21d897(0x173);const _0x4dac74=_0x2e4bc1;logger[_0x21d897(0x146)](_0x4dac74[_0x21d897(0x231)]);let _0x2952a8=await fs[_0x21d897(0x21f)](path[_0x21d897(0x1d4)](__dirname,'..',_0x4dac74[_0x21d897(0x26f)],_0x4dac74[_0x21d897(0x235)],_0x4dac74[_0x21d897(0x243)]),_0x4dac74[_0x21d897(0x16c)]),_0x474344=yaml['load'](_0x2952a8);const _0xb3f63={};_0xb3f63[_0x21d897(0x187)]=_0x4dac74[_0x21d897(0x26c)],_0xb3f63['body']=_0x474344,await _0x287de9['createNamespacedServiceAccount'](_0xb3f63),logger[_0x21d897(0x146)](_0x4dac74['BdNYH']),_0x2952a8=await fs['readFileAsync'](path['join'](__dirname,'..',_0x4dac74['AAsUl'],_0x4dac74['bsCcB'],_0x4dac74[_0x21d897(0x1c0)]),_0x4dac74[_0x21d897(0x16c)]),_0x474344=yaml[_0x21d897(0x1a3)](_0x2952a8);const _0x59ce68={};_0x59ce68[_0x21d897(0x283)]=_0x474344,await _0x35a6a2[_0x21d897(0x17d)](_0x59ce68),logger['info'](_0x4dac74['xsFaZ']),_0x2952a8=await fs['readFileAsync'](path[_0x21d897(0x1d4)](__dirname,'..',_0x4dac74[_0x21d897(0x26f)],_0x4dac74[_0x21d897(0x235)],_0x4dac74[_0x21d897(0x149)]),_0x4dac74[_0x21d897(0x16c)]),_0x474344=yaml[_0x21d897(0x1a3)](_0x2952a8);const _0x5540a7={};_0x5540a7[_0x21d897(0x283)]=_0x474344,await _0x35a6a2[_0x21d897(0x17d)](_0x5540a7),logger[_0x21d897(0x146)](_0x4dac74[_0x21d897(0x217)]),_0x2952a8=await fs[_0x21d897(0x21f)](path[_0x21d897(0x1d4)](__dirname,'..',_0x4dac74[_0x21d897(0x26f)],_0x4dac74['bsCcB'],_0x4dac74[_0x21d897(0x28d)]),_0x4dac74[_0x21d897(0x16c)]),_0x474344=yaml[_0x21d897(0x1a3)](_0x2952a8);const _0xac3e5b={};_0xac3e5b[_0x21d897(0x187)]=_0x4dac74[_0x21d897(0x26c)],_0xac3e5b[_0x21d897(0x283)]=_0x474344,await _0x35a6a2[_0x21d897(0x178)](_0xac3e5b),logger[_0x21d897(0x146)](_0x4dac74[_0x21d897(0x245)]),_0x2952a8=await fs[_0x21d897(0x21f)](path[_0x21d897(0x1d4)](__dirname,'..',_0x4dac74[_0x21d897(0x26f)],_0x4dac74[_0x21d897(0x235)],_0x4dac74['MbViL']),_0x4dac74[_0x21d897(0x16c)]),_0x474344=yaml[_0x21d897(0x1a3)](_0x2952a8);const _0xecab67={};_0xecab67[_0x21d897(0x283)]=_0x474344,await _0x35a6a2['createClusterRoleBinding'](_0xecab67),logger['info'](_0x4dac74[_0x21d897(0x245)]),_0x2952a8=await fs[_0x21d897(0x21f)](path[_0x21d897(0x1d4)](__dirname,'..',_0x4dac74[_0x21d897(0x26f)],_0x4dac74[_0x21d897(0x235)],_0x4dac74[_0x21d897(0x171)]),_0x4dac74[_0x21d897(0x16c)]),_0x474344=yaml[_0x21d897(0x1a3)](_0x2952a8);const _0x119ef3={};_0x119ef3[_0x21d897(0x283)]=_0x474344,await _0x35a6a2[_0x21d897(0x147)](_0x119ef3),logger[_0x21d897(0x146)](_0x4dac74[_0x21d897(0x17e)]),_0x2952a8=await fs[_0x21d897(0x21f)](path[_0x21d897(0x1d4)](__dirname,'..',_0x4dac74['AAsUl'],_0x4dac74[_0x21d897(0x235)],_0x4dac74['GWVWA']),_0x4dac74[_0x21d897(0x16c)]),_0x474344=yaml[_0x21d897(0x1a3)](_0x2952a8);const _0x545641={};_0x545641[_0x21d897(0x187)]=_0x4dac74['vxRRX'],_0x545641[_0x21d897(0x283)]=_0x474344,await _0x287de9[_0x21d897(0x14c)](_0x545641),logger['info'](_0x4dac74[_0x21d897(0x1b3)]),_0x2952a8=await fs[_0x21d897(0x21f)](path[_0x21d897(0x1d4)](__dirname,'..',_0x4dac74[_0x21d897(0x26f)],_0x4dac74['bsCcB'],_0x4dac74['tLzUs']),_0x4dac74[_0x21d897(0x16c)]),_0x474344=yaml[_0x21d897(0x1a3)](_0x2952a8);const _0x3fddab={};_0x3fddab[_0x21d897(0x187)]=_0x4dac74[_0x21d897(0x26c)],_0x3fddab[_0x21d897(0x283)]=_0x474344,await _0x5df262['createNamespacedDeployment'](_0x3fddab),logger[_0x21d897(0x146)](_0x4dac74[_0x21d897(0x237)]),_0x2952a8=await fs[_0x21d897(0x21f)](path[_0x21d897(0x1d4)](__dirname,'..',_0x4dac74[_0x21d897(0x26f)],_0x4dac74['bsCcB'],_0x4dac74[_0x21d897(0x23a)]),_0x4dac74[_0x21d897(0x16c)]),_0x474344=yaml[_0x21d897(0x1a3)](_0x2952a8);const _0x58e30f={};_0x58e30f[_0x21d897(0x283)]=_0x474344,await _0x3bc2dd[_0x21d897(0x21d)](_0x58e30f);},exports[a28_0x31db1a(0x208)]=async _0x6c004e=>{const _0x4a7cb4=a28_0x31db1a,_0x54aa6a={};_0x54aa6a[_0x4a7cb4(0x1c1)]=_0x4a7cb4(0x13e),_0x54aa6a[_0x4a7cb4(0x25f)]=function(_0x4741c5,_0x576c3b){return _0x4741c5===_0x576c3b;},_0x54aa6a[_0x4a7cb4(0x15f)]=_0x4a7cb4(0x1b4),_0x54aa6a['bQHJI']=function(_0x5092df,_0x13c57e){return _0x5092df<_0x13c57e;},_0x54aa6a[_0x4a7cb4(0x22e)]=_0x4a7cb4(0x28b),_0x54aa6a[_0x4a7cb4(0x1ca)]='HaexN',_0x54aa6a[_0x4a7cb4(0x195)]=_0x4a7cb4(0x153),_0x54aa6a[_0x4a7cb4(0x1ff)]=function(_0x489919,_0x289fcf){return _0x489919===_0x289fcf;},_0x54aa6a[_0x4a7cb4(0x1e7)]='QKLMh',_0x54aa6a[_0x4a7cb4(0x18b)]=_0x4a7cb4(0x1a5);const _0xeefdf7=_0x54aa6a,_0x165ced={};_0x165ced[_0x4a7cb4(0x187)]=_0xeefdf7[_0x4a7cb4(0x15f)];const _0x375d82=await _0x6c004e['listNamespacedService'](_0x165ced),_0x55207b=_0x375d82?.[_0x4a7cb4(0x242)];for(let _0x5bbd7e=0x0;_0xeefdf7[_0x4a7cb4(0x15c)](_0x5bbd7e,_0x55207b[_0x4a7cb4(0x20a)]);_0x5bbd7e++){if(_0xeefdf7[_0x4a7cb4(0x25f)](_0xeefdf7[_0x4a7cb4(0x22e)],_0xeefdf7['UOZqw']))return _0xeefdf7[_0x4a7cb4(0x1c1)];else{if(_0xeefdf7[_0x4a7cb4(0x25f)](_0x55207b[_0x5bbd7e]['metadata'][_0x4a7cb4(0x26e)],_0xeefdf7['eLzgK'])){if(_0xeefdf7['onDio'](_0xeefdf7[_0x4a7cb4(0x1e7)],_0xeefdf7[_0x4a7cb4(0x18b)])){if(_0xeefdf7['hoasg'](_0x10c9ad[_0x4a7cb4(0x20e)],0x199)||_0xeefdf7[_0x4a7cb4(0x25f)](_0x40d256[_0x4a7cb4(0x24d)],0x199))_0x45d4c5['debug'](_0x348027[_0x4a7cb4(0x1f2)]);else throw _0x597ad5;}else return!![];}}}return![];},exports[a28_0x31db1a(0x1c8)]=async(_0x119c66,_0x568bac)=>{const _0x54a42e=a28_0x31db1a,_0x5cdccd={};_0x5cdccd[_0x54a42e(0x252)]=function(_0x24041b,_0x1923fb){return _0x24041b===_0x1923fb;},_0x5cdccd[_0x54a42e(0x17b)]='knNrR',_0x5cdccd['QEbyF']=function(_0xd83f33,_0x435a46){return _0xd83f33!==_0x435a46;},_0x5cdccd['GPvdi']=_0x54a42e(0x158);const _0x2d40e8=_0x5cdccd;try{if(_0x2d40e8[_0x54a42e(0x252)](_0x2d40e8[_0x54a42e(0x17b)],_0x2d40e8[_0x54a42e(0x17b)])){const _0x39030a={};_0x39030a[_0x54a42e(0x26e)]=_0x568bac;const _0x3fd4f9=await _0x119c66['readNamespace'](_0x39030a);return!![];}else _0x1948ce=_0x36c1a6['replace'](/<GridProfileID>/g,_0x3447d9[_0x54a42e(0x274)]);}catch(_0x4dd9e6){return _0x2d40e8['QEbyF'](_0x2d40e8[_0x54a42e(0x16f)],_0x2d40e8['GPvdi'])?!![]:![];}},exports[a28_0x31db1a(0x28f)]=async(_0x7acbfa,_0x3916ff)=>{const _0x3cec1c=a28_0x31db1a,_0x326de2={};_0x326de2[_0x3cec1c(0x176)]=function(_0x150f19,_0x1038e9){return _0x150f19===_0x1038e9;},_0x326de2['iaTJS']=_0x3cec1c(0x153),_0x326de2[_0x3cec1c(0x192)]=function(_0x34f6e1,_0x5e8e70){return _0x34f6e1!==_0x5e8e70;},_0x326de2[_0x3cec1c(0x1ba)]='zcJQl',_0x326de2['KKfwB']=_0x3cec1c(0x27e),_0x326de2[_0x3cec1c(0x1fc)]='jwIUy',_0x326de2[_0x3cec1c(0x1bc)]=_0x3cec1c(0x13e);const _0x30dc50=_0x326de2;try{if(_0x30dc50['nrPUO'](_0x30dc50[_0x3cec1c(0x1ba)],_0x30dc50['KKfwB'])){const _0x5607c5={};_0x5607c5['name']=_0x3916ff;const _0x5743bd=await _0x7acbfa[_0x3cec1c(0x22b)](_0x5607c5),_0x1c7989=_0x5743bd?.[_0x3cec1c(0x1fe)]?.[_0x3cec1c(0x1be)];return _0x1c7989;}else{if(_0x30dc50[_0x3cec1c(0x176)](_0xacf3fa[_0x8c8b8d][_0x3cec1c(0x1fe)][_0x3cec1c(0x26e)],_0x30dc50[_0x3cec1c(0x1f4)]))return!![];}}catch(_0x34ff61){if(_0x30dc50[_0x3cec1c(0x176)](_0x30dc50[_0x3cec1c(0x1fc)],_0x30dc50[_0x3cec1c(0x1fc)]))return _0x30dc50[_0x3cec1c(0x1bc)];else _0xee59b1=_0xf5b53e[_0x3cec1c(0x19d)](/<GridProfileID>/g,'');}},exports[a28_0x31db1a(0x273)]=async(_0x5d5997,_0x3b6211,_0x272ce,_0x541bbd,_0x55f9f7,_0x5a6b32,_0x340b67,_0x44ffa5,_0x2ab5d6,_0x388a1d={},_0x479d93)=>{const _0x2e94d2=a28_0x31db1a,_0x1bbcd4={'ePwUC':'service.beta.kubernetes.io/aws-load-balancer-internal:\x20\x22true\x22','lcePz':_0x2e94d2(0x191),'wEmFZ':'Adding\x20clusterrolebinding','sCyje':function(_0x400280,_0x36f886,_0x59b24b){return _0x400280(_0x36f886,_0x59b24b);},'PBunu':_0x2e94d2(0x199),'XyMsL':'Added\x20clusterrolebinding','glfhJ':function(_0x33beaa,_0x593f77){return _0x33beaa!=_0x593f77;},'cHFSx':function(_0x24726a,_0x5092ae){return _0x24726a!==_0x5092ae;},'ElKVN':function(_0x118914,_0x4daca5){return _0x118914===_0x4daca5;},'hSTnU':_0x2e94d2(0x21a),'xekFN':_0x2e94d2(0x1a9),'HiBAN':_0x2e94d2(0x1e1),'UoJKF':_0x2e94d2(0x1c9),'ECLOs':_0x2e94d2(0x14e),'ZSoEO':_0x2e94d2(0x249),'xzsmg':_0x2e94d2(0x1da),'oFmtl':_0x2e94d2(0x152),'iuYzg':'Adding\x20browser-node\x20service\x20account','MxUMh':function(_0x37bae9,_0x427617,_0x2ad38d,_0x1e7a2b){return _0x37bae9(_0x427617,_0x2ad38d,_0x1e7a2b);},'VIqoD':_0x2e94d2(0x161),'CqKJG':_0x2e94d2(0x20b),'wbFHZ':function(_0x438ec1,_0xe5a034){return _0x438ec1!==_0xe5a034;},'frATG':'TBbNV','xqHxB':_0x2e94d2(0x1dd),'GyDsP':function(_0x29cb51,_0x4ec38d,_0x595df2,_0x227494){return _0x29cb51(_0x4ec38d,_0x595df2,_0x227494);},'HXQie':_0x2e94d2(0x26b),'PGOmu':_0x2e94d2(0x163),'tJFGM':'Added\x20default\x20service\x20account','KfJzm':'Adding\x20browser-node-role\x20cluster\x20role','lMnsj':_0x2e94d2(0x1bf),'QMwRn':_0x2e94d2(0x221),'RxpSm':_0x2e94d2(0x206),'FvQrs':_0x2e94d2(0x15d),'bZGhi':_0x2e94d2(0x19f),'CmoaC':'ingress-nginx','pFaMo':'6|0|2|3|5|9|7|4|1|8','zvbIK':_0x2e94d2(0x267),'VtAma':_0x2e94d2(0x151),'qLJCF':_0x2e94d2(0x1f6),'XYrsd':_0x2e94d2(0x1a0),'eDSLu':function(_0x212aec,_0x477bb2,_0x3dcb27){return _0x212aec(_0x477bb2,_0x3dcb27);},'vqJaE':_0x2e94d2(0x1f5),'tMOLj':_0x2e94d2(0x1a4),'qsYgk':_0x2e94d2(0x1ab),'lTDUj':_0x2e94d2(0x23c),'wFcQK':_0x2e94d2(0x196),'oBEhx':_0x2e94d2(0x285),'HAzxt':'service.beta.kubernetes.io/azure-load-balancer-internal:\x20\x22true\x22','LQPQR':_0x2e94d2(0x1aa),'cHtRj':_0x2e94d2(0x1e6),'iNrOe':_0x2e94d2(0x1ad),'cxXiM':_0x2e94d2(0x1ac),'OQbCC':_0x2e94d2(0x145),'cYgGC':_0x2e94d2(0x167),'zEaoK':_0x2e94d2(0x233),'ztvnP':_0x2e94d2(0x13f),'otxpC':_0x2e94d2(0x14f),'wKBtM':_0x2e94d2(0x298),'VsoMX':function(_0x43578c,_0x1ca703,_0x185f35,_0x55e86e,_0x45849b){return _0x43578c(_0x1ca703,_0x185f35,_0x55e86e,_0x45849b);},'vSaNv':_0x2e94d2(0x254),'hyBsC':function(_0x39b5ce,_0x3ea99f,_0x4e33df){return _0x39b5ce(_0x3ea99f,_0x4e33df);},'bFrfB':_0x2e94d2(0x291),'lUQmh':_0x2e94d2(0x261),'mUZvx':_0x2e94d2(0x1e3),'xjAFR':'Waiting\x20for\x20Cert\x20Manager\x20Deployments','KVuTi':_0x2e94d2(0x197),'HYVRq':'crds.yaml','cQhmN':function(_0xf905e6,_0x52081a,_0x475d01,_0x476b80,_0x96fcaf){return _0xf905e6(_0x52081a,_0x475d01,_0x476b80,_0x96fcaf);},'Sahfb':'cert-manager-cainjector','RjNji':_0x2e94d2(0x224),'uyDLK':_0x2e94d2(0x265),'SVXKt':_0x2e94d2(0x219),'ZoUGG':_0x2e94d2(0x27d),'TvyTG':_0x2e94d2(0x1f1),'jbUsc':function(_0x48ae5c,_0x20a944,_0x3d774f){return _0x48ae5c(_0x20a944,_0x3d774f);},'eeWdZ':_0x2e94d2(0x22a),'LTsbh':_0x2e94d2(0x212),'oVcWu':'Adding\x20hubservice','aIDbo':_0x2e94d2(0x28a),'BIbMs':_0x2e94d2(0x286),'tquSn':'Adding\x20hubdeployment','rllSv':_0x2e94d2(0x293),'DNRBK':_0x2e94d2(0x1f8),'iKXBk':_0x2e94d2(0x207),'PVlys':function(_0x46e314,_0xfed468,_0x42156a,_0x5e9e12,_0x4515c8){return _0x46e314(_0xfed468,_0x42156a,_0x5e9e12,_0x4515c8);},'DQZtA':'ingress-nginx-controller','qYRHk':function(_0x2f6b03,_0x2ed118,_0x4c8f7e,_0x2eac6c,_0x56c228){return _0x2f6b03(_0x2ed118,_0x4c8f7e,_0x2eac6c,_0x56c228);},'xxmwp':_0x2e94d2(0x1e0),'eUCVv':_0x2e94d2(0x1af),'LbMKo':_0x2e94d2(0x25e),'EoXxu':function(_0x3d9e36,_0x5df26c,_0x3fd3c4){return _0x3d9e36(_0x5df26c,_0x3fd3c4);},'uWVzJ':_0x2e94d2(0x1d8),'IYwkg':function(_0x20e1c9,_0x186d1e){return _0x20e1c9(_0x186d1e);}};let _0x36e98a=null,_0x451cc9=null;logger['info'](_0x1bbcd4['wEmFZ']),_0x36e98a=await _0x1bbcd4[_0x2e94d2(0x14d)](applyTemplate,_0x1bbcd4[_0x2e94d2(0x1d5)],_0x55f9f7);const _0x54610b={};_0x54610b[_0x2e94d2(0x283)]=_0x36e98a,await _0x541bbd['createClusterRoleBinding'](_0x54610b),logger[_0x2e94d2(0x146)](_0x1bbcd4['XyMsL']);_0x1bbcd4['glfhJ'](_0x340b67,null)&&_0x1bbcd4[_0x2e94d2(0x1a8)](_0x340b67,undefined)&&(_0x1bbcd4[_0x2e94d2(0x213)](_0x1bbcd4[_0x2e94d2(0x282)],_0x1bbcd4[_0x2e94d2(0x282)])?(logger[_0x2e94d2(0x146)](_0x1bbcd4[_0x2e94d2(0x240)]),await this['addAutoScalerComponents'](_0x5d5997,_0x3b6211,_0x272ce,_0x541bbd,_0x55f9f7,_0x5a6b32,_0x340b67),logger[_0x2e94d2(0x146)](_0x1bbcd4[_0x2e94d2(0x239)])):_0x1da107=_0x1bbcd4['ePwUC']);const _0x1c3af6=await this[_0x2e94d2(0x208)](_0x5d5997);if(!_0x1c3af6){if(_0x1bbcd4[_0x2e94d2(0x213)](_0x1bbcd4[_0x2e94d2(0x1a2)],_0x1bbcd4[_0x2e94d2(0x1db)])){const _0x27c4a3={};_0x27c4a3[_0x2e94d2(0x248)]=''+_0x5775a8['clientId'];const _0x437d67={'annotations':_0x27c4a3,..._0x5db032['metadata']};_0x2f8faf[_0x2e94d2(0x1fe)]=_0x437d67;}else logger[_0x2e94d2(0x146)](_0x1bbcd4[_0x2e94d2(0x1e8)]),await this[_0x2e94d2(0x1c7)](_0x5d5997,_0x3b6211,_0x541bbd,_0x44ffa5),logger['info'](_0x1bbcd4[_0x2e94d2(0x287)]);}try{if(_0x1bbcd4[_0x2e94d2(0x1a8)](_0x1bbcd4[_0x2e94d2(0x205)],_0x1bbcd4[_0x2e94d2(0x205)]))_0x599edf=_0x1bbcd4[_0x2e94d2(0x185)];else{logger['info'](_0x1bbcd4[_0x2e94d2(0x16b)]),_0x36e98a=await _0x1bbcd4[_0x2e94d2(0x203)](applyTemplate,_0x1bbcd4[_0x2e94d2(0x193)],_0x55f9f7,_0x388a1d);const _0x360d2a={};_0x360d2a[_0x2e94d2(0x187)]=_0x55f9f7,_0x360d2a[_0x2e94d2(0x283)]=_0x36e98a,await _0x5d5997[_0x2e94d2(0x280)](_0x360d2a),logger[_0x2e94d2(0x146)](_0x1bbcd4[_0x2e94d2(0x1eb)]);if(_0x1bbcd4[_0x2e94d2(0x213)](global_registry[_0x2e94d2(0x180)],AZURE)){if(_0x1bbcd4[_0x2e94d2(0x19e)](_0x1bbcd4['frATG'],_0x1bbcd4[_0x2e94d2(0x27b)]))throw _0x16cc62;else{logger[_0x2e94d2(0x146)](_0x1bbcd4[_0x2e94d2(0x1ce)]),_0x36e98a=await _0x1bbcd4['GyDsP'](applyTemplate,_0x1bbcd4['HXQie'],_0x55f9f7,_0x388a1d);const _0x3ae2da={};_0x3ae2da[_0x2e94d2(0x26e)]=_0x1bbcd4[_0x2e94d2(0x1ed)],_0x3ae2da[_0x2e94d2(0x187)]=_0x55f9f7,_0x3ae2da[_0x2e94d2(0x283)]=_0x36e98a,await _0x5d5997['replaceNamespacedServiceAccount'](_0x3ae2da),logger['info'](_0x1bbcd4[_0x2e94d2(0x20d)]);}}logger[_0x2e94d2(0x146)](_0x1bbcd4[_0x2e94d2(0x160)]),_0x36e98a=await _0x1bbcd4['sCyje'](applyTemplate,_0x1bbcd4[_0x2e94d2(0x226)],_0x55f9f7);const _0x5a778c={};_0x5a778c[_0x2e94d2(0x283)]=_0x36e98a,await _0x541bbd[_0x2e94d2(0x17d)](_0x5a778c),logger[_0x2e94d2(0x146)](_0x1bbcd4['QMwRn']),logger[_0x2e94d2(0x146)](_0x1bbcd4[_0x2e94d2(0x25d)]),_0x36e98a=await _0x1bbcd4[_0x2e94d2(0x14d)](applyTemplate,_0x1bbcd4[_0x2e94d2(0x22d)],_0x55f9f7);const _0x1dcb2a={};_0x1dcb2a['body']=_0x36e98a,await _0x541bbd[_0x2e94d2(0x147)](_0x1dcb2a),logger[_0x2e94d2(0x146)](_0x1bbcd4[_0x2e94d2(0x169)]);}}catch(_0x5d0165){if(_0x1bbcd4['ElKVN'](_0x5d0165['statusCode'],0x199)||_0x1bbcd4[_0x2e94d2(0x213)](_0x5d0165[_0x2e94d2(0x24d)],0x199))logger[_0x2e94d2(0x253)](_0x5d0165[_0x2e94d2(0x1f2)]);else throw _0x5d0165;}const _0x577156=await this[_0x2e94d2(0x1c8)](_0x5d5997,_0x1bbcd4['CmoaC']);if(!_0x577156){const _0xa29cb7=_0x1bbcd4[_0x2e94d2(0x28e)][_0x2e94d2(0x19c)]('|');let _0x257a59=0x0;while(!![]){switch(_0xa29cb7[_0x257a59++]){case'0':_0x451cc9=await fs[_0x2e94d2(0x21f)](path[_0x2e94d2(0x1d4)](__dirname,'..',_0x1bbcd4['zvbIK'],_0x1bbcd4[_0x2e94d2(0x200)],_0x1bbcd4[_0x2e94d2(0x1c4)]),_0x1bbcd4[_0x2e94d2(0x1cb)]);continue;case'1':await _0x1bbcd4['eDSLu'](kubeApply,_0x36e98a,_0x2ab5d6);continue;case'2':_0x36e98a=yaml[_0x2e94d2(0x1e5)](_0x451cc9);continue;case'3':await _0x1bbcd4[_0x2e94d2(0x255)](kubeApply,_0x36e98a,_0x2ab5d6);continue;case'4':_0x36e98a=yaml[_0x2e94d2(0x1e5)](_0x451cc9);continue;case'5':logger[_0x2e94d2(0x146)](_0x1bbcd4[_0x2e94d2(0x22c)]);continue;case'6':logger[_0x2e94d2(0x146)](_0x1bbcd4[_0x2e94d2(0x184)]);continue;case'7':_0x451cc9=await fs[_0x2e94d2(0x21f)](path[_0x2e94d2(0x1d4)](__dirname,'..',_0x1bbcd4[_0x2e94d2(0x271)],_0x1bbcd4['VtAma'],_0x1bbcd4['qsYgk']),_0x1bbcd4['XYrsd']);continue;case'8':logger[_0x2e94d2(0x146)](_0x1bbcd4[_0x2e94d2(0x1f0)]);continue;case'9':logger[_0x2e94d2(0x146)](_0x1bbcd4[_0x2e94d2(0x222)]);continue;}break;}}if(global_registry[_0x2e94d2(0x198)]){logger[_0x2e94d2(0x146)](_0x1bbcd4['oBEhx']);let _0x18cb88;if(_0x1bbcd4['ElKVN'](global_registry['cloudProvider'],AZURE))_0x18cb88=_0x1bbcd4['HAzxt'];else _0x1bbcd4[_0x2e94d2(0x213)](global_registry[_0x2e94d2(0x180)],GCP)?_0x18cb88=_0x1bbcd4['lcePz']:_0x18cb88=_0x1bbcd4[_0x2e94d2(0x24f)];_0x451cc9=await fs['readFileAsync'](path[_0x2e94d2(0x1d4)](__dirname,'..',_0x1bbcd4[_0x2e94d2(0x271)],_0x1bbcd4[_0x2e94d2(0x200)],_0x1bbcd4[_0x2e94d2(0x216)]),_0x1bbcd4[_0x2e94d2(0x1cb)]),_0x451cc9=_0x451cc9[_0x2e94d2(0x19d)](/<InternalLoadBalancerAnnotations>/g,_0x18cb88),_0x36e98a=yaml['loadAll'](_0x451cc9),await _0x1bbcd4['sCyje'](kubeApply,_0x36e98a,_0x2ab5d6),logger[_0x2e94d2(0x146)](_0x1bbcd4['cHtRj']);}if(global_registry[_0x2e94d2(0x18c)]){const _0x349840=_0x1bbcd4[_0x2e94d2(0x225)][_0x2e94d2(0x19c)]('|');let _0x1bb9bf=0x0;while(!![]){switch(_0x349840[_0x1bb9bf++]){case'0':logger[_0x2e94d2(0x146)](_0x1bbcd4[_0x2e94d2(0x1fb)]);continue;case'1':_0x36e98a=yaml[_0x2e94d2(0x1e5)](_0x451cc9);continue;case'2':await _0x1bbcd4[_0x2e94d2(0x14d)](kubeApply,_0x36e98a,_0x2ab5d6);continue;case'3':_0x451cc9=await fs[_0x2e94d2(0x21f)](path[_0x2e94d2(0x1d4)](__dirname,'..',_0x1bbcd4[_0x2e94d2(0x271)],_0x1bbcd4[_0x2e94d2(0x27a)]),_0x1bbcd4['XYrsd']);continue;case'4':logger[_0x2e94d2(0x146)](_0x1bbcd4['cYgGC']);continue;}break;}}const _0x424fc3=await this[_0x2e94d2(0x1c8)](_0x5d5997,_0x1bbcd4[_0x2e94d2(0x201)]);if(!_0x424fc3){const _0x471255=_0x1bbcd4[_0x2e94d2(0x179)][_0x2e94d2(0x19c)]('|');let _0x457063=0x0;while(!![]){switch(_0x471255[_0x457063++]){case'0':logger[_0x2e94d2(0x146)](_0x1bbcd4[_0x2e94d2(0x256)]);continue;case'1':logger[_0x2e94d2(0x146)](_0x1bbcd4[_0x2e94d2(0x266)]);continue;case'2':await _0x1bbcd4[_0x2e94d2(0x228)](waitForDeployment,_0x3b6211,_0x1bbcd4['zEaoK'],_0x1bbcd4[_0x2e94d2(0x288)],0x7530);continue;case'3':_0x36e98a=yaml['loadAll'](_0x451cc9);continue;case'4':_0x36e98a=yaml['loadAll'](_0x451cc9);continue;case'5':await _0x1bbcd4[_0x2e94d2(0x228)](waitForDeployment,_0x3b6211,_0x1bbcd4[_0x2e94d2(0x201)],_0x1bbcd4['zEaoK'],0x7530);continue;case'6':await _0x1bbcd4['hyBsC'](kubeApply,_0x36e98a,_0x2ab5d6);continue;case'7':_0x36e98a=yaml[_0x2e94d2(0x1e5)](_0x451cc9);continue;case'8':logger['info'](_0x1bbcd4[_0x2e94d2(0x18e)]);continue;case'9':_0x451cc9=await fs[_0x2e94d2(0x21f)](path['join'](__dirname,'..',_0x1bbcd4[_0x2e94d2(0x271)],_0x1bbcd4[_0x2e94d2(0x201)],_0x1bbcd4[_0x2e94d2(0x211)]),_0x1bbcd4[_0x2e94d2(0x1cb)]);continue;case'10':_0x451cc9=await fs[_0x2e94d2(0x21f)](path['join'](__dirname,'..',_0x1bbcd4[_0x2e94d2(0x271)],_0x1bbcd4[_0x2e94d2(0x201)],_0x1bbcd4[_0x2e94d2(0x183)]),_0x1bbcd4[_0x2e94d2(0x1cb)]);continue;case'11':logger[_0x2e94d2(0x146)](_0x1bbcd4[_0x2e94d2(0x1d0)]);continue;case'12':await _0x1bbcd4[_0x2e94d2(0x255)](kubeApply,_0x36e98a,_0x2ab5d6);continue;case'13':await _0x1bbcd4[_0x2e94d2(0x1b6)](kubeApply,_0x36e98a,_0x2ab5d6);continue;case'14':logger[_0x2e94d2(0x146)](_0x1bbcd4[_0x2e94d2(0x220)]);continue;case'15':_0x451cc9=await fs[_0x2e94d2(0x21f)](path['join'](__dirname,'..',_0x1bbcd4[_0x2e94d2(0x271)],_0x1bbcd4[_0x2e94d2(0x201)],_0x1bbcd4[_0x2e94d2(0x1b9)]),_0x1bbcd4[_0x2e94d2(0x1cb)]);continue;case'16':await _0x1bbcd4['cQhmN'](waitForDeployment,_0x3b6211,_0x1bbcd4[_0x2e94d2(0x201)],_0x1bbcd4[_0x2e94d2(0x290)],0x7530);continue;case'17':logger[_0x2e94d2(0x146)](_0x1bbcd4['RjNji']);continue;case'18':logger[_0x2e94d2(0x146)](_0x1bbcd4[_0x2e94d2(0x251)]);continue;}break;}}const _0x3bb23f=await this[_0x2e94d2(0x1c8)](_0x5d5997,_0x1bbcd4['SVXKt']);if(!_0x3bb23f){const _0x141b18=_0x1bbcd4['ZoUGG'][_0x2e94d2(0x19c)]('|');let _0x590011=0x0;while(!![]){switch(_0x141b18[_0x590011++]){case'0':logger[_0x2e94d2(0x146)](_0x1bbcd4[_0x2e94d2(0x296)]);continue;case'1':await _0x1bbcd4[_0x2e94d2(0x229)](kubeApply,_0x36e98a,_0x2ab5d6);continue;case'2':logger[_0x2e94d2(0x146)](_0x1bbcd4[_0x2e94d2(0x277)]);continue;case'3':_0x36e98a=yaml['loadAll'](_0x451cc9);continue;case'4':_0x451cc9=_0x451cc9[_0x2e94d2(0x19d)](/<BstackUsername>/g,global_registry[_0x2e94d2(0x1b1)]);continue;case'5':_0x451cc9=_0x451cc9[_0x2e94d2(0x19d)](/<BstackURL>/g,AG_API_URL);continue;case'6':_0x451cc9=_0x451cc9[_0x2e94d2(0x19d)](/<BstackAccessKey>/g,global_registry[_0x2e94d2(0x14b)]);continue;case'7':_0x451cc9=await fs['readFileAsync'](path['join'](__dirname,'..',_0x1bbcd4['zvbIK'],_0x1bbcd4['LTsbh']),_0x1bbcd4[_0x2e94d2(0x1cb)]);continue;}break;}}logger[_0x2e94d2(0x146)](_0x1bbcd4[_0x2e94d2(0x1ef)]),_0x36e98a=await _0x1bbcd4['sCyje'](applyTemplate,_0x1bbcd4[_0x2e94d2(0x297)],_0x55f9f7);const _0x36e0fe={};_0x36e0fe[_0x2e94d2(0x187)]=_0x55f9f7,_0x36e0fe[_0x2e94d2(0x283)]=_0x36e98a,await _0x5d5997[_0x2e94d2(0x14c)](_0x36e0fe),logger[_0x2e94d2(0x146)](_0x1bbcd4[_0x2e94d2(0x24b)]),logger[_0x2e94d2(0x146)](_0x1bbcd4[_0x2e94d2(0x24a)]),_0x36e98a=await _0x1bbcd4['jbUsc'](applyTemplate,_0x1bbcd4[_0x2e94d2(0x295)],_0x55f9f7);const _0x1dcd14={};_0x1dcd14[_0x2e94d2(0x187)]=_0x55f9f7,_0x1dcd14[_0x2e94d2(0x283)]=_0x36e98a,await _0x3b6211['createNamespacedDeployment'](_0x1dcd14),logger[_0x2e94d2(0x146)](_0x1bbcd4[_0x2e94d2(0x170)]),logger[_0x2e94d2(0x146)](_0x1bbcd4[_0x2e94d2(0x1d1)]),await _0x1bbcd4['PVlys'](waitForDeployment,_0x3b6211,_0x1bbcd4['CmoaC'],_0x1bbcd4['DQZtA'],0xea60);global_registry[_0x2e94d2(0x198)]&&await _0x1bbcd4[_0x2e94d2(0x1f7)](waitForDeployment,_0x3b6211,_0x1bbcd4[_0x2e94d2(0x269)],_0x1bbcd4['xxmwp'],0xea60);_0x451cc9=await fs[_0x2e94d2(0x21f)](path['join'](__dirname,'..',_0x1bbcd4[_0x2e94d2(0x271)],_0x1bbcd4['eUCVv']),_0x1bbcd4[_0x2e94d2(0x1cb)]);const _0xbdd72=global_registry[_0x2e94d2(0x198)]?_0x1bbcd4[_0x2e94d2(0x1f3)]:_0x1bbcd4[_0x2e94d2(0x200)];_0x451cc9=_0x451cc9[_0x2e94d2(0x19d)](/<GridNamespace>/g,_0x55f9f7),_0x451cc9=_0x451cc9[_0x2e94d2(0x19d)](/<NginxIngressClass>/g,_0xbdd72),_0x36e98a=yaml[_0x2e94d2(0x1e5)](_0x451cc9),await _0x1bbcd4[_0x2e94d2(0x1c2)](kubeApply,_0x36e98a,_0x2ab5d6),logger[_0x2e94d2(0x146)](_0x1bbcd4[_0x2e94d2(0x279)]),await _0x1bbcd4[_0x2e94d2(0x17a)](delay,0x1388);},exports['removeGridComponents']=async(_0x458e19,_0x198e62,_0x468eb,_0x49dde2,_0x2f0b72)=>{const _0x5def2d=a28_0x31db1a,_0x16a354={'rnpAJ':'5|3|4|0|6|2|1','nbvkp':function(_0x2357c1,_0x320b54){return _0x2357c1(_0x320b54);},'TxRkc':_0x5def2d(0x157),'CQZAx':_0x5def2d(0x1cd),'FMeVb':_0x5def2d(0x175),'SDYgM':_0x5def2d(0x264)},_0x37385f=_0x16a354['rnpAJ'][_0x5def2d(0x19c)]('|');let _0x40b6ad=0x0;while(!![]){switch(_0x37385f[_0x40b6ad++]){case'0':await _0x16a354['nbvkp'](delay,0x2710);continue;case'1':logger[_0x5def2d(0x146)](_0x16a354[_0x5def2d(0x1ee)]);continue;case'2':const _0x48c398={};_0x48c398[_0x5def2d(0x26e)]=_0x5def2d(0x209)+_0x2f0b72,await _0x49dde2[_0x5def2d(0x247)](_0x48c398);continue;case'3':const _0x2d0ae2={};_0x2d0ae2[_0x5def2d(0x26e)]=_0x2f0b72,await _0x458e19['deleteNamespace'](_0x2d0ae2);continue;case'4':logger[_0x5def2d(0x146)](_0x16a354[_0x5def2d(0x1bb)]);continue;case'5':logger[_0x5def2d(0x146)](_0x16a354[_0x5def2d(0x144)]);continue;case'6':logger[_0x5def2d(0x146)](_0x16a354['SDYgM']);continue;}break;}},exports['deleteAgent']=async _0x5346d0=>{const _0x4cf0b7=a28_0x31db1a,_0x1fb0ed={};_0x1fb0ed['hZBov']=_0x4cf0b7(0x219),_0x1fb0ed[_0x4cf0b7(0x25a)]=_0x4cf0b7(0x166),_0x1fb0ed['QAYvO']=_0x4cf0b7(0x28c);const _0x1fd177=_0x1fb0ed,_0x5ad702=await this[_0x4cf0b7(0x1c8)](_0x5346d0,_0x1fd177[_0x4cf0b7(0x20c)]);if(_0x5ad702){logger['info'](_0x1fd177[_0x4cf0b7(0x25a)]);const _0x44a6ed={};_0x44a6ed[_0x4cf0b7(0x26e)]=_0x1fd177[_0x4cf0b7(0x20c)],await _0x5346d0[_0x4cf0b7(0x1fd)](_0x44a6ed),logger[_0x4cf0b7(0x146)](_0x1fd177[_0x4cf0b7(0x188)]);}},exports[a28_0x31db1a(0x21e)]=async _0x1e5224=>{const _0x241f85=a28_0x31db1a,_0x27966e={'CQiGV':_0x241f85(0x1a1),'FJoeE':'Deleting\x20ingress-nginx','ajEvS':_0x241f85(0x1e2),'Dprxe':function(_0x4b4848,_0x3ca444){return _0x4b4848(_0x3ca444);},'jyxEX':'cert-manager','tInZa':'Deleting\x20cert-manager','arNCD':_0x241f85(0x177),'ySUcb':function(_0x3ec546,_0x4f8356){return _0x3ec546(_0x4f8356);}},_0x179fc1=await this[_0x241f85(0x1c8)](_0x1e5224,_0x27966e[_0x241f85(0x21b)]);if(_0x179fc1){logger[_0x241f85(0x146)](_0x27966e['FJoeE']);const _0xfe3bfd={};_0xfe3bfd[_0x241f85(0x26e)]=_0x27966e[_0x241f85(0x21b)],await _0x1e5224[_0x241f85(0x1fd)](_0xfe3bfd),logger[_0x241f85(0x146)](_0x27966e[_0x241f85(0x23e)]);}await _0x27966e[_0x241f85(0x215)](delay,0x124f8);const _0x5f4a19=await this[_0x241f85(0x1c8)](_0x1e5224,_0x27966e['jyxEX']);if(_0x5f4a19){logger[_0x241f85(0x146)](_0x27966e[_0x241f85(0x258)]);const _0x2c3397={};_0x2c3397[_0x241f85(0x26e)]=_0x27966e['jyxEX'],await _0x1e5224[_0x241f85(0x1fd)](_0x2c3397),logger[_0x241f85(0x146)](_0x27966e[_0x241f85(0x246)]);}await _0x27966e[_0x241f85(0x142)](delay,0xafc8);},exports[a28_0x31db1a(0x1df)]=async(_0x39a67c,_0x16ba60)=>{const _0x4ddb7c=a28_0x31db1a,_0x5124bc={'xpMcI':function(_0xbac3d6,_0x26e118){return _0xbac3d6(_0x26e118);},'oEZih':_0x4ddb7c(0x1ea)};logger['info'](_0x4ddb7c(0x16d)+CLUSTER_DEP_STACK_NAME+'-'+_0x16ba60+'\x20&\x20'+CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x16ba60+'\x20cloudformation\x20stacks\x20from\x20region\x20'+_0x39a67c),await Promise[_0x4ddb7c(0x1d3)]([_0x5124bc['xpMcI'](deleteClusterStack,CLUSTER_DEP_STACK_NAME+'-'+_0x16ba60),_0x5124bc[_0x4ddb7c(0x1fa)](deleteClusterStack,CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x16ba60)]),logger[_0x4ddb7c(0x146)](_0x5124bc[_0x4ddb7c(0x270)]);},exports[a28_0x31db1a(0x1d6)]=async(_0x175717,_0x5222c9)=>{const _0x209d65=a28_0x31db1a,_0x1ae256={};_0x1ae256[_0x209d65(0x1de)]='Scaling\x20up\x20deployment',_0x1ae256[_0x209d65(0x202)]=_0x209d65(0x1b8);const _0x5d1856=_0x1ae256;logger['info'](_0x5d1856['NmMNS']);const _0x67637b={};_0x67637b[_0x209d65(0x26e)]=TURBOSCALE_DEPLOYMENT,_0x67637b[_0x209d65(0x187)]=_0x5222c9;const _0x14a08a=await _0x175717['readNamespacedDeployment'](_0x67637b);_0x14a08a[_0x209d65(0x1e9)]['replicas']=0x1;const _0x2a205b={};_0x2a205b[_0x209d65(0x26e)]=TURBOSCALE_DEPLOYMENT,_0x2a205b[_0x209d65(0x187)]=_0x5222c9,_0x2a205b[_0x209d65(0x283)]=_0x14a08a,await _0x175717[_0x209d65(0x26a)](_0x2a205b),logger[_0x209d65(0x146)](_0x5d1856[_0x209d65(0x202)]);},exports['scaleDownHubDeployment']=async(_0x4d3746,_0x3ef2d4)=>{const _0xdd288e=a28_0x31db1a,_0x4bc6b1={};_0x4bc6b1[_0xdd288e(0x25c)]='Scaling\x20down\x20deployment',_0x4bc6b1[_0xdd288e(0x223)]=_0xdd288e(0x1d7);const _0x57473e=_0x4bc6b1;logger['info'](_0x57473e[_0xdd288e(0x25c)]);const _0x5620c5={};_0x5620c5[_0xdd288e(0x26e)]=TURBOSCALE_DEPLOYMENT,_0x5620c5[_0xdd288e(0x187)]=_0x3ef2d4;const _0x5cac14=await _0x4d3746[_0xdd288e(0x19b)](_0x5620c5);_0x5cac14['spec'][_0xdd288e(0x278)]=0x0;const _0x1ed84f={};_0x1ed84f[_0xdd288e(0x26e)]=TURBOSCALE_DEPLOYMENT,_0x1ed84f[_0xdd288e(0x187)]=_0x3ef2d4,_0x1ed84f['body']=_0x5cac14,await _0x4d3746[_0xdd288e(0x26a)](_0x1ed84f),logger['info'](_0x57473e[_0xdd288e(0x223)]);};